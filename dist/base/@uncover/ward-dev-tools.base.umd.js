(function(_e){typeof define=="function"&&define.amd?define(_e):_e()})(function(){"use strict";var _h=Object.defineProperty;var pl=_e=>{throw TypeError(_e)};var yh=(_e,ge,we)=>ge in _e?_h(_e,ge,{enumerable:!0,configurable:!0,writable:!0,value:we}):_e[ge]=we;var at=(_e,ge,we)=>yh(_e,typeof ge!="symbol"?ge+"":ge,we),vl=(_e,ge,we)=>ge.has(_e)||pl("Cannot "+we);var ke=(_e,ge,we)=>(vl(_e,ge,"read from private field"),we?we.call(_e):ge.get(_e)),ja=(_e,ge,we)=>ge.has(_e)?pl("Cannot add the same private member more than once"):ge instanceof WeakSet?ge.add(_e):ge.set(_e,we),Ma=(_e,ge,we,$n)=>(vl(_e,ge,"write to private field"),$n?$n.call(_e,we):ge.set(_e,we),we);var fl,Ct,Je;const _e="5";typeof window<"u"&&((fl=window.__svelte??(window.__svelte={})).v??(fl.v=new Set)).add(_e);let ge=!1,we=!1;function $n(){ge=!0}$n();const gl=1,_l=2,yl=16,Pl=2,wl=1,bl=2,Ci="[",Ai="[!",Li="]",Dr={},Ie=Symbol(),$l="http://www.w3.org/1999/xhtml",Na=!1,st=2,Ia=4,En=8,qi=16,vt=32,Zt=64,Sn=128,We=256,Dn=512,Ce=1024,gt=2048,xt=4096,_t=8192,On=16384,El=32768,ki=65536,Sl=1<<17,Dl=1<<19,Ca=1<<20,Ui=1<<21,er=Symbol("$state"),Aa=Symbol("legacy props"),Ol=Symbol("");var Fi=Array.isArray,Tl=Array.prototype.indexOf,Wi=Array.from,Tn=Object.keys,Or=Object.defineProperty,tr=Object.getOwnPropertyDescriptor,La=Object.getOwnPropertyDescriptors,Rl=Object.prototype,jl=Array.prototype,Vi=Object.getPrototypeOf,qa=Object.isExtensible;const fr=()=>{};function Ml(e){return e()}function Rn(e){for(var t=0;t<e.length;t++)e[t]()}let Tr=[],Gi=[];function ka(){var e=Tr;Tr=[],Rn(e)}function Nl(){var e=Gi;Gi=[],Rn(e)}function Hi(e){Tr.length===0&&queueMicrotask(ka),Tr.push(e)}function Ua(){Tr.length>0&&ka(),Gi.length>0&&Nl()}function Fa(e){return e===this.v}function Wa(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Va(e){return!Wa(e,this.v)}function Il(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Cl(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Al(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ll(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ql(){throw new Error("https://svelte.dev/e/hydration_failed")}function kl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Ul(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Fl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function hr(e,t){if(typeof e!="object"||e===null||er in e)return e;const r=Vi(e);if(r!==Rl&&r!==jl)return e;var i=new Map,s=Fi(e),n=At(0),a=he,u=o=>{var c=he;Ge(a);var f;return f=o(),Ge(c),f};return s&&i.set("length",At(e.length)),new Proxy(e,{defineProperty(o,c,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&kl();var h=i.get(c);return h===void 0?(h=u(()=>At(f.value)),i.set(c,h)):x(h,u(()=>hr(f.value))),!0},deleteProperty(o,c){var f=i.get(c);if(f===void 0)c in o&&i.set(c,u(()=>At(Ie)));else{if(s&&typeof c=="string"){var h=i.get("length"),d=Number(c);Number.isInteger(d)&&d<h.v&&x(h,d)}x(f,Ie),Ga(n)}return!0},get(o,c,f){var P;if(c===er)return e;var h=i.get(c),d=c in o;if(h===void 0&&(!d||(P=tr(o,c))!=null&&P.writable)&&(h=u(()=>At(hr(d?o[c]:Ie))),i.set(c,h)),h!==void 0){var g=R(h);return g===Ie?void 0:g}return Reflect.get(o,c,f)},getOwnPropertyDescriptor(o,c){var f=Reflect.getOwnPropertyDescriptor(o,c);if(f&&"value"in f){var h=i.get(c);h&&(f.value=R(h))}else if(f===void 0){var d=i.get(c),g=d==null?void 0:d.v;if(d!==void 0&&g!==Ie)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return f},has(o,c){var g;if(c===er)return!0;var f=i.get(c),h=f!==void 0&&f.v!==Ie||Reflect.has(o,c);if(f!==void 0||me!==null&&(!h||(g=tr(o,c))!=null&&g.writable)){f===void 0&&(f=u(()=>At(h?hr(o[c]):Ie)),i.set(c,f));var d=R(f);if(d===Ie)return!1}return h},set(o,c,f,h){var p;var d=i.get(c),g=c in o;if(s&&c==="length")for(var P=f;P<d.v;P+=1){var _=i.get(P+"");_!==void 0?x(_,Ie):P in o&&(_=u(()=>At(Ie)),i.set(P+"",_))}d===void 0?(!g||(p=tr(o,c))!=null&&p.writable)&&(d=u(()=>At(void 0)),x(d,u(()=>hr(f))),i.set(c,d)):(g=d.v!==Ie,x(d,u(()=>hr(f))));var m=Reflect.getOwnPropertyDescriptor(o,c);if(m!=null&&m.set&&m.set.call(h,f),!g){if(s&&typeof c=="string"){var v=i.get("length"),l=Number(c);Number.isInteger(l)&&l>=v.v&&x(v,l+1)}Ga(n)}return!0},ownKeys(o){R(n);var c=Reflect.ownKeys(o).filter(d=>{var g=i.get(d);return g===void 0||g.v!==Ie});for(var[f,h]of i)h.v!==Ie&&!(f in o)&&c.push(f);return c},setPrototypeOf(){Ul()}})}function Ga(e,t=1){x(e,e.v+t)}const Rr=new Map;function jr(e,t){var r={f:0,v:e,reactions:null,equals:Fa,rv:0,wv:0};return r}function At(e,t){const r=jr(e);return Hl(r),r}function ne(e,t=!1){var i;const r=jr(e);return t||(r.equals=Va),ge&&ye!==null&&ye.l!==null&&((i=ye.l).s??(i.s=[])).push(r),r}function zi(e,t){return x(e,ir(()=>R(e))),t}function x(e,t,r=!1){he!==null&&!ot&&Wn()&&(he.f&(st|qi))!==0&&!(Oe!=null&&Oe.includes(e))&&Fl();let i=r?hr(t):t;return Ha(e,i)}function Ha(e,t){if(!e.equals(t)){var r=e.v;Mr?Rr.set(e,t):Rr.set(e,r),e.v=t,e.wv=ts(),za(e,gt),Wn()&&me!==null&&(me.f&Ce)!==0&&(me.f&(vt|Zt))===0&&(He===null?zl([e]):He.push(e))}return t}function za(e,t){var r=e.reactions;if(r!==null)for(var i=Wn(),s=r.length,n=0;n<s;n++){var a=r[n],u=a.f;(u&gt)===0&&(!i&&a===me||(Ze(a,t),(u&(Ce|We))!==0&&((u&st)!==0?za(a,xt):kn(a))))}}function Ki(e){var t=st|gt,r=he!==null&&(he.f&st)!==0?he:null;return me===null||r!==null&&(r.f&We)!==0?t|=We:me.f|=Ca,{ctx:ye,deps:null,effects:null,equals:Fa,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??me}}function Ve(e){const t=Ki(e);return t.equals=Va,t}function Ka(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Pt(t[r])}}function Wl(e){for(var t=e.parent;t!==null;){if((t.f&st)===0)return t;t=t.parent}return null}function Vl(e){var t,r=me;ut(Wl(e));try{Ka(e),t=ns(e)}finally{ut(r)}return t}function Ba(e){var t=Vl(e),r=(kt||(e.f&We)!==0)&&e.deps!==null?xt:Ce;Ze(e,r),e.equals(t)||(e.v=t,e.wv=ts())}function Bi(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let pe=!1;function Xe(e){pe=e}let Pe;function Qe(e){if(e===null)throw Bi(),Dr;return Pe=e}function jn(){return Qe(Lt(Pe))}function k(e){if(pe){if(Lt(Pe)!==null)throw Bi(),Dr;Pe=e}}function Ji(){for(var e=0,t=Pe;;){if(t.nodeType===8){var r=t.data;if(r===Li){if(e===0)return t;e-=1}else(r===Ci||r===Ai)&&(e+=1)}var i=Lt(t);t.remove(),t=i}}var Ja,Ya,Xa,Qa;function Yi(){if(Ja===void 0){Ja=window,Ya=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;Xa=tr(t,"firstChild").get,Qa=tr(t,"nextSibling").get,qa(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),qa(r)&&(r.__t=void 0)}}function mr(e=""){return document.createTextNode(e)}function rr(e){return Xa.call(e)}function Lt(e){return Qa.call(e)}function W(e,t){if(!pe)return rr(e);var r=rr(Pe);if(r===null)r=Pe.appendChild(mr());else if(t&&r.nodeType!==3){var i=mr();return r==null||r.before(i),Qe(i),i}return Qe(r),r}function qt(e,t){if(!pe){var r=rr(e);return r instanceof Comment&&r.data===""?Lt(r):r}return Pe}function z(e,t=1,r=!1){let i=pe?Pe:e;for(var s;t--;)s=i,i=Lt(i);if(!pe)return i;var n=i==null?void 0:i.nodeType;if(r&&n!==3){var a=mr();return i===null?s==null||s.after(a):i.before(a),Qe(a),a}return Qe(i),i}function Za(e){e.textContent=""}let Mn=!1,Nn=!1,In=null,nr=!1,Mr=!1;function xa(e){Mr=e}let Nr=[],Ph=[],he=null,ot=!1;function Ge(e){he=e}let me=null;function ut(e){me=e}let Oe=null;function Gl(e){Oe=e}function Hl(e){he!==null&&he.f&Ui&&(Oe===null?Gl([e]):Oe.push(e))}let Te=null,Ue=0,He=null;function zl(e){He=e}let es=1,Cn=0,kt=!1;function ts(){return++es}function pr(e){var h;var t=e.f;if((t&gt)!==0)return!0;if((t&xt)!==0){var r=e.deps,i=(t&We)!==0;if(r!==null){var s,n,a=(t&Dn)!==0,u=i&&me!==null&&!kt,o=r.length;if(a||u){var c=e,f=c.parent;for(s=0;s<o;s++)n=r[s],(a||!((h=n==null?void 0:n.reactions)!=null&&h.includes(c)))&&(n.reactions??(n.reactions=[])).push(c);a&&(c.f^=Dn),u&&f!==null&&(f.f&We)===0&&(c.f^=We)}for(s=0;s<o;s++)if(n=r[s],pr(n)&&Ba(n),n.wv>e.wv)return!0}(!i||me!==null&&!kt)&&Ze(e,Ce)}return!1}function Kl(e,t){for(var r=t;r!==null;){if((r.f&Sn)!==0)try{r.fn(e);return}catch{r.f^=Sn}r=r.parent}throw Mn=!1,e}function Bl(e){return(e.f&On)===0&&(e.parent===null||(e.parent.f&Sn)===0)}function An(e,t,r,i){if(Mn){if(r===null&&(Mn=!1),Bl(t))throw e;return}r!==null&&(Mn=!0);{Kl(e,t);return}}function rs(e,t,r=!0){var i=e.reactions;if(i!==null)for(var s=0;s<i.length;s++){var n=i[s];Oe!=null&&Oe.includes(e)||((n.f&st)!==0?rs(n,t,!1):t===n&&(r?Ze(n,gt):(n.f&Ce)!==0&&Ze(n,xt),kn(n)))}}function ns(e){var g;var t=Te,r=Ue,i=He,s=he,n=kt,a=Oe,u=ye,o=ot,c=e.f;Te=null,Ue=0,He=null,kt=(c&We)!==0&&(ot||!nr||he===null),he=(c&(vt|Zt))===0?e:null,Oe=null,fs(e.ctx),ot=!1,Cn++,e.f|=Ui;try{var f=(0,e.fn)(),h=e.deps;if(Te!==null){var d;if(Ln(e,Ue),h!==null&&Ue>0)for(h.length=Ue+Te.length,d=0;d<Te.length;d++)h[Ue+d]=Te[d];else e.deps=h=Te;if(!kt)for(d=Ue;d<h.length;d++)((g=h[d]).reactions??(g.reactions=[])).push(e)}else h!==null&&Ue<h.length&&(Ln(e,Ue),h.length=Ue);if(Wn()&&He!==null&&!ot&&h!==null&&(e.f&(st|xt|gt))===0)for(d=0;d<He.length;d++)rs(He[d],e);return s!==null&&(Cn++,He!==null&&(i===null?i=He:i.push(...He))),f}finally{Te=t,Ue=r,He=i,he=s,kt=n,Oe=a,fs(u),ot=o,e.f^=Ui}}function Jl(e,t){let r=t.reactions;if(r!==null){var i=Tl.call(r,e);if(i!==-1){var s=r.length-1;s===0?r=t.reactions=null:(r[i]=r[s],r.pop())}}r===null&&(t.f&st)!==0&&(Te===null||!Te.includes(t))&&(Ze(t,xt),(t.f&(We|Dn))===0&&(t.f^=Dn),Ka(t),Ln(t,0))}function Ln(e,t){var r=e.deps;if(r!==null)for(var i=t;i<r.length;i++)Jl(e,r[i])}function qn(e){var t=e.f;if((t&On)===0){Ze(e,Ce);var r=me,i=ye,s=nr;me=e,nr=!0;try{(t&qi)!==0?ic(e):os(e),ss(e);var n=ns(e);e.teardown=typeof n=="function"?n:null,e.wv=es;var a=e.deps,u;Na&&we&&e.f&gt}catch(o){An(o,e,r,i||e.ctx)}finally{nr=s,me=r}}}function Yl(){try{Ll()}catch(e){if(In!==null)An(e,In,null);else throw e}}function is(){var e=nr;try{var t=0;for(nr=!0;Nr.length>0;){t++>1e3&&Yl();var r=Nr,i=r.length;Nr=[];for(var s=0;s<i;s++){var n=Ql(r[s]);Xl(n)}}}finally{Nn=!1,nr=e,In=null,Rr.clear()}}function Xl(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var i=e[r];if((i.f&(On|_t))===0)try{pr(i)&&(qn(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?us(i):i.fn=null))}catch(s){An(s,i,null,i.ctx)}}}function kn(e){Nn||(Nn=!0,queueMicrotask(is));for(var t=In=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(Zt|vt))!==0){if((r&Ce)===0)return;t.f^=Ce}}Nr.push(t)}function Ql(e){for(var t=[],r=e;r!==null;){var i=r.f,s=(i&(vt|Zt))!==0,n=s&&(i&Ce)!==0;if(!n&&(i&_t)===0){if((i&Ia)!==0)t.push(r);else if(s)r.f^=Ce;else{var a=he;try{he=r,pr(r)&&qn(r)}catch(c){An(c,r,null,r.ctx)}finally{he=a}}var u=r.first;if(u!==null){r=u;continue}}var o=r.parent;for(r=r.next;r===null&&o!==null;)r=o.next,o=o.parent}return t}function Zl(e){var t;for(Ua();Nr.length>0;)Nn=!0,is(),Ua();return t}function R(e){var t=e.f,r=(t&st)!==0;if(he!==null&&!ot){if(!(Oe!=null&&Oe.includes(e))){var i=he.deps;e.rv<Cn&&(e.rv=Cn,Te===null&&i!==null&&i[Ue]===e?Ue++:Te===null?Te=[e]:(!kt||!Te.includes(e))&&Te.push(e))}}else if(r&&e.deps===null&&e.effects===null){var s=e,n=s.parent;n!==null&&(n.f&We)===0&&(s.f^=We)}return r&&(s=e,pr(s)&&Ba(s)),Mr&&Rr.has(e)?Rr.get(e):e.v}function ir(e){var t=ot;try{return ot=!0,e()}finally{ot=t}}const xl=-7169;function Ze(e,t){e.f=e.f&xl|t}function ar(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(er in e)Xi(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&er in r&&Xi(r)}}}function Xi(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Xi(e[i],t)}catch{}const r=Vi(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const i=La(r);for(let s in i){const n=i[s].get;if(n)try{n.call(e)}catch{}}}}}function as(e){me===null&&he===null&&Al(),he!==null&&(he.f&We)!==0&&me===null&&Cl(),Mr&&Il()}function ec(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function sr(e,t,r,i=!0){var s=me,n={ctx:ye,deps:null,nodes_start:null,nodes_end:null,f:e|gt,first:null,fn:t,last:null,next:null,parent:s,prev:null,teardown:null,transitions:null,wv:0};if(r)try{qn(n),n.f|=El}catch(o){throw Pt(n),o}else t!==null&&kn(n);var a=r&&n.deps===null&&n.first===null&&n.nodes_start===null&&n.teardown===null&&(n.f&(Ca|Sn))===0;if(!a&&i&&(s!==null&&ec(n,s),he!==null&&(he.f&st)!==0)){var u=he;(u.effects??(u.effects=[])).push(n)}return n}function Qi(e){const t=sr(En,null,!1);return Ze(t,Ce),t.teardown=e,t}function Zi(e){as();var t=me!==null&&(me.f&vt)!==0&&ye!==null&&!ye.m;if(t){var r=ye;(r.e??(r.e=[])).push({fn:e,effect:me,reaction:he})}else{var i=xi(e);return i}}function tc(e){return as(),Ir(e)}function rc(e){const t=sr(Zt,e,!0);return()=>{Pt(t)}}function nc(e){const t=sr(Zt,e,!0);return(r={})=>new Promise(i=>{r.outro?Un(t,()=>{Pt(t),i(void 0)}):(Pt(t),i(void 0))})}function xi(e){return sr(Ia,e,!1)}function Ae(e,t){var r=ye,i={effect:null,ran:!1};r.l.r1.push(i),i.effect=Ir(()=>{e(),!i.ran&&(i.ran=!0,x(r.l.r2,!0),ir(t))})}function yt(){var e=ye;Ir(()=>{if(R(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&Ce)!==0&&Ze(r,xt),pr(r)&&qn(r),t.ran=!1}e.l.r2.v=!1}})}function Ir(e){return sr(En,e,!0)}function le(e,t=[],r=Ki){const i=t.map(r);return ea(()=>e(...i.map(R)))}function ea(e,t=0){return sr(En|qi|t,e,!0)}function Cr(e,t=!0){return sr(En|vt,e,!0,t)}function ss(e){var t=e.teardown;if(t!==null){const r=Mr,i=he;xa(!0),Ge(null);try{t.call(null)}finally{xa(r),Ge(i)}}}function os(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var i=r.next;(r.f&Zt)!==0?r.parent=null:Pt(r,t),r=i}}function ic(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&vt)===0&&Pt(t),t=r}}function Pt(e,t=!0){var r=!1;if((t||(e.f&Dl)!==0)&&e.nodes_start!==null){for(var i=e.nodes_start,s=e.nodes_end;i!==null;){var n=i===s?null:Lt(i);i.remove(),i=n}r=!0}os(e,t&&!r),Ln(e,0),Ze(e,On);var a=e.transitions;if(a!==null)for(const o of a)o.stop();ss(e);var u=e.parent;u!==null&&u.first!==null&&us(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function us(e){var t=e.parent,r=e.prev,i=e.next;r!==null&&(r.next=i),i!==null&&(i.prev=r),t!==null&&(t.first===e&&(t.first=i),t.last===e&&(t.last=r))}function Un(e,t){var r=[];ta(e,r,!0),ls(r,()=>{Pt(e),t&&t()})}function ls(e,t){var r=e.length;if(r>0){var i=()=>--r||t();for(var s of e)s.out(i)}else t()}function ta(e,t,r){if((e.f&_t)===0){if(e.f^=_t,e.transitions!==null)for(const a of e.transitions)(a.is_global||r)&&t.push(a);for(var i=e.first;i!==null;){var s=i.next,n=(i.f&ki)!==0||(i.f&vt)!==0;ta(i,t,n?r:!1),i=s}}}function Fn(e){cs(e,!0)}function cs(e,t){if((e.f&_t)!==0){e.f^=_t,(e.f&Ce)===0&&(e.f^=Ce),pr(e)&&(Ze(e,gt),kn(e));for(var r=e.first;r!==null;){var i=r.next,s=(r.f&ki)!==0||(r.f&vt)!==0;cs(r,s?t:!1),r=i}if(e.transitions!==null)for(const n of e.transitions)(n.is_global||t)&&n.in()}}function ds(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ye=null;function fs(e){ye=e}function ze(e,t=!1,r){var i=ye={p:ye,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ge&&!t&&(ye.l={s:null,u:null,r1:[],r2:jr(!1)}),Qi(()=>{i.d=!0})}function Ke(e){const t=ye;if(t!==null){const a=t.e;if(a!==null){var r=me,i=he;t.e=null;try{for(var s=0;s<a.length;s++){var n=a[s];ut(n.effect),Ge(n.reaction),xi(n.fn)}}finally{ut(r),Ge(i)}}ye=t.p,t.m=!0}return{}}function Wn(){return!ge||ye!==null&&ye.l===null}const ac=["touchstart","touchmove"];function sc(e){return ac.includes(e)}function oc(e){var t=he,r=me;Ge(null),ut(null);try{return e()}finally{Ge(t),ut(r)}}const uc=new Set,hs=new Set;function lc(e,t,r,i={}){function s(n){if(i.capture||Ar.call(t,n),!n.cancelBubble)return oc(()=>r==null?void 0:r.call(this,n))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Hi(()=>{t.addEventListener(e,s,i)}):t.addEventListener(e,s,i),s}function vr(e,t,r,i,s){var n={capture:i,passive:s},a=lc(e,t,r,n);(t===document.body||t===window||t===document)&&Qi(()=>{t.removeEventListener(e,a,n)})}function Ar(e){var l;var t=this,r=t.ownerDocument,i=e.type,s=((l=e.composedPath)==null?void 0:l.call(e))||[],n=s[0]||e.target,a=0,u=e.__root;if(u){var o=s.indexOf(u);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var c=s.indexOf(t);if(c===-1)return;o<=c&&(a=o)}if(n=s[a]||e.target,n!==t){Or(e,"currentTarget",{configurable:!0,get(){return n||r}});var f=he,h=me;Ge(null),ut(null);try{for(var d,g=[];n!==null;){var P=n.assignedSlot||n.parentNode||n.host||null;try{var _=n["__"+i];if(_!=null&&(!n.disabled||e.target===n))if(Fi(_)){var[m,...v]=_;m.apply(n,[e,...v])}else _.call(n,e)}catch(p){d?g.push(p):d=p}if(e.cancelBubble||P===t||P===null)break;n=P}if(d){for(let p of g)queueMicrotask(()=>{throw p});throw d}}finally{e.__root=t,delete e.currentTarget,Ge(f),ut(h)}}}function cc(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function gr(e,t){var r=me;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function ce(e,t){var r=(t&wl)!==0,i=(t&bl)!==0,s,n=!e.startsWith("<!>");return()=>{if(pe)return gr(Pe,null),Pe;s===void 0&&(s=cc(n?e:"<!>"+e),r||(s=rr(s)));var a=i||Ya?document.importNode(s,!0):s.cloneNode(!0);if(r){var u=rr(a),o=a.lastChild;gr(u,o)}else gr(a,a);return a}}function or(){if(pe)return gr(Pe,null),Pe;var e=document.createDocumentFragment(),t=document.createComment(""),r=mr();return e.append(t,r),gr(t,r),e}function re(e,t){if(pe){me.nodes_end=Pe,jn();return}e!==null&&e.before(t)}function te(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function ms(e,t){return ps(e,t)}function dc(e,t){Yi(),t.intro=t.intro??!1;const r=t.target,i=pe,s=Pe;try{for(var n=rr(r);n&&(n.nodeType!==8||n.data!==Ci);)n=Lt(n);if(!n)throw Dr;Xe(!0),Qe(n),jn();const a=ps(e,{...t,anchor:n});if(Pe===null||Pe.nodeType!==8||Pe.data!==Li)throw Bi(),Dr;return Xe(!1),a}catch(a){if(a===Dr)return t.recover===!1&&ql(),Yi(),Za(r),Xe(!1),ms(e,t);throw a}finally{Xe(i),Qe(s)}}const _r=new Map;function ps(e,{target:t,anchor:r,props:i={},events:s,context:n,intro:a=!0}){Yi();var u=new Set,o=h=>{for(var d=0;d<h.length;d++){var g=h[d];if(!u.has(g)){u.add(g);var P=sc(g);t.addEventListener(g,Ar,{passive:P});var _=_r.get(g);_===void 0?(document.addEventListener(g,Ar,{passive:P}),_r.set(g,1)):_r.set(g,_+1)}}};o(Wi(uc)),hs.add(o);var c=void 0,f=nc(()=>{var h=r??t.appendChild(mr());return Cr(()=>{if(n){ze({});var d=ye;d.c=n}s&&(i.$$events=s),pe&&gr(h,null),c=e(h,i)||{},pe&&(me.nodes_end=Pe),n&&Ke()}),()=>{var P;for(var d of u){t.removeEventListener(d,Ar);var g=_r.get(d);--g===0?(document.removeEventListener(d,Ar),_r.delete(d)):_r.set(d,g)}hs.delete(o),h!==r&&((P=h.parentNode)==null||P.removeChild(h))}});return ra.set(c,f),c}let ra=new WeakMap;function fc(e,t){const r=ra.get(e);return r?(ra.delete(e),r(t)):Promise.resolve()}function Re(e,t,[r,i]=[0,0]){pe&&r===0&&jn();var s=e,n=null,a=null,u=Ie,o=r>0?ki:0,c=!1;const f=(d,g=!0)=>{c=!0,h(g,d)},h=(d,g)=>{if(u===(u=d))return;let P=!1;if(pe&&i!==-1){if(r===0){const m=s.data;m===Ci?i=0:m===Ai?i=1/0:(i=parseInt(m.substring(1)),i!==i&&(i=u?1/0:-1))}const _=i>r;!!u===_&&(s=Ji(),Qe(s),Xe(!1),P=!0,i=-1)}u?(n?Fn(n):g&&(n=Cr(()=>g(s))),a&&Un(a,()=>{a=null})):(a?Fn(a):g&&(a=Cr(()=>g(s,[r+1,i]))),n&&Un(n,()=>{n=null})),P&&Xe(!0)};ea(()=>{c=!1,t(f),c||h(null,null)},o),pe&&(s=Pe)}function je(e,t){return t}function hc(e,t,r,i){for(var s=[],n=t.length,a=0;a<n;a++)ta(t[a].e,s,!0);var u=n>0&&s.length===0&&r!==null;if(u){var o=r.parentNode;Za(o),o.append(r),i.clear(),Ut(e,t[0].prev,t[n-1].next)}ls(s,()=>{for(var c=0;c<n;c++){var f=t[c];u||(i.delete(f.k),Ut(e,f.prev,f.next)),Pt(f.e,!u)}})}function Me(e,t,r,i,s,n=null){var a=e,u={flags:t,items:new Map,first:null};{var o=e;a=pe?Qe(rr(o)):o.appendChild(mr())}pe&&jn();var c=null,f=!1,h=Ve(()=>{var d=r();return Fi(d)?d:d==null?[]:Wi(d)});ea(()=>{var d=R(h),g=d.length;if(f&&g===0)return;f=g===0;let P=!1;if(pe){var _=a.data===Ai;_!==(g===0)&&(a=Ji(),Qe(a),Xe(!1),P=!0)}if(pe){for(var m=null,v,l=0;l<g;l++){if(Pe.nodeType===8&&Pe.data===Li){a=Pe,P=!0,Xe(!1);break}var p=d[l],y=i(p,l);v=vs(Pe,u,m,null,p,y,l,s,t,r),u.items.set(y,v),m=v}g>0&&Qe(Ji())}pe||mc(d,u,a,s,t,i,r),n!==null&&(g===0?c?Fn(c):c=Cr(()=>n(a)):c!==null&&Un(c,()=>{c=null})),P&&Xe(!0),R(h)}),pe&&(a=Pe)}function mc(e,t,r,i,s,n,a){var u=e.length,o=t.items,c=t.first,f=c,h,d=null,g=[],P=[],_,m,v,l;for(l=0;l<u;l+=1){if(_=e[l],m=n(_,l),v=o.get(m),v===void 0){var p=f?f.e.nodes_start:r;d=vs(p,t,d,d===null?t.first:d.next,_,m,l,i,s,a),o.set(m,d),g=[],P=[],f=d.next;continue}if(pc(v,_,l),(v.e.f&_t)!==0&&Fn(v.e),v!==f){if(h!==void 0&&h.has(v)){if(g.length<P.length){var y=P[0],w;d=y.prev;var b=g[0],E=g[g.length-1];for(w=0;w<g.length;w+=1)gs(g[w],y,r);for(w=0;w<P.length;w+=1)h.delete(P[w]);Ut(t,b.prev,E.next),Ut(t,d,b),Ut(t,E,y),f=y,d=E,l-=1,g=[],P=[]}else h.delete(v),gs(v,f,r),Ut(t,v.prev,v.next),Ut(t,v,d===null?t.first:d.next),Ut(t,d,v),d=v;continue}for(g=[],P=[];f!==null&&f.k!==m;)(f.e.f&_t)===0&&(h??(h=new Set)).add(f),P.push(f),f=f.next;if(f===null)continue;v=f}g.push(v),d=v,f=v.next}if(f!==null||h!==void 0){for(var S=h===void 0?[]:Wi(h);f!==null;)(f.e.f&_t)===0&&S.push(f),f=f.next;var O=S.length;if(O>0){var C=u===0?r:null;hc(t,S,C,o)}}me.first=t.first&&t.first.e,me.last=d&&d.e}function pc(e,t,r,i){Ha(e.v,t),e.i=r}function vs(e,t,r,i,s,n,a,u,o,c){var f=(o&gl)!==0,h=(o&yl)===0,d=f?h?ne(s):jr(s):s,g=(o&_l)===0?a:jr(a),P={i:g,v:d,k:n,a:null,e:null,prev:r,next:i};try{return P.e=Cr(()=>u(e,d,g,c),pe),P.e.prev=r&&r.e,P.e.next=i&&i.e,r===null?t.first=P:(r.next=P,r.e.next=P.e),i!==null&&(i.prev=P,i.e.prev=P.e),P}finally{}}function gs(e,t,r){for(var i=e.next?e.next.e.nodes_start:r,s=t?t.e.nodes_start:r,n=e.e.nodes_start;n!==i;){var a=Lt(n);s.before(n),n=a}}function Ut(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function _s(e,t){Hi(()=>{var r=e.getRootNode(),i=r.host?r:r.head??r.ownerDocument.head;if(!i.querySelector("#"+t.hash)){const s=document.createElement("style");s.id=t.hash,s.textContent=t.code,i.appendChild(s)}})}function vc(e,t,r){var i=e==null?"":""+e;return i===""?null:i}function gc(e,t){return e==null?null:String(e)}function na(e,t,r,i,s,n){var a=e.__className;if(pe||a!==r||a===void 0){var u=vc(r);(!pe||u!==e.getAttribute("class"))&&(u==null?e.removeAttribute("class"):e.className=u),e.__className=r}return n}function be(e,t,r,i){var s=e.__style;if(pe||s!==t){var n=gc(t);(!pe||n!==e.getAttribute("style"))&&(n==null?e.removeAttribute("style"):e.style.cssText=n),e.__style=t}return i}const _c=Symbol("is custom element"),yc=Symbol("is html");function Pc(e,t,r,i){var s=wc(e);pe&&(s[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||s[t]!==(s[t]=r)&&(t==="loading"&&(e[Ol]=r),r==null?e.removeAttribute(t):typeof r!="string"&&ys(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function K(e,t,r){var i=he,s=me;let n=pe;pe&&Xe(!1),Ge(null),ut(null);try{t!=="style"&&(ia.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?ys(e).includes(t):r&&typeof r=="object")?e[t]=r:Pc(e,t,r==null?r:String(r))}finally{Ge(i),ut(s),n&&Xe(!0)}}function wc(e){return e.__attributes??(e.__attributes={[_c]:e.nodeName.includes("-"),[yc]:e.namespaceURI===$l})}var ia=new Map;function ys(e){var t=ia.get(e.nodeName);if(t)return t;ia.set(e.nodeName,t=[]);for(var r,i=e,s=Element.prototype;s!==i;){r=La(i);for(var n in r)r[n].set&&t.push(n);i=Vi(i)}return t}function Ps(e,t){return e===t||(e==null?void 0:e[er])===t}function lt(e={},t,r,i){return xi(()=>{var s,n;return Ir(()=>{s=n,n=[],ir(()=>{e!==r(...n)&&(t(e,...n),s&&Ps(r(...s),e)&&t(null,...s))})}),()=>{Hi(()=>{n&&Ps(r(...n),e)&&t(null,...n)})}}),e}function xe(e=!1){const t=ye,r=t.l.u;if(!r)return;let i=()=>ar(t.s);if(e){let s=0,n={};const a=Ki(()=>{let u=!1;const o=t.s;for(const c in o)o[c]!==n[c]&&(n[c]=o[c],u=!0);return u&&s++,s});i=()=>R(a)}r.b.length&&tc(()=>{ws(t,i),Rn(r.b)}),Zi(()=>{const s=ir(()=>r.m.map(Ml));return()=>{for(const n of s)typeof n=="function"&&n()}}),r.a.length&&Zi(()=>{ws(t,i),Rn(r.a)})}function ws(e,t){if(e.l.s)for(const r of e.l.s)R(r);t()}function yr(e){ye===null&&ds(),ge&&ye.l!==null?bc(ye).m.push(e):Zi(()=>{const t=ir(e);if(typeof t=="function")return t})}function Lr(e){ye===null&&ds(),yr(()=>()=>ir(e))}function bc(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function bs(e,t,r){if(e==null)return t(void 0),fr;const i=ir(()=>e.subscribe(t,r));return i.unsubscribe?()=>i.unsubscribe():i}const Pr=[];function $s(e,t=fr){let r=null;const i=new Set;function s(u){if(Wa(e,u)&&(e=u,r)){const o=!Pr.length;for(const c of i)c[1](),Pr.push(c,e);if(o){for(let c=0;c<Pr.length;c+=2)Pr[c][0](Pr[c+1]);Pr.length=0}}}function n(u){s(u(e))}function a(u,o=fr){const c=[u,o];return i.add(c),i.size===1&&(r=t(s,n)||fr),u(e),()=>{i.delete(c),i.size===0&&r&&(r(),r=null)}}return{set:s,update:n,subscribe:a}}function $c(e){let t;return bs(e,r=>t=r)(),t}let Vn=!1,aa=Symbol();function wt(e,t,r){const i=r[t]??(r[t]={store:null,source:ne(void 0),unsubscribe:fr});if(i.store!==e&&!(aa in r))if(i.unsubscribe(),i.store=e??null,e==null)i.source.v=void 0,i.unsubscribe=fr;else{var s=!0;i.unsubscribe=bs(e,n=>{s?i.source.v=n:x(i.source,n)}),s=!1}return e&&aa in r?$c(e):R(i.source)}function bt(){const e={};function t(){Qi(()=>{for(var r in e)e[r].unsubscribe();Or(e,aa,{enumerable:!1,value:!0})})}return[e,t]}function Ec(e){var t=Vn;try{return Vn=!1,[e(),Vn]}finally{Vn=t}}function wr(e,t,r,i){var g;var s=!ge||(r&Pl)!==0,n=!1,a;[a,n]=Ec(()=>e[t]);var u=er in e||Aa in e;((g=tr(e,t))==null?void 0:g.set)??(u&&t in e);var o=i,c=!0,f=()=>(c&&(c=!1,o=i),o),h;if(s)h=()=>{var P=e[t];return P===void 0?f():(c=!0,P)};else{var d=Ve(()=>e[t]);d.f|=Sl,h=()=>{var P=R(d);return P!==void 0&&(o=void 0),P===void 0?o:P}}return h}function Sc(e){return new Dc(e)}class Dc{constructor(t){ja(this,Ct);ja(this,Je);var n;var r=new Map,i=(a,u)=>{var o=ne(u);return r.set(a,o),o};const s=new Proxy({...t.props||{},$$events:{}},{get(a,u){return R(r.get(u)??i(u,Reflect.get(a,u)))},has(a,u){return u===Aa?!0:(R(r.get(u)??i(u,Reflect.get(a,u))),Reflect.has(a,u))},set(a,u,o){return x(r.get(u)??i(u,o),o),Reflect.set(a,u,o)}});Ma(this,Je,(t.hydrate?dc:ms)(t.component,{target:t.target,anchor:t.anchor,props:s,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((n=t==null?void 0:t.props)!=null&&n.$$host)||t.sync===!1)&&Zl(),Ma(this,Ct,s.$$events);for(const a of Object.keys(ke(this,Je)))a==="$set"||a==="$destroy"||a==="$on"||Or(this,a,{get(){return ke(this,Je)[a]},set(u){ke(this,Je)[a]=u},enumerable:!0});ke(this,Je).$set=a=>{Object.assign(s,a)},ke(this,Je).$destroy=()=>{fc(ke(this,Je))}}$set(t){ke(this,Je).$set(t)}$on(t,r){ke(this,Ct)[t]=ke(this,Ct)[t]||[];const i=(...s)=>r.call(this,...s);return ke(this,Ct)[t].push(i),()=>{ke(this,Ct)[t]=ke(this,Ct)[t].filter(s=>s!==i)}}$destroy(){ke(this,Je).$destroy()}}Ct=new WeakMap,Je=new WeakMap;let Es;typeof HTMLElement=="function"&&(Es=class extends HTMLElement{constructor(t,r,i){super();at(this,"$$ctor");at(this,"$$s");at(this,"$$c");at(this,"$$cn",!1);at(this,"$$d",{});at(this,"$$r",!1);at(this,"$$p_d",{});at(this,"$$l",{});at(this,"$$l_u",new Map);at(this,"$$me");this.$$ctor=t,this.$$s=r,i&&this.attachShadow({mode:"open"})}addEventListener(t,r,i){if(this.$$l[t]=this.$$l[t]||[],this.$$l[t].push(r),this.$$c){const s=this.$$c.$on(t,r);this.$$l_u.set(r,s)}super.addEventListener(t,r,i)}removeEventListener(t,r,i){if(super.removeEventListener(t,r,i),this.$$c){const s=this.$$l_u.get(r);s&&(s(),this.$$l_u.delete(r))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(s){return n=>{const a=document.createElement("slot");s!=="default"&&(a.name=s),re(n,a)}};if(await Promise.resolve(),!this.$$cn||this.$$c)return;const r={},i=Oc(this);for(const s of this.$$s)s in i&&(s==="default"&&!this.$$d.children?(this.$$d.children=t(s),r.default=!0):r[s]=t(s));for(const s of this.attributes){const n=this.$$g_p(s.name);n in this.$$d||(this.$$d[n]=Gn(n,s.value,this.$$p_d,"toProp"))}for(const s in this.$$p_d)!(s in this.$$d)&&this[s]!==void 0&&(this.$$d[s]=this[s],delete this[s]);this.$$c=Sc({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=rc(()=>{Ir(()=>{var s;this.$$r=!0;for(const n of Tn(this.$$c)){if(!((s=this.$$p_d[n])!=null&&s.reflect))continue;this.$$d[n]=this.$$c[n];const a=Gn(n,this.$$d[n],this.$$p_d,"toAttribute");a==null?this.removeAttribute(this.$$p_d[n].attribute||n):this.setAttribute(this.$$p_d[n].attribute||n,a)}this.$$r=!1})});for(const s in this.$$l)for(const n of this.$$l[s]){const a=this.$$c.$on(s,n);this.$$l_u.set(n,a)}this.$$l={}}}attributeChangedCallback(t,r,i){var s;this.$$r||(t=this.$$g_p(t),this.$$d[t]=Gn(t,i,this.$$p_d,"toProp"),(s=this.$$c)==null||s.$set({[t]:this.$$d[t]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(t){return Tn(this.$$p_d).find(r=>this.$$p_d[r].attribute===t||!this.$$p_d[r].attribute&&r.toLowerCase()===t)||t}});function Gn(e,t,r,i){var n;const s=(n=r[e])==null?void 0:n.type;if(t=s==="Boolean"&&typeof t!="boolean"?t!=null:t,!i||!r[e])return t;if(i==="toAttribute")switch(s){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(s){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Oc(e){const t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}function Ss(e,t,r,i,s,n){let a=class extends Es{constructor(){super(e,r,s),this.$$p_d=t}static get observedAttributes(){return Tn(t).map(u=>(t[u].attribute||u).toLowerCase())}};return Tn(t).forEach(u=>{Or(a.prototype,u,{get(){return this.$$c&&u in this.$$c?this.$$c[u]:this.$$d[u]},set(o){var h;o=Gn(u,o,t),this.$$d[u]=o;var c=this.$$c;if(c){var f=(h=tr(c,u))==null?void 0:h.get;f?c[u]=o:c.$set({[u]:o})}}})}),i.forEach(u=>{Or(a.prototype,u,{get(){var o;return(o=this.$$c)==null?void 0:o[u]}})}),e.element=a,a}var Tc=ce('<span class="ui5-content-density-compact"><ui5-avatar></ui5-avatar> <ui5-dialog><ward-dev-tools-content></ward-dev-tools-content> <ui5-bar><ui5-button>Close</ui5-button></ui5-bar></ui5-dialog></span>',2);const Rc={hash:"svelte-19ox8wh",code:".ward-dev-tools-dialog.svelte-19ox8wh {width:90%;height:95%;}.ward-dev-tools-dialog.svelte-19ox8wh::part(content) {padding:0;overflow:hidden;}.ward-dev-tools-dialog.svelte-19ox8wh::part(footer) {padding:0;}"};function jc(e){_s(e,Rc);let t=ne(),r=ne();function i(){R(r).show(),setTimeout(()=>{zi(t,R(t).pressed=!1)},0)}function s(){R(r).close(),setTimeout(()=>{zi(t,R(t).pressed=!1),R(t).focus()},0)}var n=Tc(),a=W(n);na(a,1,"ward-dev-tools-button"),K(a,"part","ward-dev-tools-button"),K(a,"colorScheme","Accent7"),K(a,"color-scheme","Accent9"),K(a,"design","Emphasized"),K(a,"icon","world"),K(a,"interactive",!0),K(a,"size","XS"),lt(a,h=>x(t,h),()=>R(t));var u=z(a,2);na(u,1,"ward-dev-tools-dialog svelte-19ox8wh"),K(u,"data-ui5-compact-size",!0),K(u,"draggable",!0),K(u,"header-text",`Ward Dev Tools${window.uncover.wardVersion?` (${window.uncover.wardVersion})`:""}`),K(u,"resizable",!0);var o=W(u),c=z(o,2);K(c,"slot","footer");var f=W(c);K(f,"slot","endContent"),k(c),k(u),lt(u,h=>x(r,h),()=>R(r)),k(n),vr("click",a,i),vr("click",f,s),re(e,n)}customElements.define("ward-dev-tools",Ss(jc,{},[],[],!0));var $t={},sa={},qr={},Ds;function Mc(){return Ds||(Ds=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.Alphabet=void 0,qr.Alphabet={LETTERS:{A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z"}}),qr}var kr={},Os;function Nc(){if(Os)return kr;Os=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.ArrayUtils=void 0;var e=function(){function t(){}return t.createIntArray=function(r){r===void 0&&(r=0);for(var i=[],s=0;s<r;s++)i.push(s);return i},t.shuffle=function(r){r===void 0&&(r=[]);for(var i=r.slice(),s=[];i.length;){var n=Math.floor(Math.random()*i.length);s.push(i.splice(n,1)[0])}return s},t.randomSubArray=function(r,i){r===void 0&&(r=[]),i===void 0&&(i=0);for(var s=r.slice(),n=[],a=0;a<i;a++){var u=Math.floor(Math.random()*s.length);n.push(s.splice(u,1)[0])}return n},t.randomElement=function(r){if(r===void 0&&(r=[]),r.length){var i=Math.floor(Math.random()*r.length);return r[i]}return null},t.removeElement=function(r,i){var s=r.indexOf(i),n=r.slice();return s!==-1&&n.splice(s,1),n},t}();return kr.ArrayUtils=e,kr}var Ur={},Ts;function Rs(){return Ts||(Ts=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.DataStates=void 0,Ur.DataStates={NEVER:"NEVER",FETCHING_FIRST:"FETCHING_FIRST",FETCHING:"FETCHING",SUCCESS:"SUCCESS",FAILURE:"FAILURE",OUTDATED:"OUTDATED"}),Ur}var Fr={},js;function Ic(){if(js)return Fr;js=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.DataStatesUtils=void 0;var e=Rs(),t=function(){function r(){}return r.mergeDataStates=function(i){return i.length===0?e.DataStates.NEVER:i.some(function(s){return s===e.DataStates.FAILURE})?e.DataStates.FAILURE:i.some(function(s){return s===e.DataStates.OUTDATED})?e.DataStates.OUTDATED:i.some(function(s){return s===e.DataStates.NEVER})?e.DataStates.NEVER:i.some(function(s){return s===e.DataStates.FETCHING_FIRST})?e.DataStates.FETCHING_FIRST:i.some(function(s){return s===e.DataStates.FETCHING})?e.DataStates.FETCHING:e.DataStates.SUCCESS},r}();return Fr.DataStatesUtils=t,Fr}var Wr={},Ms;function Cc(){if(Ms)return Wr;Ms=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.DateUtils=void 0;var e=1e3,t=60,r=e*t,i=60,s=t*i,n=r*i,a=24,u=i*a,o=s*a,c=n*a,f=function(){function h(){}return h.durationToHumanTime=function(d){return{millis:d%e,seconds:Math.floor(d/e)%t,minutes:Math.floor(d/r)%i,hours:Math.floor(d/n)}},h.normalizeTime=function(d){return"".concat(d).padStart(2,"0")},h.dateString=function(d){var g=h.normalizeTime(d.getFullYear()),P=h.normalizeTime(d.getMonth()),_=h.normalizeTime(d.getDate()),m=h.normalizeTime(d.getHours()),v=h.normalizeTime(d.getMinutes()),l=h.normalizeTime(d.getSeconds());return"".concat(g,"-").concat(P,"-").concat(_," ").concat(m,":").concat(v,":").concat(l)},h.nowString=function(){return h.dateString(new Date(Date.now()))},h.TimeConstants={MIL_PER_SEC:e,SEC_PER_MIN:t,MIL_PER_MIN:r,MIN_PER_HOU:i,SEC_PER_HOU:s,MIL_PER_HOU:n,HOU_PER_DAY:a,MIN_PER_DAY:u,SEC_PER_DAY:o,MIL_PER_DAY:c},h}();return Wr.DateUtils=f,Wr}var Vr={},Ns;function Ac(){if(Ns)return Vr;Ns=1,Object.defineProperty(Vr,"__esModule",{value:!0}),Vr.DownloadUtils=void 0;var e=function(){function t(){}return t.downloadJson=function(r,i){var s=new Blob([JSON.stringify(i,null,2)],{type:"application/json"}),n=URL.createObjectURL(s),a=document.createElement("a");a.download=r,a.target="_blank",a.href=n,a.click(),URL.revokeObjectURL(n)},t}();return Vr.DownloadUtils=e,Vr}var Gr={},Is;function Lc(){if(Is)return Gr;Is=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.EncodeUtils=void 0;var e=function(){function t(){}return t.encode=function(r){return r===void 0&&(r=""),Buffer.from(r).toString("base64")},t.decode=function(r){return r===void 0&&(r=""),Buffer.from(r,"base64").toString()},t.encodeBasicHeader=function(r,i){r===void 0&&(r=""),i===void 0&&(i="");var s="".concat(r,":").concat(i),n=t.encode(s);return"Basic ".concat(n)},t.decodeBasicHeader=function(r){r===void 0&&(r="");var i=r.split("Basic ").join(""),s=t.decode(i),n=s.split(":");return n.length===2?{username:n[0],password:n[1]}:{username:null,password:null}},t}();return Gr.EncodeUtils=e,Gr}var Hr={},Cs;function qc(){if(Cs)return Hr;Cs=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.FileUtils=void 0;var e=function(){function t(){}return t.getExtention=function(r){var i=r.name;return i.substring(i.lastIndexOf(".")+1).toLowerCase()},t.checkExtention=function(r,i){return i.indexOf(t.getExtention(r))!==-1},t.checkSize=function(r,i){return r.size<=i},t}();return Hr.FileUtils=e,Hr}var zr={},As;function kc(){if(As)return zr;As=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.FunctionUtils=void 0;var e=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,t=/([^\s,]+)/g,r=function(){function i(){}return i.getParamNames=function(s){var n=s.toString().replace(e,""),a=n.slice(n.indexOf("(")+1,n.indexOf(")")).match(t);return a===null?[]:a},i}();return zr.FunctionUtils=r,zr}var Et={},Ls;function Uc(){return Ls||(Ls=1,Object.defineProperty(Et,"__esModule",{value:!0}),Et.HttpStatuses=Et.HttpMethods=Et.HttpHeaders=void 0,Et.HttpHeaders={ACCESS_CONTROL_ALLOW_ORIGIN:"Access-Control-Allow-Origin",ACCESS_CONTROL_ALLOW_HEADERS:"Access-Control-Allow-Headers",ACCESS_CONTROL_ALLOW_METHODS:"Access-Control-Allow-Methods"},Et.HttpMethods={GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",OPTIONS:"OPTIONS"},Et.HttpStatuses={OK:200,CREATED:201,REMOVED:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,ERROR:500}),Et}var Kr={},qs;function Fc(){if(qs)return Kr;qs=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.ObjectUtils=void 0;var e=function(){function t(){}return t.nil=function(r){return typeof r>"u"||r===null},t.getProperty=function(r,i){return i.split(".").reduce(function(s,n){if(s&&typeof s=="object")return s[n]},r)},t.clone=function(r){return JSON.parse(JSON.stringify(r))},t.arrayfy=function(r){return Array.isArray(r)?r:[r]},t}();return Kr.ObjectUtils=e,Kr}var Br={},ks;function Wc(){if(ks)return Br;ks=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.PromiseUtils=void 0;var e=0,t=function(){function r(){}return r.delayedPromise=function(i,s){return s===void 0&&(s=e),Promise.all([i,new Promise(function(n){return setTimeout(n,s)})]).then(function(n){return n[0]}).catch(function(n){throw n})},r}();return Br.PromiseUtils=t,Br}var Jr={},Us;function Vc(){if(Us)return Jr;Us=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.Sets=void 0;var e=function(){function t(){}return t.toSet=function(r){return r.reduce(function(i,s){return i.includes(s)||i.push(s),i},[])},t.add=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return i.forEach(function(n){r.includes(n)||r.push(n)}),r},t.remove=function(r){for(var i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];return i.forEach(function(n){var a=r.indexOf(n);a!==-1&&r.splice(a,1)}),r},t.merge=function(r,i){return t.toSet(r.concat(i))},t}();return Jr.Sets=e,Jr}var Yr={},Xr={},Fs;function Ws(){if(Fs)return Xr;Fs=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.StringUtils=void 0;var e=function(){function t(){}return t.capitalize=function(r){return r.length?r.substring(0,1).toUpperCase()+r.substring(1).toLowerCase():""},t.capitalizeFirst=function(r){return r.length?r.substring(0,1).toUpperCase():""},t.replaceAll=function(r,i,s){return r.split(i).join(s)},t.getIndent=function(r,i){i===void 0&&(i="  ");for(var s="",n=0;n<r;n++)s+=i;return s},t}();return Xr.StringUtils=e,Xr}var Vs;function Gc(){if(Vs)return Yr;Vs=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.StringLabel=void 0;var e=Ws(),t=function(){function r(i,s){s===void 0&&(s=" "),this._value=i,this._words=i.split(s).map(function(n){return n.toLowerCase()}).filter(function(n){return!!n})}return Object.defineProperty(r.prototype,"words",{get:function(){return this._words},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"camel",{get:function(){return this.words.map(function(i,s){return s===0?i:e.StringUtils.capitalize(i)}).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pascal",{get:function(){return this.words.map(function(i){return e.StringUtils.capitalize(i)}).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worm",{get:function(){return this.words.map(function(i){return i.toLowerCase()}).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"snake",{get:function(){return this.words.map(function(i){return e.StringUtils.capitalize(i)}).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"serpent",{get:function(){return this.words.map(function(i){return i.toUpperCase()}).join("_")},enumerable:!1,configurable:!0}),r}();return Yr.StringLabel=t,Yr}var Qr={},Gs;function Hc(){if(Gs)return Qr;Gs=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.UUID=void 0;var e=function(){function t(){}return t.next=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var i=Math.random()*16|0,s=r=="x"?i:i&3|8;return s.toString(16)})},t}();return Qr.UUID=e,Qr}var Hs;function Zr(){return Hs||(Hs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UUID=e.StringUtils=e.StringLabel=e.Sets=e.PromiseUtils=e.ObjectUtils=e.HttpStatuses=e.HttpMethods=e.HttpHeaders=e.FunctionUtils=e.FileUtils=e.EncodeUtils=e.DownloadUtils=e.DateUtils=e.DataStatesUtils=e.DataStates=e.ArrayUtils=e.Alphabet=void 0;var t=Mc();Object.defineProperty(e,"Alphabet",{enumerable:!0,get:function(){return t.Alphabet}});var r=Nc();Object.defineProperty(e,"ArrayUtils",{enumerable:!0,get:function(){return r.ArrayUtils}});var i=Rs();Object.defineProperty(e,"DataStates",{enumerable:!0,get:function(){return i.DataStates}});var s=Ic();Object.defineProperty(e,"DataStatesUtils",{enumerable:!0,get:function(){return s.DataStatesUtils}});var n=Cc();Object.defineProperty(e,"DateUtils",{enumerable:!0,get:function(){return n.DateUtils}});var a=Ac();Object.defineProperty(e,"DownloadUtils",{enumerable:!0,get:function(){return a.DownloadUtils}});var u=Lc();Object.defineProperty(e,"EncodeUtils",{enumerable:!0,get:function(){return u.EncodeUtils}});var o=qc();Object.defineProperty(e,"FileUtils",{enumerable:!0,get:function(){return o.FileUtils}});var c=kc();Object.defineProperty(e,"FunctionUtils",{enumerable:!0,get:function(){return c.FunctionUtils}});var f=Uc();Object.defineProperty(e,"HttpHeaders",{enumerable:!0,get:function(){return f.HttpHeaders}}),Object.defineProperty(e,"HttpMethods",{enumerable:!0,get:function(){return f.HttpMethods}}),Object.defineProperty(e,"HttpStatuses",{enumerable:!0,get:function(){return f.HttpStatuses}});var h=Fc();Object.defineProperty(e,"ObjectUtils",{enumerable:!0,get:function(){return h.ObjectUtils}});var d=Wc();Object.defineProperty(e,"PromiseUtils",{enumerable:!0,get:function(){return d.PromiseUtils}});var g=Vc();Object.defineProperty(e,"Sets",{enumerable:!0,get:function(){return g.Sets}});var P=Gc();Object.defineProperty(e,"StringLabel",{enumerable:!0,get:function(){return P.StringLabel}});var _=Ws();Object.defineProperty(e,"StringUtils",{enumerable:!0,get:function(){return _.StringUtils}});var m=Hc();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return m.UUID}})}(sa)),sa}var Be={},oa={},et={},xr={},zs;function ua(){return zs||(zs=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.LogLevels=void 0,xr.LogLevels={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4}),xr}var Ks;function Bs(){if(Ks)return et;Ks=1;var e=et&&et.__classPrivateFieldSet||function(n,a,u,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?n!==a||!c:!a.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(n,u):c?c.value=u:a.set(n,u),u},t=et&&et.__classPrivateFieldGet||function(n,a,u,o){if(u==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?n!==a||!o:!a.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?o:u==="a"?o.call(n):o?o.value:a.get(n)},r;Object.defineProperty(et,"__esModule",{value:!0}),et.GlobalConfig=et.LogConfig=void 0;const i=ua();class s{constructor(a=i.LogLevels.ERROR){r.set(this,void 0),e(this,r,a,"f")}get level(){return t(this,r,"f")}off(){return e(this,r,i.LogLevels.OFF,"f"),this}debug(){return e(this,r,i.LogLevels.DEBUG,"f"),this}info(){return e(this,r,i.LogLevels.INFO,"f"),this}warn(){return e(this,r,i.LogLevels.WARN,"f"),this}error(){return e(this,r,i.LogLevels.ERROR,"f"),this}}return et.LogConfig=s,r=new WeakMap,et.GlobalConfig=new s().debug(),et}var St={},Js;function Ys(){if(Js)return St;Js=1;var e=St&&St.__classPrivateFieldSet||function(o,c,f,h,d){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?o!==c||!d:!c.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?d.call(o,f):d?d.value=f:c.set(o,f),f},t=St&&St.__classPrivateFieldGet||function(o,c,f,h){if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?o!==c||!h:!c.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?h:f==="a"?h.call(o):h?h.value:c.get(o)},r,i;Object.defineProperty(St,"__esModule",{value:!0}),St.Logger=void 0;const s=ua(),n=Bs();function a(o,c){return o.config.level<=c&&n.GlobalConfig.level<=c}class u{constructor(c="Logger",f=new n.LogConfig){r.set(this,void 0),i.set(this,void 0),e(this,r,c,"f"),e(this,i,f,"f")}get name(){return t(this,r,"f")}get config(){return t(this,i,"f")}get level(){return t(this,i,"f").level}message(c){return`${this.name} - ${c}`}debug(c){a(this,s.LogLevels.DEBUG)&&console.log(this.message(c))}info(c){a(this,s.LogLevels.INFO)&&console.log(this.message(c))}warn(c){a(this,s.LogLevels.WARN)&&console.warn(this.message(c))}error(c){a(this,s.LogLevels.ERROR)&&console.error(this.message(c))}}return St.Logger=u,r=new WeakMap,i=new WeakMap,St}var Xs;function en(){return Xs||(Xs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevels=e.GlobalConfig=e.LogConfig=void 0;var t=Bs();Object.defineProperty(e,"LogConfig",{enumerable:!0,get:function(){return t.LogConfig}}),Object.defineProperty(e,"GlobalConfig",{enumerable:!0,get:function(){return t.GlobalConfig}});var r=ua();Object.defineProperty(e,"LogLevels",{enumerable:!0,get:function(){return r.LogLevels}});var i=Ys();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return i.Logger}})}(oa)),oa}var ct={},dt={},Ft={},Qs;function zc(){if(Qs)return Ft;Qs=1;var e=Ft&&Ft.__classPrivateFieldSet||function(o,c,f,h,d){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?o!==c||!d:!c.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?d.call(o,f):d?d.value=f:c.set(o,f),f},t=Ft&&Ft.__classPrivateFieldGet||function(o,c,f,h){if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?o!==c||!h:!c.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?h:f==="a"?h.call(o):h?h.value:c.get(o)},r,i,s,n,a;Object.defineProperty(Ft,"__esModule",{value:!0});let u=class{constructor(c,f,h){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),e(this,r,c,"f"),e(this,a,!1,"f"),e(this,n,!0,"f");let d=f;d.endsWith("?")&&(e(this,n,!1,"f"),d=d.substring(0,d.length-1)),e(this,i,d,"f");let g=h;g.endsWith("[]")&&(e(this,a,!0,"f"),g=g.substring(0,g.length-2)),e(this,s,g,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,i,"f")}get type(){return t(this,s,"f")}get array(){return t(this,a,"f")}get mandatory(){return t(this,n,"f")}};return r=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,Ft.default=u,Ft}var ft={},Wt={},Zs;function Kc(){if(Zs)return Wt;Zs=1;var e=Wt&&Wt.__classPrivateFieldSet||function(n,a,u,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?n!==a||!c:!a.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(n,u):c?c.value=u:a.set(n,u),u},t=Wt&&Wt.__classPrivateFieldGet||function(n,a,u,o){if(u==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?n!==a||!o:!a.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?o:u==="a"?o.call(n):o?o.value:a.get(n)},r,i;Object.defineProperty(Wt,"__esModule",{value:!0});let s=class{constructor(a,u){r.set(this,void 0),i.set(this,void 0),e(this,r,a,"f"),e(this,i,u,"f")}get type(){return t(this,i,"f")}get name(){return t(this,r,"f")}};return r=new WeakMap,i=new WeakMap,Wt.default=s,Wt}var Vt={},xs;function Bc(){if(xs)return Vt;xs=1;var e=Vt&&Vt.__classPrivateFieldSet||function(s,n,a,u,o){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!o)throw new TypeError("Private accessor was defined without a setter");if(typeof n=="function"?s!==n||!o:!n.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?o.call(s,a):o?o.value=a:n.set(s,a),a},t=Vt&&Vt.__classPrivateFieldGet||function(s,n,a,u){if(a==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof n=="function"?s!==n||!u:!n.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return a==="m"?u:a==="a"?u.call(s):u?u.value:n.get(s)},r;Object.defineProperty(Vt,"__esModule",{value:!0});let i=class{constructor(n){r.set(this,void 0),e(this,r,n,"f")}get name(){return t(this,r,"f")}};return r=new WeakMap,Vt.default=i,Vt}var Gt={},eo;function Jc(){if(eo)return Gt;eo=1;var e=Gt&&Gt.__classPrivateFieldSet||function(n,a,u,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?n!==a||!c:!a.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(n,u):c?c.value=u:a.set(n,u),u},t=Gt&&Gt.__classPrivateFieldGet||function(n,a,u,o){if(u==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?n!==a||!o:!a.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?o:u==="a"?o.call(n):o?o.value:a.get(n)},r,i;Object.defineProperty(Gt,"__esModule",{value:!0});let s=class{constructor(a,u){r.set(this,void 0),i.set(this,void 0),e(this,r,a,"f"),e(this,i,u,"f")}get type(){return t(this,i,"f")}get name(){return t(this,r,"f")}};return r=new WeakMap,i=new WeakMap,Gt.default=s,Gt}var to;function Yc(){if(to)return ft;to=1;var e=ft&&ft.__classPrivateFieldSet||function(d,g,P,_,m){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?d!==g||!m:!g.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?m.call(d,P):m?m.value=P:g.set(d,P),P},t=ft&&ft.__classPrivateFieldGet||function(d,g,P,_){if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?d!==g||!_:!g.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?_:P==="a"?_.call(d):_?_.value:g.get(d)},r=ft&&ft.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},i,s,n,a,u;Object.defineProperty(ft,"__esModule",{value:!0});const o=r(Kc()),c=r(Bc()),f=r(Jc());let h=class{constructor(g,P,_){i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),u.set(this,void 0),e(this,i,g,"f"),e(this,s,P,"f");const m=_.attributes||{};e(this,n,Object.keys(m).map(p=>new o.default(p,String(m[p]))),"f");const v=_.properties||{};e(this,a,Object.keys(v).map(p=>new f.default(p,String(v[p]))),"f");const l=_.events||{};e(this,u,Object.keys(l).map(p=>new c.default(p)),"f")}get plugin(){return t(this,i,"f")}get name(){return t(this,s,"f")}get attributes(){return t(this,n,"f").slice()}get properties(){return t(this,a,"f").slice()}get events(){return t(this,u,"f").slice()}};return i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,ft.default=h,ft}var Ht={},ro;function Xc(){if(ro)return Ht;ro=1;var e=Ht&&Ht.__classPrivateFieldSet||function(o,c,f,h,d){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?o!==c||!d:!c.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?d.call(o,f):d?d.value=f:c.set(o,f),f},t=Ht&&Ht.__classPrivateFieldGet||function(o,c,f,h){if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?o!==c||!h:!c.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?h:f==="a"?h.call(o):h?h.value:c.get(o)},r,i,s,n,a;Object.defineProperty(Ht,"__esModule",{value:!0});let u=class{constructor(c,f,h){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),e(this,r,c,"f"),e(this,a,!1,"f"),e(this,n,!0,"f");let d=f;d.endsWith("?")&&(e(this,n,!1,"f"),d=d.substring(0,d.length-1)),e(this,i,d,"f");let g=h;g.endsWith("[]")&&(e(this,a,!0,"f"),g=g.substring(0,g.length-2)),e(this,s,g,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,i,"f")}get type(){return t(this,s,"f")}get array(){return t(this,a,"f")}get mandatory(){return t(this,n,"f")}};return r=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,Ht.default=u,Ht}var no;function Qc(){if(no)return dt;no=1;var e=dt&&dt.__classPrivateFieldSet||function(d,g,P,_,m){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?d!==g||!m:!g.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?m.call(d,P):m?m.value=P:g.set(d,P),P},t=dt&&dt.__classPrivateFieldGet||function(d,g,P,_){if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?d!==g||!_:!g.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?_:P==="a"?_.call(d):_?_.value:g.get(d)},r=dt&&dt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},i,s,n,a,u;Object.defineProperty(dt,"__esModule",{value:!0});const o=r(zc()),c=r(Yc()),f=r(Xc());let h=class{constructor(g,P,_){i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),u.set(this,void 0),e(this,i,g,"f"),e(this,s,`${g}/${P}`,"f");const m=_.properties||{};e(this,n,Object.keys(m).map(p=>{const y=m[p];return new f.default(g,p,y)}),"f");const v=_.attributes||{};e(this,a,Object.keys(v).map(p=>{const y=v[p];return new o.default(g,p,y)}),"f");const l=_.elements||{};e(this,u,Object.keys(l).map(p=>{const y=l[p];return new c.default(g,p,y)}),"f")}get plugin(){return t(this,i,"f")}get name(){return t(this,s,"f")}get properties(){return t(this,n,"f").slice()}getProperty(g){return this.properties.find(P=>P.name===g)}get attributes(){return t(this,a,"f").slice()}getAttribute(g){return this.attributes.find(P=>P.name===g)}get elements(){return t(this,u,"f").slice()}getElement(g){return this.elements.find(P=>P.name===g)}};return i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,dt.default=h,dt}var ht={},zt={},io;function Zc(){if(io)return zt;io=1;var e=zt&&zt.__classPrivateFieldSet||function(a,u,o,c,f){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?a!==u||!f:!u.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?f.call(a,o):f?f.value=o:u.set(a,o),o},t=zt&&zt.__classPrivateFieldGet||function(a,u,o,c){if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?a!==u||!c:!u.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?c:o==="a"?c.call(a):c?c.value:u.get(a)},r,i,s;Object.defineProperty(zt,"__esModule",{value:!0});let n=class{constructor(u,o,c){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),e(this,r,u,"f"),e(this,i,o,"f"),e(this,s,c,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,i,"f")}get value(){return t(this,s,"f")}};return r=new WeakMap,i=new WeakMap,s=new WeakMap,zt.default=n,zt}var Kt={},ao;function xc(){if(ao)return Kt;ao=1;var e=Kt&&Kt.__classPrivateFieldSet||function(o,c,f,h,d){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?o!==c||!d:!c.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?d.call(o,f):d?d.value=f:c.set(o,f),f},t=Kt&&Kt.__classPrivateFieldGet||function(o,c,f,h){if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?o!==c||!h:!c.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?h:f==="a"?h.call(o):h?h.value:c.get(o)},r,i,s,n,a;Object.defineProperty(Kt,"__esModule",{value:!0});let u=class{constructor(c,f,h){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),e(this,r,c,"f"),e(this,i,f,"f"),e(this,s,h.url,"f"),e(this,n,h.type,"f"),e(this,a,h.element,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,i,"f")}get url(){return t(this,s,"f")}get type(){return t(this,n,"f")}get element(){return t(this,a,"f")}};return r=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,Kt.default=u,Kt}var so;function ed(){if(so)return ht;so=1;var e=ht&&ht.__classPrivateFieldSet||function(h,d,g,P,_){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?h!==d||!_:!d.has(h))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?_.call(h,g):_?_.value=g:d.set(h,g),g},t=ht&&ht.__classPrivateFieldGet||function(h,d,g,P){if(g==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?h!==d||!P:!d.has(h))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?P:g==="a"?P.call(h):P?P.value:d.get(h)},r=ht&&ht.__importDefault||function(h){return h&&h.__esModule?h:{default:h}},i,s,n,a,u;Object.defineProperty(ht,"__esModule",{value:!0});const o=r(Zc()),c=r(xc());let f=class{constructor(d,g,P,_){i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),u.set(this,void 0),e(this,i,d,"f"),e(this,s,g,"f"),e(this,n,P,"f");const m=_.attributes||{};e(this,a,Object.keys(m).map(l=>{const p=m[l];return new o.default(d,l,p)}),"f");const v=_.elements||{};e(this,u,Object.keys(v).map(l=>{const p=v[l];return new c.default(d,l,p)}),"f")}get plugin(){return t(this,i,"f")}get define(){return t(this,s,"f")}get name(){return t(this,n,"f")}get attributes(){return t(this,a,"f").slice()}getAttribute(d){return this.attributes.find(g=>g.name===d)}get elements(){return t(this,u,"f").slice()}getElement(d){return this.elements.find(g=>g.name===d)}};return i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,ht.default=f,ht}var oo;function td(){if(oo)return ct;oo=1;var e=ct&&ct.__classPrivateFieldSet||function(d,g,P,_,m){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?d!==g||!m:!g.has(d))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?m.call(d,P):m?m.value=P:g.set(d,P),P},t=ct&&ct.__classPrivateFieldGet||function(d,g,P,_){if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?d!==g||!_:!g.has(d))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?_:P==="a"?_.call(d):_?_.value:g.get(d)},r=ct&&ct.__importDefault||function(d){return d&&d.__esModule?d:{default:d}},i,s,n,a,u,o;Object.defineProperty(ct,"__esModule",{value:!0});const c=r(Qc()),f=r(ed());let h=class{constructor(g,P){i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),u.set(this,void 0),o.set(this,void 0),e(this,i,g,"f"),e(this,s,P.name,"f"),e(this,n,P.url,"f"),e(this,a,P.dependencies||[],"f");const _=P.defines||{};e(this,u,Object.keys(_).map(v=>{const l=_[v];return new c.default(this.name,v,l)}),"f");const m=P.provides||{};e(this,o,Object.keys(m).reduce((v,l)=>{const p=m[l],y=Object.keys(p).map(w=>new f.default(this.name,l,w,p[w]),[]);return[...v,...y]},[]),"f")}get loadUrl(){return t(this,i,"f")}get name(){return t(this,s,"f")}get url(){return t(this,n,"f")}get dependencies(){return t(this,a,"f").slice()}get defines(){return t(this,u,"f").slice()}get provides(){return t(this,o,"f").slice()}};return i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,o=new WeakMap,ct.default=h,ct}var mt={},Bt={},uo;function rd(){if(uo)return Bt;uo=1;var e=Bt&&Bt.__classPrivateFieldSet||function(o,c,f,h,d){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?o!==c||!d:!c.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?d.call(o,f):d?d.value=f:c.set(o,f),f},t=Bt&&Bt.__classPrivateFieldGet||function(o,c,f,h){if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?o!==c||!h:!c.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?h:f==="a"?h.call(o):h?h.value:c.get(o)},r,i,s,n,a;Object.defineProperty(Bt,"__esModule",{value:!0});let u=class{constructor(c,f,h){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),e(this,r,f.name,"f"),e(this,i,f.type,"f"),e(this,s,f.mandatory,"f"),e(this,n,f.array,"f");const d=h.value;switch(t(this,i,"f")){case"url":{Array.isArray(d)?e(this,a,d.map(g=>`${c}${g}`),"f"):e(this,a,`${c}${d}`,"f");break}default:{e(this,a,d,"f");break}}}get name(){return t(this,r,"f")}get type(){return t(this,i,"f")}get mandatory(){return t(this,s,"f")}get array(){return t(this,n,"f")}get value(){return t(this,a,"f")}};return r=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,Bt.default=u,Bt}var Jt={},lo;function nd(){if(lo)return Jt;lo=1;var e=Jt&&Jt.__classPrivateFieldSet||function(u,o,c,f,h){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?u!==o||!h:!o.has(u))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?h.call(u,c):h?h.value=c:o.set(u,c),c},t=Jt&&Jt.__classPrivateFieldGet||function(u,o,c,f){if(c==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?u!==o||!f:!o.has(u))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?f:c==="a"?f.call(u):f?f.value:o.get(u)},r,i,s,n;Object.defineProperty(Jt,"__esModule",{value:!0});let a=class{constructor(o,c,f){r.set(this,void 0),i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),e(this,r,c.name,"f"),e(this,i,`${o}${f.url}`,"f"),e(this,s,f.type,"f"),e(this,n,f.element,"f")}get name(){return t(this,r,"f")}get url(){return t(this,i,"f")}get type(){return t(this,s,"f")}get element(){return t(this,n,"f")}};return r=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,Jt.default=a,Jt}var co;function id(){if(co)return mt;co=1;var e=mt&&mt.__classPrivateFieldSet||function(g,P,_,m,v){if(m==="m")throw new TypeError("Private method is not writable");if(m==="a"&&!v)throw new TypeError("Private accessor was defined without a setter");if(typeof P=="function"?g!==P||!v:!P.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return m==="a"?v.call(g,_):v?v.value=_:P.set(g,_),_},t=mt&&mt.__classPrivateFieldGet||function(g,P,_,m){if(_==="a"&&!m)throw new TypeError("Private accessor was defined without a getter");if(typeof P=="function"?g!==P||!m:!P.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return _==="m"?m:_==="a"?m.call(g):m?m.value:P.get(g)},r=mt&&mt.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},i,s,n,a,u,o;Object.defineProperty(mt,"__esModule",{value:!0});const c=Ys(),f=r(rd()),h=r(nd());let d=class{constructor(P,_,m,v){i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,[]),u.set(this,[]),o.set(this,void 0),e(this,o,new c.Logger("PluginManager",v),"f"),e(this,i,m.plugin,"f"),e(this,s,_.name,"f"),e(this,n,`${_.name}/${m.name}`,"f"),_.attributes.forEach(l=>{const{name:p,type:y,mandatory:w,array:b}=l,E=m.attributes.find(S=>S.name===p);if(w&&!E)throw new Error(`Missing mandatory attribute '${p}'`);if(E){if(b!==Array.isArray(E.value))throw new Error(`Invalid attribute type '${p}', should ${b?"":"not "}be an array`);t(this,a,"f").push(new f.default(P,l,E))}}),m.attributes.forEach(l=>{_.attributes.find(y=>y.name===l.name)||this.logger.warn(`${m.plugin} - ${m.name} - Attribute '${l.name}' is not defined`)}),_.elements.forEach(l=>{const{name:p}=l,y=m.elements.find(w=>w.name===p);if(!y)throw new Error(`Missing element '${p}'`);t(this,u,"f").push(new h.default(P,l,y))}),m.elements.forEach(l=>{_.elements.find(y=>y.name===l.name)||this.logger.warn(`${m.plugin} - ${m.name} - Element '${l.name}' is not defined`)})}get plugin(){return t(this,i,"f")}get definition(){return t(this,s,"f")}get name(){return t(this,n,"f")}get logger(){return t(this,o,"f")}get attributes(){return t(this,a,"f").reduce((P,_)=>(P[_.name]=_.value,P),{})}getAttributes(){return t(this,a,"f").slice()}getAttribute(P){return this.attributes[P]}get elements(){return t(this,u,"f").reduce((P,_)=>(P[_.name]={plugin:this.plugin,url:_.url,type:_.type,element:_.element},P),{})}getElements(){return t(this,u,"f").slice()}getElement(P){return this.elements[P]}};return i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,o=new WeakMap,mt.default=d,mt}var Dt={},Ot={},Hn={exports:{}},la={},Tt={},ur={},ca={},da={},fa={},fo;function zn(){return fo||(fo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(l){if(super(),!e.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class i extends t{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((p,y)=>`${p}${y}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((p,y)=>(y instanceof r&&(p[y.str]=(p[y.str]||0)+1),p),{})}}e._Code=i,e.nil=new i("");function s(v,...l){const p=[v[0]];let y=0;for(;y<l.length;)u(p,l[y]),p.push(v[++y]);return new i(p)}e._=s;const n=new i("+");function a(v,...l){const p=[g(v[0])];let y=0;for(;y<l.length;)p.push(n),u(p,l[y]),p.push(n,g(v[++y]));return o(p),new i(p)}e.str=a;function u(v,l){l instanceof i?v.push(...l._items):l instanceof r?v.push(l):v.push(h(l))}e.addCodeArg=u;function o(v){let l=1;for(;l<v.length-1;){if(v[l]===n){const p=c(v[l-1],v[l+1]);if(p!==void 0){v.splice(l-1,3,p);continue}v[l++]="+"}l++}}function c(v,l){if(l==='""')return v;if(v==='""')return l;if(typeof v=="string")return l instanceof r||v[v.length-1]!=='"'?void 0:typeof l!="string"?`${v.slice(0,-1)}${l}"`:l[0]==='"'?v.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(v instanceof r))return`"${v}${l.slice(1)}`}function f(v,l){return l.emptyStr()?v:v.emptyStr()?l:a`${v}${l}`}e.strConcat=f;function h(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:g(Array.isArray(v)?v.join(","):v)}function d(v){return new i(g(v))}e.stringify=d;function g(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function P(v){return typeof v=="string"&&e.IDENTIFIER.test(v)?new i(`.${v}`):s`[${v}]`}e.getProperty=P;function _(v){if(typeof v=="string"&&e.IDENTIFIER.test(v))return new i(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}e.getEsmExportName=_;function m(v){return new i(v.toString())}e.regexpCode=m}(fa)),fa}var ha={},ho;function mo(){return ho||(ho=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=zn();class r extends Error{constructor(c){super(`CodeGen: "code" for ${c} not defined`),this.value=c.value}}var i;(function(o){o[o.Started=0]="Started",o[o.Completed=1]="Completed"})(i||(e.UsedValueState=i={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class s{constructor({prefixes:c,parent:f}={}){this._names={},this._prefixes=c,this._parent=f}toName(c){return c instanceof t.Name?c:this.name(c)}name(c){return new t.Name(this._newName(c))}_newName(c){const f=this._names[c]||this._nameGroup(c);return`${c}${f.index++}`}_nameGroup(c){var f,h;if(!((h=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||h===void 0)&&h.has(c)||this._prefixes&&!this._prefixes.has(c))throw new Error(`CodeGen: prefix "${c}" is not allowed in this scope`);return this._names[c]={prefix:c,index:0}}}e.Scope=s;class n extends t.Name{constructor(c,f){super(f),this.prefix=c}setValue(c,{property:f,itemIndex:h}){this.value=c,this.scopePath=(0,t._)`.${new t.Name(f)}[${h}]`}}e.ValueScopeName=n;const a=(0,t._)`\n`;class u extends s{constructor(c){super(c),this._values={},this._scope=c.scope,this.opts={...c,_n:c.lines?a:t.nil}}get(){return this._scope}name(c){return new n(c,this._newName(c))}value(c,f){var h;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const d=this.toName(c),{prefix:g}=d,P=(h=f.key)!==null&&h!==void 0?h:f.ref;let _=this._values[g];if(_){const l=_.get(P);if(l)return l}else _=this._values[g]=new Map;_.set(P,d);const m=this._scope[g]||(this._scope[g]=[]),v=m.length;return m[v]=f.ref,d.setValue(f,{property:g,itemIndex:v}),d}getValue(c,f){const h=this._values[c];if(h)return h.get(f)}scopeRefs(c,f=this._values){return this._reduceValues(f,h=>{if(h.scopePath===void 0)throw new Error(`CodeGen: name "${h}" has no value`);return(0,t._)`${c}${h.scopePath}`})}scopeCode(c=this._values,f,h){return this._reduceValues(c,d=>{if(d.value===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return d.value.code},f,h)}_reduceValues(c,f,h={},d){let g=t.nil;for(const P in c){const _=c[P];if(!_)continue;const m=h[P]=h[P]||new Map;_.forEach(v=>{if(m.has(v))return;m.set(v,i.Started);let l=f(v);if(l){const p=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${p} ${v} = ${l};${this.opts._n}`}else if(l=d==null?void 0:d(v))g=(0,t._)`${g}${l}${this.opts._n}`;else throw new r(v);m.set(v,i.Completed)})}return g}}e.ValueScope=u}(ha)),ha}var po;function se(){return po||(po=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=zn(),r=mo();var i=zn();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return i._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return i.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return i.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return i.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return i.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return i.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return i.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return i.Name}});var s=mo();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class n{optimizeNodes(){return this}optimizeNames($,D){return this}}class a extends n{constructor($,D,I){super(),this.varKind=$,this.name=D,this.rhs=I}render({es5:$,_n:D}){const I=$?r.varKinds.var:this.varKind,B=this.rhs===void 0?"":` = ${this.rhs}`;return`${I} ${this.name}${B};`+D}optimizeNames($,D){if($[this.name.str])return this.rhs&&(this.rhs=G(this.rhs,$,D)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class u extends n{constructor($,D,I){super(),this.lhs=$,this.rhs=D,this.sideEffects=I}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,D){if(!(this.lhs instanceof t.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=G(this.rhs,$,D),this}get names(){const $=this.lhs instanceof t.Name?{}:{...this.lhs.names};return F($,this.rhs)}}class o extends u{constructor($,D,I,B){super($,I,B),this.op=D}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class c extends n{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class f extends n{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class h extends n{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class d extends n{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,D){return this.code=G(this.code,$,D),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends n{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((D,I)=>D+I.render($),"")}optimizeNodes(){const{nodes:$}=this;let D=$.length;for(;D--;){const I=$[D].optimizeNodes();Array.isArray(I)?$.splice(D,1,...I):I?$[D]=I:$.splice(D,1)}return $.length>0?this:void 0}optimizeNames($,D){const{nodes:I}=this;let B=I.length;for(;B--;){const Y=I[B];Y.optimizeNames($,D)||(J($,Y.names),I.splice(B,1))}return I.length>0?this:void 0}get names(){return this.nodes.reduce(($,D)=>H($,D.names),{})}}class P extends g{render($){return"{"+$._n+super.render($)+"}"+$._n}}class _ extends g{}class m extends P{}m.kind="else";class v extends P{constructor($,D){super(D),this.condition=$}render($){let D=`if(${this.condition})`+super.render($);return this.else&&(D+="else "+this.else.render($)),D}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let D=this.else;if(D){const I=D.optimizeNodes();D=this.else=Array.isArray(I)?new m(I):I}if(D)return $===!1?D instanceof v?D:D.nodes:this.nodes.length?this:new v(ee($),D instanceof v?[D]:D.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,D){var I;if(this.else=(I=this.else)===null||I===void 0?void 0:I.optimizeNames($,D),!!(super.optimizeNames($,D)||this.else))return this.condition=G(this.condition,$,D),this}get names(){const $=super.names;return F($,this.condition),this.else&&H($,this.else.names),$}}v.kind="if";class l extends P{}l.kind="for";class p extends l{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,D){if(super.optimizeNames($,D))return this.iteration=G(this.iteration,$,D),this}get names(){return H(super.names,this.iteration.names)}}class y extends l{constructor($,D,I,B){super(),this.varKind=$,this.name=D,this.from=I,this.to=B}render($){const D=$.es5?r.varKinds.var:this.varKind,{name:I,from:B,to:Y}=this;return`for(${D} ${I}=${B}; ${I}<${Y}; ${I}++)`+super.render($)}get names(){const $=F(super.names,this.from);return F($,this.to)}}class w extends l{constructor($,D,I,B){super(),this.loop=$,this.varKind=D,this.name=I,this.iterable=B}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,D){if(super.optimizeNames($,D))return this.iterable=G(this.iterable,$,D),this}get names(){return H(super.names,this.iterable.names)}}class b extends P{constructor($,D,I){super(),this.name=$,this.args=D,this.async=I}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}b.kind="func";class E extends g{render($){return"return "+super.render($)}}E.kind="return";class S extends P{render($){let D="try"+super.render($);return this.catch&&(D+=this.catch.render($)),this.finally&&(D+=this.finally.render($)),D}optimizeNodes(){var $,D;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(D=this.finally)===null||D===void 0||D.optimizeNodes(),this}optimizeNames($,D){var I,B;return super.optimizeNames($,D),(I=this.catch)===null||I===void 0||I.optimizeNames($,D),(B=this.finally)===null||B===void 0||B.optimizeNames($,D),this}get names(){const $=super.names;return this.catch&&H($,this.catch.names),this.finally&&H($,this.finally.names),$}}class O extends P{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}O.kind="catch";class C extends P{render($){return"finally"+super.render($)}}C.kind="finally";class U{constructor($,D={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...D,_n:D.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,D){const I=this._extScope.value($,D);return(this._values[I.prefix]||(this._values[I.prefix]=new Set)).add(I),I}getScopeValue($,D){return this._extScope.getValue($,D)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,D,I,B){const Y=this._scope.toName(D);return I!==void 0&&B&&(this._constants[Y.str]=I),this._leafNode(new a($,Y,I)),Y}const($,D,I){return this._def(r.varKinds.const,$,D,I)}let($,D,I){return this._def(r.varKinds.let,$,D,I)}var($,D,I){return this._def(r.varKinds.var,$,D,I)}assign($,D,I){return this._leafNode(new u($,D,I))}add($,D){return this._leafNode(new o($,e.operators.ADD,D))}code($){return typeof $=="function"?$():$!==t.nil&&this._leafNode(new d($)),this}object(...$){const D=["{"];for(const[I,B]of $)D.length>1&&D.push(","),D.push(I),(I!==B||this.opts.es5)&&(D.push(":"),(0,t.addCodeArg)(D,B));return D.push("}"),new t._Code(D)}if($,D,I){if(this._blockNode(new v($)),D&&I)this.code(D).else().code(I).endIf();else if(D)this.code(D).endIf();else if(I)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new v($))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(v,m)}_for($,D){return this._blockNode($),D&&this.code(D).endFor(),this}for($,D){return this._for(new p($),D)}forRange($,D,I,B,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const de=this._scope.toName($);return this._for(new y(Y,de,D,I),()=>B(de))}forOf($,D,I,B=r.varKinds.const){const Y=this._scope.toName($);if(this.opts.es5){const de=D instanceof t.Name?D:this.var("_arr",D);return this.forRange("_i",0,(0,t._)`${de}.length`,ue=>{this.var(Y,(0,t._)`${de}[${ue}]`),I(Y)})}return this._for(new w("of",B,Y,D),()=>I(Y))}forIn($,D,I,B=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,t._)`Object.keys(${D})`,I);const Y=this._scope.toName($);return this._for(new w("in",B,Y,D),()=>I(Y))}endFor(){return this._endBlockNode(l)}label($){return this._leafNode(new c($))}break($){return this._leafNode(new f($))}return($){const D=new E;if(this._blockNode(D),this.code($),D.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try($,D,I){if(!D&&!I)throw new Error('CodeGen: "try" without "catch" and "finally"');const B=new S;if(this._blockNode(B),this.code($),D){const Y=this.name("e");this._currNode=B.catch=new O(Y),D(Y)}return I&&(this._currNode=B.finally=new C,this.code(I)),this._endBlockNode(O,C)}throw($){return this._leafNode(new h($))}block($,D){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(D),this}endBlock($){const D=this._blockStarts.pop();if(D===void 0)throw new Error("CodeGen: not in self-balancing block");const I=this._nodes.length-D;if(I<0||$!==void 0&&I!==$)throw new Error(`CodeGen: wrong number of nodes: ${I} vs ${$} expected`);return this._nodes.length=D,this}func($,D=t.nil,I,B){return this._blockNode(new b($,D,I)),B&&this.code(B).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,D){const I=this._currNode;if(I instanceof $||D&&I instanceof D)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${D?`${$.kind}/${D.kind}`:$.kind}"`)}_elseNode($){const D=this._currNode;if(!(D instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=D.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const D=this._nodes;D[D.length-1]=$}}e.CodeGen=U;function H(M,$){for(const D in $)M[D]=(M[D]||0)+($[D]||0);return M}function F(M,$){return $ instanceof t._CodeOrName?H(M,$.names):M}function G(M,$,D){if(M instanceof t.Name)return I(M);if(!B(M))return M;return new t._Code(M._items.reduce((Y,de)=>(de instanceof t.Name&&(de=I(de)),de instanceof t._Code?Y.push(...de._items):Y.push(de),Y),[]));function I(Y){const de=D[Y.str];return de===void 0||$[Y.str]!==1?Y:(delete $[Y.str],de)}function B(Y){return Y instanceof t._Code&&Y._items.some(de=>de instanceof t.Name&&$[de.str]===1&&D[de.str]!==void 0)}}function J(M,$){for(const D in $)M[D]=(M[D]||0)-($[D]||0)}function ee(M){return typeof M=="boolean"||typeof M=="number"||M===null?!M:(0,t._)`!${A(M)}`}e.not=ee;const Z=j(e.operators.AND);function X(...M){return M.reduce(Z)}e.and=X;const oe=j(e.operators.OR);function q(...M){return M.reduce(oe)}e.or=q;function j(M){return($,D)=>$===t.nil?D:D===t.nil?$:(0,t._)`${A($)} ${M} ${A(D)}`}function A(M){return M instanceof t.Name?M:(0,t._)`(${M})`}}(da)),da}var ie={},vo;function fe(){if(vo)return ie;vo=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.checkStrictMode=ie.getErrorPath=ie.Type=ie.useFunc=ie.setEvaluated=ie.evaluatedPropsToName=ie.mergeEvaluated=ie.eachItem=ie.unescapeJsonPointer=ie.escapeJsonPointer=ie.escapeFragment=ie.unescapeFragment=ie.schemaRefOrVal=ie.schemaHasRulesButRef=ie.schemaHasRules=ie.checkUnknownRules=ie.alwaysValidSchema=ie.toHash=void 0;const e=se(),t=zn();function r(w){const b={};for(const E of w)b[E]=!0;return b}ie.toHash=r;function i(w,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(s(w,b),!n(b,w.self.RULES.all))}ie.alwaysValidSchema=i;function s(w,b=w.schema){const{opts:E,self:S}=w;if(!E.strictSchema||typeof b=="boolean")return;const O=S.RULES.keywords;for(const C in b)O[C]||y(w,`unknown keyword: "${C}"`)}ie.checkUnknownRules=s;function n(w,b){if(typeof w=="boolean")return!w;for(const E in w)if(b[E])return!0;return!1}ie.schemaHasRules=n;function a(w,b){if(typeof w=="boolean")return!w;for(const E in w)if(E!=="$ref"&&b.all[E])return!0;return!1}ie.schemaHasRulesButRef=a;function u({topSchemaRef:w,schemaPath:b},E,S,O){if(!O){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,e._)`${E}`}return(0,e._)`${w}${b}${(0,e.getProperty)(S)}`}ie.schemaRefOrVal=u;function o(w){return h(decodeURIComponent(w))}ie.unescapeFragment=o;function c(w){return encodeURIComponent(f(w))}ie.escapeFragment=c;function f(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}ie.escapeJsonPointer=f;function h(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}ie.unescapeJsonPointer=h;function d(w,b){if(Array.isArray(w))for(const E of w)b(E);else b(w)}ie.eachItem=d;function g({mergeNames:w,mergeToName:b,mergeValues:E,resultToName:S}){return(O,C,U,H)=>{const F=U===void 0?C:U instanceof e.Name?(C instanceof e.Name?w(O,C,U):b(O,C,U),U):C instanceof e.Name?(b(O,U,C),C):E(C,U);return H===e.Name&&!(F instanceof e.Name)?S(O,F):F}}ie.mergeEvaluated={props:g({mergeNames:(w,b,E)=>w.if((0,e._)`${E} !== true && ${b} !== undefined`,()=>{w.if((0,e._)`${b} === true`,()=>w.assign(E,!0),()=>w.assign(E,(0,e._)`${E} || {}`).code((0,e._)`Object.assign(${E}, ${b})`))}),mergeToName:(w,b,E)=>w.if((0,e._)`${E} !== true`,()=>{b===!0?w.assign(E,!0):(w.assign(E,(0,e._)`${E} || {}`),_(w,E,b))}),mergeValues:(w,b)=>w===!0?!0:{...w,...b},resultToName:P}),items:g({mergeNames:(w,b,E)=>w.if((0,e._)`${E} !== true && ${b} !== undefined`,()=>w.assign(E,(0,e._)`${b} === true ? true : ${E} > ${b} ? ${E} : ${b}`)),mergeToName:(w,b,E)=>w.if((0,e._)`${E} !== true`,()=>w.assign(E,b===!0?!0:(0,e._)`${E} > ${b} ? ${E} : ${b}`)),mergeValues:(w,b)=>w===!0?!0:Math.max(w,b),resultToName:(w,b)=>w.var("items",b)})};function P(w,b){if(b===!0)return w.var("props",!0);const E=w.var("props",(0,e._)`{}`);return b!==void 0&&_(w,E,b),E}ie.evaluatedPropsToName=P;function _(w,b,E){Object.keys(E).forEach(S=>w.assign((0,e._)`${b}${(0,e.getProperty)(S)}`,!0))}ie.setEvaluated=_;const m={};function v(w,b){return w.scopeValue("func",{ref:b,code:m[b.code]||(m[b.code]=new t._Code(b.code))})}ie.useFunc=v;var l;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(l||(ie.Type=l={}));function p(w,b,E){if(w instanceof e.Name){const S=b===l.Num;return E?S?(0,e._)`"[" + ${w} + "]"`:(0,e._)`"['" + ${w} + "']"`:S?(0,e._)`"/" + ${w}`:(0,e._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,e.getProperty)(w).toString():"/"+f(w)}ie.getErrorPath=p;function y(w,b,E=w.opts.strictSchema){if(E){if(b=`strict mode: ${b}`,E===!0)throw new Error(b);w.self.logger.warn(b)}}return ie.checkStrictMode=y,ie}var Kn={},go;function Yt(){if(go)return Kn;go=1,Object.defineProperty(Kn,"__esModule",{value:!0});const e=se(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return Kn.default=t,Kn}var _o;function Bn(){return _o||(_o=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=se(),r=fe(),i=Yt();e.keywordError={message:({keyword:m})=>(0,t.str)`must pass "${m}" keyword validation`},e.keyword$DataError={message:({keyword:m,schemaType:v})=>v?(0,t.str)`"${m}" keyword must be ${v} ($data)`:(0,t.str)`"${m}" keyword is invalid ($data)`};function s(m,v=e.keywordError,l,p){const{it:y}=m,{gen:w,compositeRule:b,allErrors:E}=y,S=h(m,v,l);p??(b||E)?o(w,S):c(y,(0,t._)`[${S}]`)}e.reportError=s;function n(m,v=e.keywordError,l){const{it:p}=m,{gen:y,compositeRule:w,allErrors:b}=p,E=h(m,v,l);o(y,E),w||b||c(p,i.default.vErrors)}e.reportExtraError=n;function a(m,v){m.assign(i.default.errors,v),m.if((0,t._)`${i.default.vErrors} !== null`,()=>m.if(v,()=>m.assign((0,t._)`${i.default.vErrors}.length`,v),()=>m.assign(i.default.vErrors,null)))}e.resetErrorsCount=a;function u({gen:m,keyword:v,schemaValue:l,data:p,errsCount:y,it:w}){if(y===void 0)throw new Error("ajv implementation error");const b=m.name("err");m.forRange("i",y,i.default.errors,E=>{m.const(b,(0,t._)`${i.default.vErrors}[${E}]`),m.if((0,t._)`${b}.instancePath === undefined`,()=>m.assign((0,t._)`${b}.instancePath`,(0,t.strConcat)(i.default.instancePath,w.errorPath))),m.assign((0,t._)`${b}.schemaPath`,(0,t.str)`${w.errSchemaPath}/${v}`),w.opts.verbose&&(m.assign((0,t._)`${b}.schema`,l),m.assign((0,t._)`${b}.data`,p))})}e.extendErrors=u;function o(m,v){const l=m.const("err",v);m.if((0,t._)`${i.default.vErrors} === null`,()=>m.assign(i.default.vErrors,(0,t._)`[${l}]`),(0,t._)`${i.default.vErrors}.push(${l})`),m.code((0,t._)`${i.default.errors}++`)}function c(m,v){const{gen:l,validateName:p,schemaEnv:y}=m;y.$async?l.throw((0,t._)`new ${m.ValidationError}(${v})`):(l.assign((0,t._)`${p}.errors`,v),l.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function h(m,v,l){const{createErrors:p}=m.it;return p===!1?(0,t._)`{}`:d(m,v,l)}function d(m,v,l={}){const{gen:p,it:y}=m,w=[g(y,l),P(m,l)];return _(m,v,w),p.object(...w)}function g({errorPath:m},{instancePath:v}){const l=v?(0,t.str)`${m}${(0,r.getErrorPath)(v,r.Type.Str)}`:m;return[i.default.instancePath,(0,t.strConcat)(i.default.instancePath,l)]}function P({keyword:m,it:{errSchemaPath:v}},{schemaPath:l,parentSchema:p}){let y=p?v:(0,t.str)`${v}/${m}`;return l&&(y=(0,t.str)`${y}${(0,r.getErrorPath)(l,r.Type.Str)}`),[f.schemaPath,y]}function _(m,{params:v,message:l},p){const{keyword:y,data:w,schemaValue:b,it:E}=m,{opts:S,propertyName:O,topSchemaRef:C,schemaPath:U}=E;p.push([f.keyword,y],[f.params,typeof v=="function"?v(m):v||(0,t._)`{}`]),S.messages&&p.push([f.message,typeof l=="function"?l(m):l]),S.verbose&&p.push([f.schema,b],[f.parentSchema,(0,t._)`${C}${U}`],[i.default.data,w]),O&&p.push([f.propertyName,O])}}(ca)),ca}var yo;function ad(){if(yo)return ur;yo=1,Object.defineProperty(ur,"__esModule",{value:!0}),ur.boolOrEmptySchema=ur.topBoolOrEmptySchema=void 0;const e=Bn(),t=se(),r=Yt(),i={message:"boolean schema is false"};function s(u){const{gen:o,schema:c,validateName:f}=u;c===!1?a(u,!1):typeof c=="object"&&c.$async===!0?o.return(r.default.data):(o.assign((0,t._)`${f}.errors`,null),o.return(!0))}ur.topBoolOrEmptySchema=s;function n(u,o){const{gen:c,schema:f}=u;f===!1?(c.var(o,!1),a(u)):c.var(o,!0)}ur.boolOrEmptySchema=n;function a(u,o){const{gen:c,data:f}=u,h={gen:c,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:u};(0,e.reportError)(h,i,void 0,o)}return ur}var $e={},lr={},Po;function wo(){if(Po)return lr;Po=1,Object.defineProperty(lr,"__esModule",{value:!0}),lr.getRules=lr.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(s){return typeof s=="string"&&t.has(s)}lr.isJSONType=r;function i(){const s={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...s,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},s.number,s.string,s.array,s.object],post:{rules:[]},all:{},keywords:{}}}return lr.getRules=i,lr}var Rt={},bo;function $o(){if(bo)return Rt;bo=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.shouldUseRule=Rt.shouldUseGroup=Rt.schemaHasRulesForType=void 0;function e({schema:i,self:s},n){const a=s.RULES.types[n];return a&&a!==!0&&t(i,a)}Rt.schemaHasRulesForType=e;function t(i,s){return s.rules.some(n=>r(i,n))}Rt.shouldUseGroup=t;function r(i,s){var n;return i[s.keyword]!==void 0||((n=s.definition.implements)===null||n===void 0?void 0:n.some(a=>i[a]!==void 0))}return Rt.shouldUseRule=r,Rt}var Eo;function Jn(){if(Eo)return $e;Eo=1,Object.defineProperty($e,"__esModule",{value:!0}),$e.reportTypeError=$e.checkDataTypes=$e.checkDataType=$e.coerceAndCheckDataType=$e.getJSONTypes=$e.getSchemaTypes=$e.DataType=void 0;const e=wo(),t=$o(),r=Bn(),i=se(),s=fe();var n;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(n||($e.DataType=n={}));function a(l){const p=u(l.type);if(p.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&p.push("null")}return p}$e.getSchemaTypes=a;function u(l){const p=Array.isArray(l)?l:l?[l]:[];if(p.every(e.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}$e.getJSONTypes=u;function o(l,p){const{gen:y,data:w,opts:b}=l,E=f(p,b.coerceTypes),S=p.length>0&&!(E.length===0&&p.length===1&&(0,t.schemaHasRulesForType)(l,p[0]));if(S){const O=P(p,w,b.strictNumbers,n.Wrong);y.if(O,()=>{E.length?h(l,p,E):m(l)})}return S}$e.coerceAndCheckDataType=o;const c=new Set(["string","number","integer","boolean","null"]);function f(l,p){return p?l.filter(y=>c.has(y)||p==="array"&&y==="array"):[]}function h(l,p,y){const{gen:w,data:b,opts:E}=l,S=w.let("dataType",(0,i._)`typeof ${b}`),O=w.let("coerced",(0,i._)`undefined`);E.coerceTypes==="array"&&w.if((0,i._)`${S} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>w.assign(b,(0,i._)`${b}[0]`).assign(S,(0,i._)`typeof ${b}`).if(P(p,b,E.strictNumbers),()=>w.assign(O,b))),w.if((0,i._)`${O} !== undefined`);for(const U of y)(c.has(U)||U==="array"&&E.coerceTypes==="array")&&C(U);w.else(),m(l),w.endIf(),w.if((0,i._)`${O} !== undefined`,()=>{w.assign(b,O),d(l,O)});function C(U){switch(U){case"string":w.elseIf((0,i._)`${S} == "number" || ${S} == "boolean"`).assign(O,(0,i._)`"" + ${b}`).elseIf((0,i._)`${b} === null`).assign(O,(0,i._)`""`);return;case"number":w.elseIf((0,i._)`${S} == "boolean" || ${b} === null
              || (${S} == "string" && ${b} && ${b} == +${b})`).assign(O,(0,i._)`+${b}`);return;case"integer":w.elseIf((0,i._)`${S} === "boolean" || ${b} === null
              || (${S} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(O,(0,i._)`+${b}`);return;case"boolean":w.elseIf((0,i._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(O,!1).elseIf((0,i._)`${b} === "true" || ${b} === 1`).assign(O,!0);return;case"null":w.elseIf((0,i._)`${b} === "" || ${b} === 0 || ${b} === false`),w.assign(O,null);return;case"array":w.elseIf((0,i._)`${S} === "string" || ${S} === "number"
              || ${S} === "boolean" || ${b} === null`).assign(O,(0,i._)`[${b}]`)}}}function d({gen:l,parentData:p,parentDataProperty:y},w){l.if((0,i._)`${p} !== undefined`,()=>l.assign((0,i._)`${p}[${y}]`,w))}function g(l,p,y,w=n.Correct){const b=w===n.Correct?i.operators.EQ:i.operators.NEQ;let E;switch(l){case"null":return(0,i._)`${p} ${b} null`;case"array":E=(0,i._)`Array.isArray(${p})`;break;case"object":E=(0,i._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":E=S((0,i._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":E=S();break;default:return(0,i._)`typeof ${p} ${b} ${l}`}return w===n.Correct?E:(0,i.not)(E);function S(O=i.nil){return(0,i.and)((0,i._)`typeof ${p} == "number"`,O,y?(0,i._)`isFinite(${p})`:i.nil)}}$e.checkDataType=g;function P(l,p,y,w){if(l.length===1)return g(l[0],p,y,w);let b;const E=(0,s.toHash)(l);if(E.array&&E.object){const S=(0,i._)`typeof ${p} != "object"`;b=E.null?S:(0,i._)`!${p} || ${S}`,delete E.null,delete E.array,delete E.object}else b=i.nil;E.number&&delete E.integer;for(const S in E)b=(0,i.and)(b,g(S,p,y,w));return b}$e.checkDataTypes=P;const _={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:p})=>typeof l=="string"?(0,i._)`{type: ${l}}`:(0,i._)`{type: ${p}}`};function m(l){const p=v(l);(0,r.reportError)(p,_)}$e.reportTypeError=m;function v(l){const{gen:p,data:y,schema:w}=l,b=(0,s.schemaRefOrVal)(l,w,"type");return{gen:p,keyword:"type",data:y,schema:w.type,schemaCode:b,schemaValue:b,parentSchema:w,params:{},it:l}}return $e}var tn={},So;function sd(){if(So)return tn;So=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.assignDefaults=void 0;const e=se(),t=fe();function r(s,n){const{properties:a,items:u}=s.schema;if(n==="object"&&a)for(const o in a)i(s,o,a[o].default);else n==="array"&&Array.isArray(u)&&u.forEach((o,c)=>i(s,c,o.default))}tn.assignDefaults=r;function i(s,n,a){const{gen:u,compositeRule:o,data:c,opts:f}=s;if(a===void 0)return;const h=(0,e._)`${c}${(0,e.getProperty)(n)}`;if(o){(0,t.checkStrictMode)(s,`default is ignored for: ${h}`);return}let d=(0,e._)`${h} === undefined`;f.useDefaults==="empty"&&(d=(0,e._)`${d} || ${h} === null || ${h} === ""`),u.if(d,(0,e._)`${h} = ${(0,e.stringify)(a)}`)}return tn}var tt={},ve={},Do;function rt(){if(Do)return ve;Do=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.validateUnion=ve.validateArray=ve.usePattern=ve.callValidateCode=ve.schemaProperties=ve.allSchemaProperties=ve.noPropertyInData=ve.propertyInData=ve.isOwnProperty=ve.hasPropFunc=ve.reportMissingProp=ve.checkMissingProp=ve.checkReportMissingProp=void 0;const e=se(),t=fe(),r=Yt(),i=fe();function s(l,p){const{gen:y,data:w,it:b}=l;y.if(f(y,w,p,b.opts.ownProperties),()=>{l.setParams({missingProperty:(0,e._)`${p}`},!0),l.error()})}ve.checkReportMissingProp=s;function n({gen:l,data:p,it:{opts:y}},w,b){return(0,e.or)(...w.map(E=>(0,e.and)(f(l,p,E,y.ownProperties),(0,e._)`${b} = ${E}`)))}ve.checkMissingProp=n;function a(l,p){l.setParams({missingProperty:p},!0),l.error()}ve.reportMissingProp=a;function u(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}ve.hasPropFunc=u;function o(l,p,y){return(0,e._)`${u(l)}.call(${p}, ${y})`}ve.isOwnProperty=o;function c(l,p,y,w){const b=(0,e._)`${p}${(0,e.getProperty)(y)} !== undefined`;return w?(0,e._)`${b} && ${o(l,p,y)}`:b}ve.propertyInData=c;function f(l,p,y,w){const b=(0,e._)`${p}${(0,e.getProperty)(y)} === undefined`;return w?(0,e.or)(b,(0,e.not)(o(l,p,y))):b}ve.noPropertyInData=f;function h(l){return l?Object.keys(l).filter(p=>p!=="__proto__"):[]}ve.allSchemaProperties=h;function d(l,p){return h(p).filter(y=>!(0,t.alwaysValidSchema)(l,p[y]))}ve.schemaProperties=d;function g({schemaCode:l,data:p,it:{gen:y,topSchemaRef:w,schemaPath:b,errorPath:E},it:S},O,C,U){const H=U?(0,e._)`${l}, ${p}, ${w}${b}`:p,F=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,E)],[r.default.parentData,S.parentData],[r.default.parentDataProperty,S.parentDataProperty],[r.default.rootData,r.default.rootData]];S.opts.dynamicRef&&F.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const G=(0,e._)`${H}, ${y.object(...F)}`;return C!==e.nil?(0,e._)`${O}.call(${C}, ${G})`:(0,e._)`${O}(${G})`}ve.callValidateCode=g;const P=(0,e._)`new RegExp`;function _({gen:l,it:{opts:p}},y){const w=p.unicodeRegExp?"u":"",{regExp:b}=p.code,E=b(y,w);return l.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,e._)`${b.code==="new RegExp"?P:(0,i.useFunc)(l,b)}(${y}, ${w})`})}ve.usePattern=_;function m(l){const{gen:p,data:y,keyword:w,it:b}=l,E=p.name("valid");if(b.allErrors){const O=p.let("valid",!0);return S(()=>p.assign(O,!1)),O}return p.var(E,!0),S(()=>p.break()),E;function S(O){const C=p.const("len",(0,e._)`${y}.length`);p.forRange("i",0,C,U=>{l.subschema({keyword:w,dataProp:U,dataPropType:t.Type.Num},E),p.if((0,e.not)(E),O)})}}ve.validateArray=m;function v(l){const{gen:p,schema:y,keyword:w,it:b}=l;if(!Array.isArray(y))throw new Error("ajv implementation error");if(y.some(C=>(0,t.alwaysValidSchema)(b,C))&&!b.opts.unevaluated)return;const S=p.let("valid",!1),O=p.name("_valid");p.block(()=>y.forEach((C,U)=>{const H=l.subschema({keyword:w,schemaProp:U,compositeRule:!0},O);p.assign(S,(0,e._)`${S} || ${O}`),l.mergeValidEvaluated(H,O)||p.if((0,e.not)(S))})),l.result(S,()=>l.reset(),()=>l.error(!0))}return ve.validateUnion=v,ve}var Oo;function od(){if(Oo)return tt;Oo=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.validateKeywordUsage=tt.validSchemaType=tt.funcKeywordCode=tt.macroKeywordCode=void 0;const e=se(),t=Yt(),r=rt(),i=Bn();function s(d,g){const{gen:P,keyword:_,schema:m,parentSchema:v,it:l}=d,p=g.macro.call(l.self,m,v,l),y=c(P,_,p);l.opts.validateSchema!==!1&&l.self.validateSchema(p,!0);const w=P.name("valid");d.subschema({schema:p,schemaPath:e.nil,errSchemaPath:`${l.errSchemaPath}/${_}`,topSchemaRef:y,compositeRule:!0},w),d.pass(w,()=>d.error(!0))}tt.macroKeywordCode=s;function n(d,g){var P;const{gen:_,keyword:m,schema:v,parentSchema:l,$data:p,it:y}=d;o(y,g);const w=!p&&g.compile?g.compile.call(y.self,v,l,y):g.validate,b=c(_,m,w),E=_.let("valid");d.block$data(E,S),d.ok((P=g.valid)!==null&&P!==void 0?P:E);function S(){if(g.errors===!1)U(),g.modifying&&a(d),H(()=>d.error());else{const F=g.async?O():C();g.modifying&&a(d),H(()=>u(d,F))}}function O(){const F=_.let("ruleErrs",null);return _.try(()=>U((0,e._)`await `),G=>_.assign(E,!1).if((0,e._)`${G} instanceof ${y.ValidationError}`,()=>_.assign(F,(0,e._)`${G}.errors`),()=>_.throw(G))),F}function C(){const F=(0,e._)`${b}.errors`;return _.assign(F,null),U(e.nil),F}function U(F=g.async?(0,e._)`await `:e.nil){const G=y.opts.passContext?t.default.this:t.default.self,J=!("compile"in g&&!p||g.schema===!1);_.assign(E,(0,e._)`${F}${(0,r.callValidateCode)(d,b,G,J)}`,g.modifying)}function H(F){var G;_.if((0,e.not)((G=g.valid)!==null&&G!==void 0?G:E),F)}}tt.funcKeywordCode=n;function a(d){const{gen:g,data:P,it:_}=d;g.if(_.parentData,()=>g.assign(P,(0,e._)`${_.parentData}[${_.parentDataProperty}]`))}function u(d,g){const{gen:P}=d;P.if((0,e._)`Array.isArray(${g})`,()=>{P.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${g} : ${t.default.vErrors}.concat(${g})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,i.extendErrors)(d)},()=>d.error())}function o({schemaEnv:d},g){if(g.async&&!d.$async)throw new Error("async keyword in sync schema")}function c(d,g,P){if(P===void 0)throw new Error(`keyword "${g}" failed to compile`);return d.scopeValue("keyword",typeof P=="function"?{ref:P}:{ref:P,code:(0,e.stringify)(P)})}function f(d,g,P=!1){return!g.length||g.some(_=>_==="array"?Array.isArray(d):_==="object"?d&&typeof d=="object"&&!Array.isArray(d):typeof d==_||P&&typeof d>"u")}tt.validSchemaType=f;function h({schema:d,opts:g,self:P,errSchemaPath:_},m,v){if(Array.isArray(m.keyword)?!m.keyword.includes(v):m.keyword!==v)throw new Error("ajv implementation error");const l=m.dependencies;if(l!=null&&l.some(p=>!Object.prototype.hasOwnProperty.call(d,p)))throw new Error(`parent schema must have dependencies of ${v}: ${l.join(",")}`);if(m.validateSchema&&!m.validateSchema(d[v])){const y=`keyword "${v}" value is invalid at path "${_}": `+P.errorsText(m.validateSchema.errors);if(g.validateSchema==="log")P.logger.error(y);else throw new Error(y)}}return tt.validateKeywordUsage=h,tt}var jt={},To;function ud(){if(To)return jt;To=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.extendSubschemaMode=jt.extendSubschemaData=jt.getSubschema=void 0;const e=se(),t=fe();function r(n,{keyword:a,schemaProp:u,schema:o,schemaPath:c,errSchemaPath:f,topSchemaRef:h}){if(a!==void 0&&o!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const d=n.schema[a];return u===void 0?{schema:d,schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(a)}`,errSchemaPath:`${n.errSchemaPath}/${a}`}:{schema:d[u],schemaPath:(0,e._)`${n.schemaPath}${(0,e.getProperty)(a)}${(0,e.getProperty)(u)}`,errSchemaPath:`${n.errSchemaPath}/${a}/${(0,t.escapeFragment)(u)}`}}if(o!==void 0){if(c===void 0||f===void 0||h===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:o,schemaPath:c,topSchemaRef:h,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}jt.getSubschema=r;function i(n,a,{dataProp:u,dataPropType:o,data:c,dataTypes:f,propertyName:h}){if(c!==void 0&&u!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:d}=a;if(u!==void 0){const{errorPath:P,dataPathArr:_,opts:m}=a,v=d.let("data",(0,e._)`${a.data}${(0,e.getProperty)(u)}`,!0);g(v),n.errorPath=(0,e.str)`${P}${(0,t.getErrorPath)(u,o,m.jsPropertySyntax)}`,n.parentDataProperty=(0,e._)`${u}`,n.dataPathArr=[..._,n.parentDataProperty]}if(c!==void 0){const P=c instanceof e.Name?c:d.let("data",c,!0);g(P),h!==void 0&&(n.propertyName=h)}f&&(n.dataTypes=f);function g(P){n.data=P,n.dataLevel=a.dataLevel+1,n.dataTypes=[],a.definedProperties=new Set,n.parentData=a.data,n.dataNames=[...a.dataNames,P]}}jt.extendSubschemaData=i;function s(n,{jtdDiscriminator:a,jtdMetadata:u,compositeRule:o,createErrors:c,allErrors:f}){o!==void 0&&(n.compositeRule=o),c!==void 0&&(n.createErrors=c),f!==void 0&&(n.allErrors=f),n.jtdDiscriminator=a,n.jtdMetadata=u}return jt.extendSubschemaMode=s,jt}var Ne={},ma,Ro;function jo(){return Ro||(Ro=1,ma=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var i,s,n;if(Array.isArray(t)){if(i=t.length,i!=r.length)return!1;for(s=i;s--!==0;)if(!e(t[s],r[s]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(n=Object.keys(t),i=n.length,i!==Object.keys(r).length)return!1;for(s=i;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,n[s]))return!1;for(s=i;s--!==0;){var a=n[s];if(!e(t[a],r[a]))return!1}return!0}return t!==t&&r!==r}),ma}var pa={exports:{}},Mo;function ld(){if(Mo)return pa.exports;Mo=1;var e=pa.exports=function(i,s,n){typeof s=="function"&&(n=s,s={}),n=s.cb||n;var a=typeof n=="function"?n:n.pre||function(){},u=n.post||function(){};t(s,a,u,i,"",i)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(i,s,n,a,u,o,c,f,h,d){if(a&&typeof a=="object"&&!Array.isArray(a)){s(a,u,o,c,f,h,d);for(var g in a){var P=a[g];if(Array.isArray(P)){if(g in e.arrayKeywords)for(var _=0;_<P.length;_++)t(i,s,n,P[_],u+"/"+g+"/"+_,o,u,g,a,_)}else if(g in e.propsKeywords){if(P&&typeof P=="object")for(var m in P)t(i,s,n,P[m],u+"/"+g+"/"+r(m),o,u,g,a,m)}else(g in e.keywords||i.allKeys&&!(g in e.skipKeywords))&&t(i,s,n,P,u+"/"+g,o,u,g,a)}n(a,u,o,c,f,h,d)}}function r(i){return i.replace(/~/g,"~0").replace(/\//g,"~1")}return pa.exports}var No;function Yn(){if(No)return Ne;No=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.getSchemaRefs=Ne.resolveUrl=Ne.normalizeId=Ne._getFullPath=Ne.getFullPath=Ne.inlineRef=void 0;const e=fe(),t=jo(),r=ld(),i=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function s(_,m=!0){return typeof _=="boolean"?!0:m===!0?!a(_):m?u(_)<=m:!1}Ne.inlineRef=s;const n=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(_){for(const m in _){if(n.has(m))return!0;const v=_[m];if(Array.isArray(v)&&v.some(a)||typeof v=="object"&&a(v))return!0}return!1}function u(_){let m=0;for(const v in _){if(v==="$ref")return 1/0;if(m++,!i.has(v)&&(typeof _[v]=="object"&&(0,e.eachItem)(_[v],l=>m+=u(l)),m===1/0))return 1/0}return m}function o(_,m="",v){v!==!1&&(m=h(m));const l=_.parse(m);return c(_,l)}Ne.getFullPath=o;function c(_,m){return _.serialize(m).split("#")[0]+"#"}Ne._getFullPath=c;const f=/#\/?$/;function h(_){return _?_.replace(f,""):""}Ne.normalizeId=h;function d(_,m,v){return v=h(v),_.resolve(m,v)}Ne.resolveUrl=d;const g=/^[a-z_][-a-z0-9._]*$/i;function P(_,m){if(typeof _=="boolean")return{};const{schemaId:v,uriResolver:l}=this.opts,p=h(_[v]||m),y={"":p},w=o(l,p,!1),b={},E=new Set;return r(_,{allKeys:!0},(C,U,H,F)=>{if(F===void 0)return;const G=w+U;let J=y[F];typeof C[v]=="string"&&(J=ee.call(this,C[v])),Z.call(this,C.$anchor),Z.call(this,C.$dynamicAnchor),y[U]=J;function ee(X){const oe=this.opts.uriResolver.resolve;if(X=h(J?oe(J,X):X),E.has(X))throw O(X);E.add(X);let q=this.refs[X];return typeof q=="string"&&(q=this.refs[q]),typeof q=="object"?S(C,q.schema,X):X!==h(G)&&(X[0]==="#"?(S(C,b[X],X),b[X]=C):this.refs[X]=G),X}function Z(X){if(typeof X=="string"){if(!g.test(X))throw new Error(`invalid anchor "${X}"`);ee.call(this,`#${X}`)}}}),b;function S(C,U,H){if(U!==void 0&&!t(C,U))throw O(H)}function O(C){return new Error(`reference "${C}" resolves to more than one schema`)}}return Ne.getSchemaRefs=P,Ne}var Io;function Xn(){if(Io)return Tt;Io=1,Object.defineProperty(Tt,"__esModule",{value:!0}),Tt.getData=Tt.KeywordCxt=Tt.validateFunctionCode=void 0;const e=ad(),t=Jn(),r=$o(),i=Jn(),s=sd(),n=od(),a=ud(),u=se(),o=Yt(),c=Yn(),f=fe(),h=Bn();function d(T){if(w(T)&&(E(T),y(T))){m(T);return}g(T,()=>(0,e.topBoolOrEmptySchema)(T))}Tt.validateFunctionCode=d;function g({gen:T,validateName:N,schema:L,schemaEnv:V,opts:Q},ae){Q.code.es5?T.func(N,(0,u._)`${o.default.data}, ${o.default.valCxt}`,V.$async,()=>{T.code((0,u._)`"use strict"; ${l(L,Q)}`),_(T,Q),T.code(ae)}):T.func(N,(0,u._)`${o.default.data}, ${P(Q)}`,V.$async,()=>T.code(l(L,Q)).code(ae))}function P(T){return(0,u._)`{${o.default.instancePath}="", ${o.default.parentData}, ${o.default.parentDataProperty}, ${o.default.rootData}=${o.default.data}${T.dynamicRef?(0,u._)`, ${o.default.dynamicAnchors}={}`:u.nil}}={}`}function _(T,N){T.if(o.default.valCxt,()=>{T.var(o.default.instancePath,(0,u._)`${o.default.valCxt}.${o.default.instancePath}`),T.var(o.default.parentData,(0,u._)`${o.default.valCxt}.${o.default.parentData}`),T.var(o.default.parentDataProperty,(0,u._)`${o.default.valCxt}.${o.default.parentDataProperty}`),T.var(o.default.rootData,(0,u._)`${o.default.valCxt}.${o.default.rootData}`),N.dynamicRef&&T.var(o.default.dynamicAnchors,(0,u._)`${o.default.valCxt}.${o.default.dynamicAnchors}`)},()=>{T.var(o.default.instancePath,(0,u._)`""`),T.var(o.default.parentData,(0,u._)`undefined`),T.var(o.default.parentDataProperty,(0,u._)`undefined`),T.var(o.default.rootData,o.default.data),N.dynamicRef&&T.var(o.default.dynamicAnchors,(0,u._)`{}`)})}function m(T){const{schema:N,opts:L,gen:V}=T;g(T,()=>{L.$comment&&N.$comment&&F(T),C(T),V.let(o.default.vErrors,null),V.let(o.default.errors,0),L.unevaluated&&v(T),S(T),G(T)})}function v(T){const{gen:N,validateName:L}=T;T.evaluated=N.const("evaluated",(0,u._)`${L}.evaluated`),N.if((0,u._)`${T.evaluated}.dynamicProps`,()=>N.assign((0,u._)`${T.evaluated}.props`,(0,u._)`undefined`)),N.if((0,u._)`${T.evaluated}.dynamicItems`,()=>N.assign((0,u._)`${T.evaluated}.items`,(0,u._)`undefined`))}function l(T,N){const L=typeof T=="object"&&T[N.schemaId];return L&&(N.code.source||N.code.process)?(0,u._)`/*# sourceURL=${L} */`:u.nil}function p(T,N){if(w(T)&&(E(T),y(T))){b(T,N);return}(0,e.boolOrEmptySchema)(T,N)}function y({schema:T,self:N}){if(typeof T=="boolean")return!T;for(const L in T)if(N.RULES.all[L])return!0;return!1}function w(T){return typeof T.schema!="boolean"}function b(T,N){const{schema:L,gen:V,opts:Q}=T;Q.$comment&&L.$comment&&F(T),U(T),H(T);const ae=V.const("_errs",o.default.errors);S(T,ae),V.var(N,(0,u._)`${ae} === ${o.default.errors}`)}function E(T){(0,f.checkUnknownRules)(T),O(T)}function S(T,N){if(T.opts.jtd)return ee(T,[],!1,N);const L=(0,t.getSchemaTypes)(T.schema),V=(0,t.coerceAndCheckDataType)(T,L);ee(T,L,!V,N)}function O(T){const{schema:N,errSchemaPath:L,opts:V,self:Q}=T;N.$ref&&V.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(N,Q.RULES)&&Q.logger.warn(`$ref: keywords ignored in schema at path "${L}"`)}function C(T){const{schema:N,opts:L}=T;N.default!==void 0&&L.useDefaults&&L.strictSchema&&(0,f.checkStrictMode)(T,"default is ignored in the schema root")}function U(T){const N=T.schema[T.opts.schemaId];N&&(T.baseId=(0,c.resolveUrl)(T.opts.uriResolver,T.baseId,N))}function H(T){if(T.schema.$async&&!T.schemaEnv.$async)throw new Error("async schema in sync schema")}function F({gen:T,schemaEnv:N,schema:L,errSchemaPath:V,opts:Q}){const ae=L.$comment;if(Q.$comment===!0)T.code((0,u._)`${o.default.self}.logger.log(${ae})`);else if(typeof Q.$comment=="function"){const Se=(0,u.str)`${V}/$comment`,it=T.scopeValue("root",{ref:N.root});T.code((0,u._)`${o.default.self}.opts.$comment(${ae}, ${Se}, ${it}.schema)`)}}function G(T){const{gen:N,schemaEnv:L,validateName:V,ValidationError:Q,opts:ae}=T;L.$async?N.if((0,u._)`${o.default.errors} === 0`,()=>N.return(o.default.data),()=>N.throw((0,u._)`new ${Q}(${o.default.vErrors})`)):(N.assign((0,u._)`${V}.errors`,o.default.vErrors),ae.unevaluated&&J(T),N.return((0,u._)`${o.default.errors} === 0`))}function J({gen:T,evaluated:N,props:L,items:V}){L instanceof u.Name&&T.assign((0,u._)`${N}.props`,L),V instanceof u.Name&&T.assign((0,u._)`${N}.items`,V)}function ee(T,N,L,V){const{gen:Q,schema:ae,data:Se,allErrors:it,opts:Le,self:qe}=T,{RULES:De}=qe;if(ae.$ref&&(Le.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(ae,De))){Q.block(()=>B(T,"$ref",De.all.$ref.definition));return}Le.jtd||X(T,N),Q.block(()=>{for(const Ye of De.rules)Sr(Ye);Sr(De.post)});function Sr(Ye){(0,r.shouldUseGroup)(ae,Ye)&&(Ye.type?(Q.if((0,i.checkDataType)(Ye.type,Se,Le.strictNumbers)),Z(T,Ye),N.length===1&&N[0]===Ye.type&&L&&(Q.else(),(0,i.reportTypeError)(T)),Q.endIf()):Z(T,Ye),it||Q.if((0,u._)`${o.default.errors} === ${V||0}`))}}function Z(T,N){const{gen:L,schema:V,opts:{useDefaults:Q}}=T;Q&&(0,s.assignDefaults)(T,N.type),L.block(()=>{for(const ae of N.rules)(0,r.shouldUseRule)(V,ae)&&B(T,ae.keyword,ae.definition,N.type)})}function X(T,N){T.schemaEnv.meta||!T.opts.strictTypes||(oe(T,N),T.opts.allowUnionTypes||q(T,N),j(T,T.dataTypes))}function oe(T,N){if(N.length){if(!T.dataTypes.length){T.dataTypes=N;return}N.forEach(L=>{M(T.dataTypes,L)||D(T,`type "${L}" not allowed by context "${T.dataTypes.join(",")}"`)}),$(T,N)}}function q(T,N){N.length>1&&!(N.length===2&&N.includes("null"))&&D(T,"use allowUnionTypes to allow union type keyword")}function j(T,N){const L=T.self.RULES.all;for(const V in L){const Q=L[V];if(typeof Q=="object"&&(0,r.shouldUseRule)(T.schema,Q)){const{type:ae}=Q.definition;ae.length&&!ae.some(Se=>A(N,Se))&&D(T,`missing type "${ae.join(",")}" for keyword "${V}"`)}}}function A(T,N){return T.includes(N)||N==="number"&&T.includes("integer")}function M(T,N){return T.includes(N)||N==="integer"&&T.includes("number")}function $(T,N){const L=[];for(const V of T.dataTypes)M(N,V)?L.push(V):N.includes("integer")&&V==="number"&&L.push("integer");T.dataTypes=L}function D(T,N){const L=T.schemaEnv.baseId+T.errSchemaPath;N+=` at "${L}" (strictTypes)`,(0,f.checkStrictMode)(T,N,T.opts.strictTypes)}class I{constructor(N,L,V){if((0,n.validateKeywordUsage)(N,L,V),this.gen=N.gen,this.allErrors=N.allErrors,this.keyword=V,this.data=N.data,this.schema=N.schema[V],this.$data=L.$data&&N.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(N,this.schema,V,this.$data),this.schemaType=L.schemaType,this.parentSchema=N.schema,this.params={},this.it=N,this.def=L,this.$data)this.schemaCode=N.gen.const("vSchema",ue(this.$data,N));else if(this.schemaCode=this.schemaValue,!(0,n.validSchemaType)(this.schema,L.schemaType,L.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(L.schemaType)}`);("code"in L?L.trackErrors:L.errors!==!1)&&(this.errsCount=N.gen.const("_errs",o.default.errors))}result(N,L,V){this.failResult((0,u.not)(N),L,V)}failResult(N,L,V){this.gen.if(N),V?V():this.error(),L?(this.gen.else(),L(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(N,L){this.failResult((0,u.not)(N),void 0,L)}fail(N){if(N===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(N),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(N){if(!this.$data)return this.fail(N);const{schemaCode:L}=this;this.fail((0,u._)`${L} !== undefined && (${(0,u.or)(this.invalid$data(),N)})`)}error(N,L,V){if(L){this.setParams(L),this._error(N,V),this.setParams({});return}this._error(N,V)}_error(N,L){(N?h.reportExtraError:h.reportError)(this,this.def.error,L)}$dataError(){(0,h.reportError)(this,this.def.$dataError||h.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,h.resetErrorsCount)(this.gen,this.errsCount)}ok(N){this.allErrors||this.gen.if(N)}setParams(N,L){L?Object.assign(this.params,N):this.params=N}block$data(N,L,V=u.nil){this.gen.block(()=>{this.check$data(N,V),L()})}check$data(N=u.nil,L=u.nil){if(!this.$data)return;const{gen:V,schemaCode:Q,schemaType:ae,def:Se}=this;V.if((0,u.or)((0,u._)`${Q} === undefined`,L)),N!==u.nil&&V.assign(N,!0),(ae.length||Se.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),N!==u.nil&&V.assign(N,!1)),V.else()}invalid$data(){const{gen:N,schemaCode:L,schemaType:V,def:Q,it:ae}=this;return(0,u.or)(Se(),it());function Se(){if(V.length){if(!(L instanceof u.Name))throw new Error("ajv implementation error");const Le=Array.isArray(V)?V:[V];return(0,u._)`${(0,i.checkDataTypes)(Le,L,ae.opts.strictNumbers,i.DataType.Wrong)}`}return u.nil}function it(){if(Q.validateSchema){const Le=N.scopeValue("validate$data",{ref:Q.validateSchema});return(0,u._)`!${Le}(${L})`}return u.nil}}subschema(N,L){const V=(0,a.getSubschema)(this.it,N);(0,a.extendSubschemaData)(V,this.it,N),(0,a.extendSubschemaMode)(V,N);const Q={...this.it,...V,items:void 0,props:void 0};return p(Q,L),Q}mergeEvaluated(N,L){const{it:V,gen:Q}=this;V.opts.unevaluated&&(V.props!==!0&&N.props!==void 0&&(V.props=f.mergeEvaluated.props(Q,N.props,V.props,L)),V.items!==!0&&N.items!==void 0&&(V.items=f.mergeEvaluated.items(Q,N.items,V.items,L)))}mergeValidEvaluated(N,L){const{it:V,gen:Q}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return Q.if(L,()=>this.mergeEvaluated(N,u.Name)),!0}}Tt.KeywordCxt=I;function B(T,N,L,V){const Q=new I(T,L,N);"code"in L?L.code(Q,V):Q.$data&&L.validate?(0,n.funcKeywordCode)(Q,L):"macro"in L?(0,n.macroKeywordCode)(Q,L):(L.compile||L.validate)&&(0,n.funcKeywordCode)(Q,L)}const Y=/^\/(?:[^~]|~0|~1)*$/,de=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ue(T,{dataLevel:N,dataNames:L,dataPathArr:V}){let Q,ae;if(T==="")return o.default.rootData;if(T[0]==="/"){if(!Y.test(T))throw new Error(`Invalid JSON-pointer: ${T}`);Q=T,ae=o.default.rootData}else{const qe=de.exec(T);if(!qe)throw new Error(`Invalid JSON-pointer: ${T}`);const De=+qe[1];if(Q=qe[2],Q==="#"){if(De>=N)throw new Error(Le("property/index",De));return V[N-De]}if(De>N)throw new Error(Le("data",De));if(ae=L[N-De],!Q)return ae}let Se=ae;const it=Q.split("/");for(const qe of it)qe&&(ae=(0,u._)`${ae}${(0,u.getProperty)((0,f.unescapeJsonPointer)(qe))}`,Se=(0,u._)`${Se} && ${ae}`);return Se;function Le(qe,De){return`Cannot access ${qe} ${De} levels up, current level is ${N}`}}return Tt.getData=ue,Tt}var Qn={},Co;function va(){if(Co)return Qn;Co=1,Object.defineProperty(Qn,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return Qn.default=e,Qn}var Zn={},Ao;function xn(){if(Ao)return Zn;Ao=1,Object.defineProperty(Zn,"__esModule",{value:!0});const e=Yn();class t extends Error{constructor(i,s,n,a){super(a||`can't resolve reference ${n} from id ${s}`),this.missingRef=(0,e.resolveUrl)(i,s,n),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(i,this.missingRef))}}return Zn.default=t,Zn}var Fe={},Lo;function ga(){if(Lo)return Fe;Lo=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.resolveSchema=Fe.getCompilingSchema=Fe.resolveRef=Fe.compileSchema=Fe.SchemaEnv=void 0;const e=se(),t=va(),r=Yt(),i=Yn(),s=fe(),n=Xn();class a{constructor(v){var l;this.refs={},this.dynamicAnchors={};let p;typeof v.schema=="object"&&(p=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(l=v.baseId)!==null&&l!==void 0?l:(0,i.normalizeId)(p==null?void 0:p[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=p==null?void 0:p.$async,this.refs={}}}Fe.SchemaEnv=a;function u(m){const v=f.call(this,m);if(v)return v;const l=(0,i.getFullPath)(this.opts.uriResolver,m.root.baseId),{es5:p,lines:y}=this.opts.code,{ownProperties:w}=this.opts,b=new e.CodeGen(this.scope,{es5:p,lines:y,ownProperties:w});let E;m.$async&&(E=b.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const S=b.scopeName("validate");m.validateName=S;const O={gen:b,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:m.schema,code:(0,e.stringify)(m.schema)}:{ref:m.schema}),validateName:S,ValidationError:E,schema:m.schema,schemaEnv:m,rootId:l,baseId:m.baseId||l,schemaPath:e.nil,errSchemaPath:m.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let C;try{this._compilations.add(m),(0,n.validateFunctionCode)(O),b.optimize(this.opts.code.optimize);const U=b.toString();C=`${b.scopeRefs(r.default.scope)}return ${U}`,this.opts.code.process&&(C=this.opts.code.process(C,m));const F=new Function(`${r.default.self}`,`${r.default.scope}`,C)(this,this.scope.get());if(this.scope.value(S,{ref:F}),F.errors=null,F.schema=m.schema,F.schemaEnv=m,m.$async&&(F.$async=!0),this.opts.code.source===!0&&(F.source={validateName:S,validateCode:U,scopeValues:b._values}),this.opts.unevaluated){const{props:G,items:J}=O;F.evaluated={props:G instanceof e.Name?void 0:G,items:J instanceof e.Name?void 0:J,dynamicProps:G instanceof e.Name,dynamicItems:J instanceof e.Name},F.source&&(F.source.evaluated=(0,e.stringify)(F.evaluated))}return m.validate=F,m}catch(U){throw delete m.validate,delete m.validateName,C&&this.logger.error("Error compiling schema, function code:",C),U}finally{this._compilations.delete(m)}}Fe.compileSchema=u;function o(m,v,l){var p;l=(0,i.resolveUrl)(this.opts.uriResolver,v,l);const y=m.refs[l];if(y)return y;let w=d.call(this,m,l);if(w===void 0){const b=(p=m.localRefs)===null||p===void 0?void 0:p[l],{schemaId:E}=this.opts;b&&(w=new a({schema:b,schemaId:E,root:m,baseId:v}))}if(w!==void 0)return m.refs[l]=c.call(this,w)}Fe.resolveRef=o;function c(m){return(0,i.inlineRef)(m.schema,this.opts.inlineRefs)?m.schema:m.validate?m:u.call(this,m)}function f(m){for(const v of this._compilations)if(h(v,m))return v}Fe.getCompilingSchema=f;function h(m,v){return m.schema===v.schema&&m.root===v.root&&m.baseId===v.baseId}function d(m,v){let l;for(;typeof(l=this.refs[v])=="string";)v=l;return l||this.schemas[v]||g.call(this,m,v)}function g(m,v){const l=this.opts.uriResolver.parse(v),p=(0,i._getFullPath)(this.opts.uriResolver,l);let y=(0,i.getFullPath)(this.opts.uriResolver,m.baseId,void 0);if(Object.keys(m.schema).length>0&&p===y)return _.call(this,l,m);const w=(0,i.normalizeId)(p),b=this.refs[w]||this.schemas[w];if(typeof b=="string"){const E=g.call(this,m,b);return typeof(E==null?void 0:E.schema)!="object"?void 0:_.call(this,l,E)}if(typeof(b==null?void 0:b.schema)=="object"){if(b.validate||u.call(this,b),w===(0,i.normalizeId)(v)){const{schema:E}=b,{schemaId:S}=this.opts,O=E[S];return O&&(y=(0,i.resolveUrl)(this.opts.uriResolver,y,O)),new a({schema:E,schemaId:S,root:m,baseId:y})}return _.call(this,l,b)}}Fe.resolveSchema=g;const P=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(m,{baseId:v,schema:l,root:p}){var y;if(((y=m.fragment)===null||y===void 0?void 0:y[0])!=="/")return;for(const E of m.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const S=l[(0,s.unescapeFragment)(E)];if(S===void 0)return;l=S;const O=typeof l=="object"&&l[this.opts.schemaId];!P.has(E)&&O&&(v=(0,i.resolveUrl)(this.opts.uriResolver,v,O))}let w;if(typeof l!="boolean"&&l.$ref&&!(0,s.schemaHasRulesButRef)(l,this.RULES)){const E=(0,i.resolveUrl)(this.opts.uriResolver,v,l.$ref);w=g.call(this,p,E)}const{schemaId:b}=this.opts;if(w=w||new a({schema:l,schemaId:b,root:p,baseId:v}),w.schema!==w.root.schema)return w}return Fe}const cd={$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON AnySchema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1};var ei={},rn={exports:{}},_a,qo;function dd(){return qo||(qo=1,_a={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),_a}var ya,ko;function fd(){if(ko)return ya;ko=1;const{HEX:e}=dd(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(_){if(u(_,".")<3)return{host:_,isIPV4:!1};const m=_.match(t)||[],[v]=m;return v?{host:a(v,"."),isIPV4:!0}:{host:_,isIPV4:!1}}function i(_,m=!1){let v="",l=!0;for(const p of _){if(e[p]===void 0)return;p!=="0"&&l===!0&&(l=!1),l||(v+=p)}return m&&v.length===0&&(v="0"),v}function s(_){let m=0;const v={error:!1,address:"",zone:""},l=[],p=[];let y=!1,w=!1,b=!1;function E(){if(p.length){if(y===!1){const S=i(p);if(S!==void 0)l.push(S);else return v.error=!0,!1}p.length=0}return!0}for(let S=0;S<_.length;S++){const O=_[S];if(!(O==="["||O==="]"))if(O===":"){if(w===!0&&(b=!0),!E())break;if(m++,l.push(":"),m>7){v.error=!0;break}S-1>=0&&_[S-1]===":"&&(w=!0);continue}else if(O==="%"){if(!E())break;y=!0}else{p.push(O);continue}}return p.length&&(y?v.zone=p.join(""):b?l.push(p.join("")):l.push(i(p))),v.address=l.join(""),v}function n(_){if(u(_,":")<2)return{host:_,isIPV6:!1};const m=s(_);if(m.error)return{host:_,isIPV6:!1};{let v=m.address,l=m.address;return m.zone&&(v+="%"+m.zone,l+="%25"+m.zone),{host:v,escapedHost:l,isIPV6:!0}}}function a(_,m){let v="",l=!0;const p=_.length;for(let y=0;y<p;y++){const w=_[y];w==="0"&&l?(y+1<=p&&_[y+1]===m||y+1===p)&&(v+=w,l=!1):(w===m?l=!0:l=!1,v+=w)}return v}function u(_,m){let v=0;for(let l=0;l<_.length;l++)_[l]===m&&v++;return v}const o=/^\.\.?\//u,c=/^\/\.(?:\/|$)/u,f=/^\/\.\.(?:\/|$)/u,h=/^\/?(?:.|\n)*?(?=\/|$)/u;function d(_){const m=[];for(;_.length;)if(_.match(o))_=_.replace(o,"");else if(_.match(c))_=_.replace(c,"/");else if(_.match(f))_=_.replace(f,"/"),m.pop();else if(_==="."||_==="..")_="";else{const v=_.match(h);if(v){const l=v[0];_=_.slice(l.length),m.push(l)}else throw new Error("Unexpected dot segment condition")}return m.join("")}function g(_,m){const v=m!==!0?escape:unescape;return _.scheme!==void 0&&(_.scheme=v(_.scheme)),_.userinfo!==void 0&&(_.userinfo=v(_.userinfo)),_.host!==void 0&&(_.host=v(_.host)),_.path!==void 0&&(_.path=v(_.path)),_.query!==void 0&&(_.query=v(_.query)),_.fragment!==void 0&&(_.fragment=v(_.fragment)),_}function P(_){const m=[];if(_.userinfo!==void 0&&(m.push(_.userinfo),m.push("@")),_.host!==void 0){let v=unescape(_.host);const l=r(v);if(l.isIPV4)v=l.host;else{const p=n(l.host);p.isIPV6===!0?v=`[${p.escapedHost}]`:v=_.host}m.push(v)}return(typeof _.port=="number"||typeof _.port=="string")&&(m.push(":"),m.push(String(_.port))),m.length?m.join(""):void 0}return ya={recomposeAuthority:P,normalizeComponentEncoding:g,removeDotSegments:d,normalizeIPv4:r,normalizeIPv6:n,stringArrayToHexStripped:i},ya}var Pa,Uo;function hd(){if(Uo)return Pa;Uo=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}function i(l){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l}function s(l){const p=String(l.scheme).toLowerCase()==="https";return(l.port===(p?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}function n(l){return l.secure=r(l),l.resourceName=(l.path||"/")+(l.query?"?"+l.query:""),l.path=void 0,l.query=void 0,l}function a(l){if((l.port===(r(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){const[p,y]=l.resourceName.split("?");l.path=p&&p!=="/"?p:void 0,l.query=y,l.resourceName=void 0}return l.fragment=void 0,l}function u(l,p){if(!l.path)return l.error="URN can not be parsed",l;const y=l.path.match(t);if(y){const w=p.scheme||l.scheme||"urn";l.nid=y[1].toLowerCase(),l.nss=y[2];const b=`${w}:${p.nid||l.nid}`,E=v[b];l.path=void 0,E&&(l=E.parse(l,p))}else l.error=l.error||"URN can not be parsed.";return l}function o(l,p){const y=p.scheme||l.scheme||"urn",w=l.nid.toLowerCase(),b=`${y}:${p.nid||w}`,E=v[b];E&&(l=E.serialize(l,p));const S=l,O=l.nss;return S.path=`${w||p.nid}:${O}`,p.skipEscape=!0,S}function c(l,p){const y=l;return y.uuid=y.nss,y.nss=void 0,!p.tolerant&&(!y.uuid||!e.test(y.uuid))&&(y.error=y.error||"UUID is not valid."),y}function f(l){const p=l;return p.nss=(l.uuid||"").toLowerCase(),p}const h={scheme:"http",domainHost:!0,parse:i,serialize:s},d={scheme:"https",domainHost:h.domainHost,parse:i,serialize:s},g={scheme:"ws",domainHost:!0,parse:n,serialize:a},P={scheme:"wss",domainHost:g.domainHost,parse:g.parse,serialize:g.serialize},v={http:h,https:d,ws:g,wss:P,urn:{scheme:"urn",parse:u,serialize:o,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:c,serialize:f,skipNormalize:!0}};return Pa=v,Pa}var Fo;function md(){if(Fo)return rn.exports;Fo=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:r,recomposeAuthority:i,normalizeComponentEncoding:s}=fd(),n=hd();function a(m,v){return typeof m=="string"?m=f(P(m,v),v):typeof m=="object"&&(m=P(f(m,v),v)),m}function u(m,v,l){const p=Object.assign({scheme:"null"},l),y=o(P(m,p),P(v,p),p,!0);return f(y,{...p,skipEscape:!0})}function o(m,v,l,p){const y={};return p||(m=P(f(m,l),l),v=P(f(v,l),l)),l=l||{},!l.tolerant&&v.scheme?(y.scheme=v.scheme,y.userinfo=v.userinfo,y.host=v.host,y.port=v.port,y.path=r(v.path||""),y.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(y.userinfo=v.userinfo,y.host=v.host,y.port=v.port,y.path=r(v.path||""),y.query=v.query):(v.path?(v.path.charAt(0)==="/"?y.path=r(v.path):((m.userinfo!==void 0||m.host!==void 0||m.port!==void 0)&&!m.path?y.path="/"+v.path:m.path?y.path=m.path.slice(0,m.path.lastIndexOf("/")+1)+v.path:y.path=v.path,y.path=r(y.path)),y.query=v.query):(y.path=m.path,v.query!==void 0?y.query=v.query:y.query=m.query),y.userinfo=m.userinfo,y.host=m.host,y.port=m.port),y.scheme=m.scheme),y.fragment=v.fragment,y}function c(m,v,l){return typeof m=="string"?(m=unescape(m),m=f(s(P(m,l),!0),{...l,skipEscape:!0})):typeof m=="object"&&(m=f(s(m,!0),{...l,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=f(s(P(v,l),!0),{...l,skipEscape:!0})):typeof v=="object"&&(v=f(s(v,!0),{...l,skipEscape:!0})),m.toLowerCase()===v.toLowerCase()}function f(m,v){const l={host:m.host,scheme:m.scheme,userinfo:m.userinfo,port:m.port,path:m.path,query:m.query,nid:m.nid,nss:m.nss,uuid:m.uuid,fragment:m.fragment,reference:m.reference,resourceName:m.resourceName,secure:m.secure,error:""},p=Object.assign({},v),y=[],w=n[(p.scheme||l.scheme||"").toLowerCase()];w&&w.serialize&&w.serialize(l,p),l.path!==void 0&&(p.skipEscape?l.path=unescape(l.path):(l.path=escape(l.path),l.scheme!==void 0&&(l.path=l.path.split("%3A").join(":")))),p.reference!=="suffix"&&l.scheme&&y.push(l.scheme,":");const b=i(l);if(b!==void 0&&(p.reference!=="suffix"&&y.push("//"),y.push(b),l.path&&l.path.charAt(0)!=="/"&&y.push("/")),l.path!==void 0){let E=l.path;!p.absolutePath&&(!w||!w.absolutePath)&&(E=r(E)),b===void 0&&(E=E.replace(/^\/\//u,"/%2F")),y.push(E)}return l.query!==void 0&&y.push("?",l.query),l.fragment!==void 0&&y.push("#",l.fragment),y.join("")}const h=Array.from({length:127},(m,v)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(v)));function d(m){let v=0;for(let l=0,p=m.length;l<p;++l)if(v=m.charCodeAt(l),v>126||h[v])return!0;return!1}const g=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function P(m,v){const l=Object.assign({},v),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},y=m.indexOf("%")!==-1;let w=!1;l.reference==="suffix"&&(m=(l.scheme?l.scheme+":":"")+"//"+m);const b=m.match(g);if(b){if(p.scheme=b[1],p.userinfo=b[3],p.host=b[4],p.port=parseInt(b[5],10),p.path=b[6]||"",p.query=b[7],p.fragment=b[8],isNaN(p.port)&&(p.port=b[5]),p.host){const S=t(p.host);if(S.isIPV4===!1){const O=e(S.host);p.host=O.host.toLowerCase(),w=O.isIPV6}else p.host=S.host,w=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==p.reference&&(p.error=p.error||"URI is not a "+l.reference+" reference.");const E=n[(l.scheme||p.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)&&p.host&&(l.domainHost||E&&E.domainHost)&&w===!1&&d(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(S){p.error=p.error||"Host's domain name can not be converted to ASCII: "+S}(!E||E&&!E.skipNormalize)&&(y&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),y&&p.host!==void 0&&(p.host=unescape(p.host)),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),E&&E.parse&&E.parse(p,l)}else p.error=p.error||"URI can not be parsed.";return p}const _={SCHEMES:n,normalize:a,resolve:u,resolveComponents:o,equal:c,serialize:f,parse:P};return rn.exports=_,rn.exports.default=_,rn.exports.fastUri=_,rn.exports}var Wo;function pd(){if(Wo)return ei;Wo=1,Object.defineProperty(ei,"__esModule",{value:!0});const e=md();return e.code='require("ajv/dist/runtime/uri").default',ei.default=e,ei}var Vo;function vd(){return Vo||(Vo=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=Xn();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const i=va(),s=xn(),n=wo(),a=ga(),u=se(),o=Yn(),c=Jn(),f=fe(),h=cd,d=pd(),g=(q,j)=>new RegExp(q,j);g.code="new RegExp";const P=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function p(q){var j,A,M,$,D,I,B,Y,de,ue,T,N,L,V,Q,ae,Se,it,Le,qe,De,Sr,Ye,Oa,Ta;const bn=q.strict,Ra=(j=q.code)===null||j===void 0?void 0:j.optimize,hl=Ra===!0||Ra===void 0?1:Ra||0,ml=(M=(A=q.code)===null||A===void 0?void 0:A.regExp)!==null&&M!==void 0?M:g,gh=($=q.uriResolver)!==null&&$!==void 0?$:d.default;return{strictSchema:(I=(D=q.strictSchema)!==null&&D!==void 0?D:bn)!==null&&I!==void 0?I:!0,strictNumbers:(Y=(B=q.strictNumbers)!==null&&B!==void 0?B:bn)!==null&&Y!==void 0?Y:!0,strictTypes:(ue=(de=q.strictTypes)!==null&&de!==void 0?de:bn)!==null&&ue!==void 0?ue:"log",strictTuples:(N=(T=q.strictTuples)!==null&&T!==void 0?T:bn)!==null&&N!==void 0?N:"log",strictRequired:(V=(L=q.strictRequired)!==null&&L!==void 0?L:bn)!==null&&V!==void 0?V:!1,code:q.code?{...q.code,optimize:hl,regExp:ml}:{optimize:hl,regExp:ml},loopRequired:(Q=q.loopRequired)!==null&&Q!==void 0?Q:l,loopEnum:(ae=q.loopEnum)!==null&&ae!==void 0?ae:l,meta:(Se=q.meta)!==null&&Se!==void 0?Se:!0,messages:(it=q.messages)!==null&&it!==void 0?it:!0,inlineRefs:(Le=q.inlineRefs)!==null&&Le!==void 0?Le:!0,schemaId:(qe=q.schemaId)!==null&&qe!==void 0?qe:"$id",addUsedSchema:(De=q.addUsedSchema)!==null&&De!==void 0?De:!0,validateSchema:(Sr=q.validateSchema)!==null&&Sr!==void 0?Sr:!0,validateFormats:(Ye=q.validateFormats)!==null&&Ye!==void 0?Ye:!0,unicodeRegExp:(Oa=q.unicodeRegExp)!==null&&Oa!==void 0?Oa:!0,int32range:(Ta=q.int32range)!==null&&Ta!==void 0?Ta:!0,uriResolver:gh}}class y{constructor(j={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,j=this.opts={...j,...p(j)};const{es5:A,lines:M}=this.opts.code;this.scope=new u.ValueScope({scope:{},prefixes:_,es5:A,lines:M}),this.logger=H(j.logger);const $=j.validateFormats;j.validateFormats=!1,this.RULES=(0,n.getRules)(),w.call(this,m,j,"NOT SUPPORTED"),w.call(this,v,j,"DEPRECATED","warn"),this._metaOpts=C.call(this),j.formats&&S.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),j.keywords&&O.call(this,j.keywords),typeof j.meta=="object"&&this.addMetaSchema(j.meta),E.call(this),j.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:j,meta:A,schemaId:M}=this.opts;let $=h;M==="id"&&($={...h},$.id=$.$id,delete $.$id),A&&j&&this.addMetaSchema($,$[M],!1)}defaultMeta(){const{meta:j,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof j=="object"?j[A]||j:void 0}validate(j,A){let M;if(typeof j=="string"){if(M=this.getSchema(j),!M)throw new Error(`no schema with key or ref "${j}"`)}else M=this.compile(j);const $=M(A);return"$async"in M||(this.errors=M.errors),$}compile(j,A){const M=this._addSchema(j,A);return M.validate||this._compileSchemaEnv(M)}compileAsync(j,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:M}=this.opts;return $.call(this,j,A);async function $(ue,T){await D.call(this,ue.$schema);const N=this._addSchema(ue,T);return N.validate||I.call(this,N)}async function D(ue){ue&&!this.getSchema(ue)&&await $.call(this,{$ref:ue},!0)}async function I(ue){try{return this._compileSchemaEnv(ue)}catch(T){if(!(T instanceof s.default))throw T;return B.call(this,T),await Y.call(this,T.missingSchema),I.call(this,ue)}}function B({missingSchema:ue,missingRef:T}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${T} cannot be resolved`)}async function Y(ue){const T=await de.call(this,ue);this.refs[ue]||await D.call(this,T.$schema),this.refs[ue]||this.addSchema(T,ue,A)}async function de(ue){const T=this._loading[ue];if(T)return T;try{return await(this._loading[ue]=M(ue))}finally{delete this._loading[ue]}}}addSchema(j,A,M,$=this.opts.validateSchema){if(Array.isArray(j)){for(const I of j)this.addSchema(I,void 0,M,$);return this}let D;if(typeof j=="object"){const{schemaId:I}=this.opts;if(D=j[I],D!==void 0&&typeof D!="string")throw new Error(`schema ${I} must be string`)}return A=(0,o.normalizeId)(A||D),this._checkUnique(A),this.schemas[A]=this._addSchema(j,M,A,$,!0),this}addMetaSchema(j,A,M=this.opts.validateSchema){return this.addSchema(j,A,!0,M),this}validateSchema(j,A){if(typeof j=="boolean")return!0;let M;if(M=j.$schema,M!==void 0&&typeof M!="string")throw new Error("$schema must be a string");if(M=M||this.opts.defaultMeta||this.defaultMeta(),!M)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(M,j);if(!$&&A){const D="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(D);else throw new Error(D)}return $}getSchema(j){let A;for(;typeof(A=b.call(this,j))=="string";)j=A;if(A===void 0){const{schemaId:M}=this.opts,$=new a.SchemaEnv({schema:{},schemaId:M});if(A=a.resolveSchema.call(this,$,j),!A)return;this.refs[j]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(j){if(j instanceof RegExp)return this._removeAllSchemas(this.schemas,j),this._removeAllSchemas(this.refs,j),this;switch(typeof j){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=b.call(this,j);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[j],delete this.refs[j],this}case"object":{const A=j;this._cache.delete(A);let M=j[this.opts.schemaId];return M&&(M=(0,o.normalizeId)(M),delete this.schemas[M],delete this.refs[M]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(j){for(const A of j)this.addKeyword(A);return this}addKeyword(j,A){let M;if(typeof j=="string")M=j,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=M);else if(typeof j=="object"&&A===void 0){if(A=j,M=A.keyword,Array.isArray(M)&&!M.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(G.call(this,M,A),!A)return(0,f.eachItem)(M,D=>J.call(this,D)),this;Z.call(this,A);const $={...A,type:(0,c.getJSONTypes)(A.type),schemaType:(0,c.getJSONTypes)(A.schemaType)};return(0,f.eachItem)(M,$.type.length===0?D=>J.call(this,D,$):D=>$.type.forEach(I=>J.call(this,D,$,I))),this}getKeyword(j){const A=this.RULES.all[j];return typeof A=="object"?A.definition:!!A}removeKeyword(j){const{RULES:A}=this;delete A.keywords[j],delete A.all[j];for(const M of A.rules){const $=M.rules.findIndex(D=>D.keyword===j);$>=0&&M.rules.splice($,1)}return this}addFormat(j,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[j]=A,this}errorsText(j=this.errors,{separator:A=", ",dataVar:M="data"}={}){return!j||j.length===0?"No errors":j.map($=>`${M}${$.instancePath} ${$.message}`).reduce(($,D)=>$+A+D)}$dataMetaSchema(j,A){const M=this.RULES.all;j=JSON.parse(JSON.stringify(j));for(const $ of A){const D=$.split("/").slice(1);let I=j;for(const B of D)I=I[B];for(const B in M){const Y=M[B];if(typeof Y!="object")continue;const{$data:de}=Y.definition,ue=I[B];de&&ue&&(I[B]=oe(ue))}}return j}_removeAllSchemas(j,A){for(const M in j){const $=j[M];(!A||A.test(M))&&(typeof $=="string"?delete j[M]:$&&!$.meta&&(this._cache.delete($.schema),delete j[M]))}}_addSchema(j,A,M,$=this.opts.validateSchema,D=this.opts.addUsedSchema){let I;const{schemaId:B}=this.opts;if(typeof j=="object")I=j[B];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof j!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(j);if(Y!==void 0)return Y;M=(0,o.normalizeId)(I||M);const de=o.getSchemaRefs.call(this,j,M);return Y=new a.SchemaEnv({schema:j,schemaId:B,meta:A,baseId:M,localRefs:de}),this._cache.set(Y.schema,Y),D&&!M.startsWith("#")&&(M&&this._checkUnique(M),this.refs[M]=Y),$&&this.validateSchema(j,!0),Y}_checkUnique(j){if(this.schemas[j]||this.refs[j])throw new Error(`schema with key or id "${j}" already exists`)}_compileSchemaEnv(j){if(j.meta?this._compileMetaSchema(j):a.compileSchema.call(this,j),!j.validate)throw new Error("ajv implementation error");return j.validate}_compileMetaSchema(j){const A=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,j)}finally{this.opts=A}}}y.ValidationError=i.default,y.MissingRefError=s.default,e.default=y;function w(q,j,A,M="error"){for(const $ in q){const D=$;D in j&&this.logger[M](`${A}: option ${$}. ${q[D]}`)}}function b(q){return q=(0,o.normalizeId)(q),this.schemas[q]||this.refs[q]}function E(){const q=this.opts.schemas;if(q)if(Array.isArray(q))this.addSchema(q);else for(const j in q)this.addSchema(q[j],j)}function S(){for(const q in this.opts.formats){const j=this.opts.formats[q];j&&this.addFormat(q,j)}}function O(q){if(Array.isArray(q)){this.addVocabulary(q);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const j in q){const A=q[j];A.keyword||(A.keyword=j),this.addKeyword(A)}}function C(){const q={...this.opts};for(const j of P)delete q[j];return q}const U={log(){},warn(){},error(){}};function H(q){if(q===!1)return U;if(q===void 0)return console;if(q.log&&q.warn&&q.error)return q;throw new Error("logger must implement log, warn and error methods")}const F=/^[a-z_$][a-z0-9_$:-]*$/i;function G(q,j){const{RULES:A}=this;if((0,f.eachItem)(q,M=>{if(A.keywords[M])throw new Error(`Keyword ${M} is already defined`);if(!F.test(M))throw new Error(`Keyword ${M} has invalid name`)}),!!j&&j.$data&&!("code"in j||"validate"in j))throw new Error('$data keyword must have "code" or "validate" function')}function J(q,j,A){var M;const $=j==null?void 0:j.post;if(A&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:D}=this;let I=$?D.post:D.rules.find(({type:Y})=>Y===A);if(I||(I={type:A,rules:[]},D.rules.push(I)),D.keywords[q]=!0,!j)return;const B={keyword:q,definition:{...j,type:(0,c.getJSONTypes)(j.type),schemaType:(0,c.getJSONTypes)(j.schemaType)}};j.before?ee.call(this,I,B,j.before):I.rules.push(B),D.all[q]=B,(M=j.implements)===null||M===void 0||M.forEach(Y=>this.addKeyword(Y))}function ee(q,j,A){const M=q.rules.findIndex($=>$.keyword===A);M>=0?q.rules.splice(M,0,j):(q.rules.push(j),this.logger.warn(`rule ${A} is not defined`))}function Z(q){let{metaSchema:j}=q;j!==void 0&&(q.$data&&this.opts.$data&&(j=oe(j)),q.validateSchema=this.compile(j,!0))}const X={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function oe(q){return{anyOf:[q,X]}}}(la)),la}var ti={},ri={},ni={},Go;function gd(){if(Go)return ni;Go=1,Object.defineProperty(ni,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return ni.default=e,ni}var Xt={},Ho;function _d(){if(Ho)return Xt;Ho=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.callRef=Xt.getValidate=void 0;const e=xn(),t=rt(),r=se(),i=Yt(),s=ga(),n=fe(),a={keyword:"$ref",schemaType:"string",code(c){const{gen:f,schema:h,it:d}=c,{baseId:g,schemaEnv:P,validateName:_,opts:m,self:v}=d,{root:l}=P;if((h==="#"||h==="#/")&&g===l.baseId)return y();const p=s.resolveRef.call(v,l,g,h);if(p===void 0)throw new e.default(d.opts.uriResolver,g,h);if(p instanceof s.SchemaEnv)return w(p);return b(p);function y(){if(P===l)return o(c,_,P,P.$async);const E=f.scopeValue("root",{ref:l});return o(c,(0,r._)`${E}.validate`,l,l.$async)}function w(E){const S=u(c,E);o(c,S,E,E.$async)}function b(E){const S=f.scopeValue("schema",m.code.source===!0?{ref:E,code:(0,r.stringify)(E)}:{ref:E}),O=f.name("valid"),C=c.subschema({schema:E,dataTypes:[],schemaPath:r.nil,topSchemaRef:S,errSchemaPath:h},O);c.mergeEvaluated(C),c.ok(O)}}};function u(c,f){const{gen:h}=c;return f.validate?h.scopeValue("validate",{ref:f.validate}):(0,r._)`${h.scopeValue("wrapper",{ref:f})}.validate`}Xt.getValidate=u;function o(c,f,h,d){const{gen:g,it:P}=c,{allErrors:_,schemaEnv:m,opts:v}=P,l=v.passContext?i.default.this:r.nil;d?p():y();function p(){if(!m.$async)throw new Error("async schema referenced by sync schema");const E=g.let("valid");g.try(()=>{g.code((0,r._)`await ${(0,t.callValidateCode)(c,f,l)}`),b(f),_||g.assign(E,!0)},S=>{g.if((0,r._)`!(${S} instanceof ${P.ValidationError})`,()=>g.throw(S)),w(S),_||g.assign(E,!1)}),c.ok(E)}function y(){c.result((0,t.callValidateCode)(c,f,l),()=>b(f),()=>w(f))}function w(E){const S=(0,r._)`${E}.errors`;g.assign(i.default.vErrors,(0,r._)`${i.default.vErrors} === null ? ${S} : ${i.default.vErrors}.concat(${S})`),g.assign(i.default.errors,(0,r._)`${i.default.vErrors}.length`)}function b(E){var S;if(!P.opts.unevaluated)return;const O=(S=h==null?void 0:h.validate)===null||S===void 0?void 0:S.evaluated;if(P.props!==!0)if(O&&!O.dynamicProps)O.props!==void 0&&(P.props=n.mergeEvaluated.props(g,O.props,P.props));else{const C=g.var("props",(0,r._)`${E}.evaluated.props`);P.props=n.mergeEvaluated.props(g,C,P.props,r.Name)}if(P.items!==!0)if(O&&!O.dynamicItems)O.items!==void 0&&(P.items=n.mergeEvaluated.items(g,O.items,P.items));else{const C=g.var("items",(0,r._)`${E}.evaluated.items`);P.items=n.mergeEvaluated.items(g,C,P.items,r.Name)}}}return Xt.callRef=o,Xt.default=a,Xt}var zo;function yd(){if(zo)return ri;zo=1,Object.defineProperty(ri,"__esModule",{value:!0});const e=gd(),t=_d(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return ri.default=r,ri}var ii={},ai={},Ko;function Pd(){if(Ko)return ai;Ko=1,Object.defineProperty(ai,"__esModule",{value:!0});const e=se(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},i={message:({keyword:n,schemaCode:a})=>(0,e.str)`must be ${r[n].okStr} ${a}`,params:({keyword:n,schemaCode:a})=>(0,e._)`{comparison: ${r[n].okStr}, limit: ${a}}`},s={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:i,code(n){const{keyword:a,data:u,schemaCode:o}=n;n.fail$data((0,e._)`${u} ${r[a].fail} ${o} || isNaN(${u})`)}};return ai.default=s,ai}var si={},Bo;function wd(){if(Bo)return si;Bo=1,Object.defineProperty(si,"__esModule",{value:!0});const e=se(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must be multiple of ${i}`,params:({schemaCode:i})=>(0,e._)`{multipleOf: ${i}}`},code(i){const{gen:s,data:n,schemaCode:a,it:u}=i,o=u.opts.multipleOfPrecision,c=s.let("res"),f=o?(0,e._)`Math.abs(Math.round(${c}) - ${c}) > 1e-${o}`:(0,e._)`${c} !== parseInt(${c})`;i.fail$data((0,e._)`(${a} === 0 || (${c} = ${n}/${a}, ${f}))`)}};return si.default=r,si}var oi={},ui={},Jo;function bd(){if(Jo)return ui;Jo=1,Object.defineProperty(ui,"__esModule",{value:!0});function e(t){const r=t.length;let i=0,s=0,n;for(;s<r;)i++,n=t.charCodeAt(s++),n>=55296&&n<=56319&&s<r&&(n=t.charCodeAt(s),(n&64512)===56320&&s++);return i}return ui.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',ui}var Yo;function $d(){if(Yo)return oi;Yo=1,Object.defineProperty(oi,"__esModule",{value:!0});const e=se(),t=fe(),r=bd(),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const u=n==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${u} than ${a} characters`},params:({schemaCode:n})=>(0,e._)`{limit: ${n}}`},code(n){const{keyword:a,data:u,schemaCode:o,it:c}=n,f=a==="maxLength"?e.operators.GT:e.operators.LT,h=c.opts.unicode===!1?(0,e._)`${u}.length`:(0,e._)`${(0,t.useFunc)(n.gen,r.default)}(${u})`;n.fail$data((0,e._)`${h} ${f} ${o}`)}};return oi.default=s,oi}var li={},Xo;function Ed(){if(Xo)return li;Xo=1,Object.defineProperty(li,"__esModule",{value:!0});const e=rt(),t=se(),i={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,t.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,t._)`{pattern: ${s}}`},code(s){const{data:n,$data:a,schema:u,schemaCode:o,it:c}=s,f=c.opts.unicodeRegExp?"u":"",h=a?(0,t._)`(new RegExp(${o}, ${f}))`:(0,e.usePattern)(s,u);s.fail$data((0,t._)`!${h}.test(${n})`)}};return li.default=i,li}var ci={},Qo;function Sd(){if(Qo)return ci;Qo=1,Object.defineProperty(ci,"__esModule",{value:!0});const e=se(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:s}){const n=i==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${s} properties`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:s,data:n,schemaCode:a}=i,u=s==="maxProperties"?e.operators.GT:e.operators.LT;i.fail$data((0,e._)`Object.keys(${n}).length ${u} ${a}`)}};return ci.default=r,ci}var di={},Zo;function Dd(){if(Zo)return di;Zo=1,Object.defineProperty(di,"__esModule",{value:!0});const e=rt(),t=se(),r=fe(),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:n}})=>(0,t.str)`must have required property '${n}'`,params:({params:{missingProperty:n}})=>(0,t._)`{missingProperty: ${n}}`},code(n){const{gen:a,schema:u,schemaCode:o,data:c,$data:f,it:h}=n,{opts:d}=h;if(!f&&u.length===0)return;const g=u.length>=d.loopRequired;if(h.allErrors?P():_(),d.strictRequired){const l=n.parentSchema.properties,{definedProperties:p}=n.it;for(const y of u)if((l==null?void 0:l[y])===void 0&&!p.has(y)){const w=h.schemaEnv.baseId+h.errSchemaPath,b=`required property "${y}" is not defined at "${w}" (strictRequired)`;(0,r.checkStrictMode)(h,b,h.opts.strictRequired)}}function P(){if(g||f)n.block$data(t.nil,m);else for(const l of u)(0,e.checkReportMissingProp)(n,l)}function _(){const l=a.let("missing");if(g||f){const p=a.let("valid",!0);n.block$data(p,()=>v(l,p)),n.ok(p)}else a.if((0,e.checkMissingProp)(n,u,l)),(0,e.reportMissingProp)(n,l),a.else()}function m(){a.forOf("prop",o,l=>{n.setParams({missingProperty:l}),a.if((0,e.noPropertyInData)(a,c,l,d.ownProperties),()=>n.error())})}function v(l,p){n.setParams({missingProperty:l}),a.forOf(l,o,()=>{a.assign(p,(0,e.propertyInData)(a,c,l,d.ownProperties)),a.if((0,t.not)(p),()=>{n.error(),a.break()})},t.nil)}}};return di.default=s,di}var fi={},xo;function Od(){if(xo)return fi;xo=1,Object.defineProperty(fi,"__esModule",{value:!0});const e=se(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:i,schemaCode:s}){const n=i==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${n} than ${s} items`},params:({schemaCode:i})=>(0,e._)`{limit: ${i}}`},code(i){const{keyword:s,data:n,schemaCode:a}=i,u=s==="maxItems"?e.operators.GT:e.operators.LT;i.fail$data((0,e._)`${n}.length ${u} ${a}`)}};return fi.default=r,fi}var hi={},mi={},eu;function wa(){if(eu)return mi;eu=1,Object.defineProperty(mi,"__esModule",{value:!0});const e=jo();return e.code='require("ajv/dist/runtime/equal").default',mi.default=e,mi}var tu;function Td(){if(tu)return hi;tu=1,Object.defineProperty(hi,"__esModule",{value:!0});const e=Jn(),t=se(),r=fe(),i=wa(),n={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:u}})=>(0,t.str)`must NOT have duplicate items (items ## ${u} and ${a} are identical)`,params:({params:{i:a,j:u}})=>(0,t._)`{i: ${a}, j: ${u}}`},code(a){const{gen:u,data:o,$data:c,schema:f,parentSchema:h,schemaCode:d,it:g}=a;if(!c&&!f)return;const P=u.let("valid"),_=h.items?(0,e.getSchemaTypes)(h.items):[];a.block$data(P,m,(0,t._)`${d} === false`),a.ok(P);function m(){const y=u.let("i",(0,t._)`${o}.length`),w=u.let("j");a.setParams({i:y,j:w}),u.assign(P,!0),u.if((0,t._)`${y} > 1`,()=>(v()?l:p)(y,w))}function v(){return _.length>0&&!_.some(y=>y==="object"||y==="array")}function l(y,w){const b=u.name("item"),E=(0,e.checkDataTypes)(_,b,g.opts.strictNumbers,e.DataType.Wrong),S=u.const("indices",(0,t._)`{}`);u.for((0,t._)`;${y}--;`,()=>{u.let(b,(0,t._)`${o}[${y}]`),u.if(E,(0,t._)`continue`),_.length>1&&u.if((0,t._)`typeof ${b} == "string"`,(0,t._)`${b} += "_"`),u.if((0,t._)`typeof ${S}[${b}] == "number"`,()=>{u.assign(w,(0,t._)`${S}[${b}]`),a.error(),u.assign(P,!1).break()}).code((0,t._)`${S}[${b}] = ${y}`)})}function p(y,w){const b=(0,r.useFunc)(u,i.default),E=u.name("outer");u.label(E).for((0,t._)`;${y}--;`,()=>u.for((0,t._)`${w} = ${y}; ${w}--;`,()=>u.if((0,t._)`${b}(${o}[${y}], ${o}[${w}])`,()=>{a.error(),u.assign(P,!1).break(E)})))}}};return hi.default=n,hi}var pi={},ru;function Rd(){if(ru)return pi;ru=1,Object.defineProperty(pi,"__esModule",{value:!0});const e=se(),t=fe(),r=wa(),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:n})=>(0,e._)`{allowedValue: ${n}}`},code(n){const{gen:a,data:u,$data:o,schemaCode:c,schema:f}=n;o||f&&typeof f=="object"?n.fail$data((0,e._)`!${(0,t.useFunc)(a,r.default)}(${u}, ${c})`):n.fail((0,e._)`${f} !== ${u}`)}};return pi.default=s,pi}var vi={},nu;function jd(){if(nu)return vi;nu=1,Object.defineProperty(vi,"__esModule",{value:!0});const e=se(),t=fe(),r=wa(),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:n})=>(0,e._)`{allowedValues: ${n}}`},code(n){const{gen:a,data:u,$data:o,schema:c,schemaCode:f,it:h}=n;if(!o&&c.length===0)throw new Error("enum must have non-empty array");const d=c.length>=h.opts.loopEnum;let g;const P=()=>g??(g=(0,t.useFunc)(a,r.default));let _;if(d||o)_=a.let("valid"),n.block$data(_,m);else{if(!Array.isArray(c))throw new Error("ajv implementation error");const l=a.const("vSchema",f);_=(0,e.or)(...c.map((p,y)=>v(l,y)))}n.pass(_);function m(){a.assign(_,!1),a.forOf("v",f,l=>a.if((0,e._)`${P()}(${u}, ${l})`,()=>a.assign(_,!0).break()))}function v(l,p){const y=c[p];return typeof y=="object"&&y!==null?(0,e._)`${P()}(${u}, ${l}[${p}])`:(0,e._)`${u} === ${y}`}}};return vi.default=s,vi}var iu;function Md(){if(iu)return ii;iu=1,Object.defineProperty(ii,"__esModule",{value:!0});const e=Pd(),t=wd(),r=$d(),i=Ed(),s=Sd(),n=Dd(),a=Od(),u=Td(),o=Rd(),c=jd(),f=[e.default,t.default,r.default,i.default,s.default,n.default,a.default,u.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},o.default,c.default];return ii.default=f,ii}var gi={},br={},au;function su(){if(au)return br;au=1,Object.defineProperty(br,"__esModule",{value:!0}),br.validateAdditionalItems=void 0;const e=se(),t=fe(),i={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:n}})=>(0,e.str)`must NOT have more than ${n} items`,params:({params:{len:n}})=>(0,e._)`{limit: ${n}}`},code(n){const{parentSchema:a,it:u}=n,{items:o}=a;if(!Array.isArray(o)){(0,t.checkStrictMode)(u,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(n,o)}};function s(n,a){const{gen:u,schema:o,data:c,keyword:f,it:h}=n;h.items=!0;const d=u.const("len",(0,e._)`${c}.length`);if(o===!1)n.setParams({len:a.length}),n.pass((0,e._)`${d} <= ${a.length}`);else if(typeof o=="object"&&!(0,t.alwaysValidSchema)(h,o)){const P=u.var("valid",(0,e._)`${d} <= ${a.length}`);u.if((0,e.not)(P),()=>g(P)),n.ok(P)}function g(P){u.forRange("i",a.length,d,_=>{n.subschema({keyword:f,dataProp:_,dataPropType:t.Type.Num},P),h.allErrors||u.if((0,e.not)(P),()=>u.break())})}}return br.validateAdditionalItems=s,br.default=i,br}var _i={},$r={},ou;function uu(){if(ou)return $r;ou=1,Object.defineProperty($r,"__esModule",{value:!0}),$r.validateTuple=void 0;const e=se(),t=fe(),r=rt(),i={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(n){const{schema:a,it:u}=n;if(Array.isArray(a))return s(n,"additionalItems",a);u.items=!0,!(0,t.alwaysValidSchema)(u,a)&&n.ok((0,r.validateArray)(n))}};function s(n,a,u=n.schema){const{gen:o,parentSchema:c,data:f,keyword:h,it:d}=n;_(c),d.opts.unevaluated&&u.length&&d.items!==!0&&(d.items=t.mergeEvaluated.items(o,u.length,d.items));const g=o.name("valid"),P=o.const("len",(0,e._)`${f}.length`);u.forEach((m,v)=>{(0,t.alwaysValidSchema)(d,m)||(o.if((0,e._)`${P} > ${v}`,()=>n.subschema({keyword:h,schemaProp:v,dataProp:v},g)),n.ok(g))});function _(m){const{opts:v,errSchemaPath:l}=d,p=u.length,y=p===m.minItems&&(p===m.maxItems||m[a]===!1);if(v.strictTuples&&!y){const w=`"${h}" is ${p}-tuple, but minItems or maxItems/${a} are not specified or different at path "${l}"`;(0,t.checkStrictMode)(d,w,v.strictTuples)}}}return $r.validateTuple=s,$r.default=i,$r}var lu;function Nd(){if(lu)return _i;lu=1,Object.defineProperty(_i,"__esModule",{value:!0});const e=uu(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return _i.default=t,_i}var yi={},cu;function Id(){if(cu)return yi;cu=1,Object.defineProperty(yi,"__esModule",{value:!0});const e=se(),t=fe(),r=rt(),i=su(),n={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{schema:u,parentSchema:o,it:c}=a,{prefixItems:f}=o;c.items=!0,!(0,t.alwaysValidSchema)(c,u)&&(f?(0,i.validateAdditionalItems)(a,f):a.ok((0,r.validateArray)(a)))}};return yi.default=n,yi}var Pi={},du;function Cd(){if(du)return Pi;du=1,Object.defineProperty(Pi,"__esModule",{value:!0});const e=se(),t=fe(),i={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:n}})=>n===void 0?(0,e.str)`must contain at least ${s} valid item(s)`:(0,e.str)`must contain at least ${s} and no more than ${n} valid item(s)`,params:({params:{min:s,max:n}})=>n===void 0?(0,e._)`{minContains: ${s}}`:(0,e._)`{minContains: ${s}, maxContains: ${n}}`},code(s){const{gen:n,schema:a,parentSchema:u,data:o,it:c}=s;let f,h;const{minContains:d,maxContains:g}=u;c.opts.next?(f=d===void 0?1:d,h=g):f=1;const P=n.const("len",(0,e._)`${o}.length`);if(s.setParams({min:f,max:h}),h===void 0&&f===0){(0,t.checkStrictMode)(c,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(h!==void 0&&f>h){(0,t.checkStrictMode)(c,'"minContains" > "maxContains" is always invalid'),s.fail();return}if((0,t.alwaysValidSchema)(c,a)){let p=(0,e._)`${P} >= ${f}`;h!==void 0&&(p=(0,e._)`${p} && ${P} <= ${h}`),s.pass(p);return}c.items=!0;const _=n.name("valid");h===void 0&&f===1?v(_,()=>n.if(_,()=>n.break())):f===0?(n.let(_,!0),h!==void 0&&n.if((0,e._)`${o}.length > 0`,m)):(n.let(_,!1),m()),s.result(_,()=>s.reset());function m(){const p=n.name("_valid"),y=n.let("count",0);v(p,()=>n.if(p,()=>l(y)))}function v(p,y){n.forRange("i",0,P,w=>{s.subschema({keyword:"contains",dataProp:w,dataPropType:t.Type.Num,compositeRule:!0},p),y()})}function l(p){n.code((0,e._)`${p}++`),h===void 0?n.if((0,e._)`${p} >= ${f}`,()=>n.assign(_,!0).break()):(n.if((0,e._)`${p} > ${h}`,()=>n.assign(_,!1).break()),f===1?n.assign(_,!0):n.if((0,e._)`${p} >= ${f}`,()=>n.assign(_,!0)))}}};return Pi.default=i,Pi}var ba={},fu;function Ad(){return fu||(fu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=se(),r=fe(),i=rt();e.error={message:({params:{property:o,depsCount:c,deps:f}})=>{const h=c===1?"property":"properties";return(0,t.str)`must have ${h} ${f} when property ${o} is present`},params:({params:{property:o,depsCount:c,deps:f,missingProperty:h}})=>(0,t._)`{property: ${o},
    missingProperty: ${h},
    depsCount: ${c},
    deps: ${f}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(o){const[c,f]=n(o);a(o,c),u(o,f)}};function n({schema:o}){const c={},f={};for(const h in o){if(h==="__proto__")continue;const d=Array.isArray(o[h])?c:f;d[h]=o[h]}return[c,f]}function a(o,c=o.schema){const{gen:f,data:h,it:d}=o;if(Object.keys(c).length===0)return;const g=f.let("missing");for(const P in c){const _=c[P];if(_.length===0)continue;const m=(0,i.propertyInData)(f,h,P,d.opts.ownProperties);o.setParams({property:P,depsCount:_.length,deps:_.join(", ")}),d.allErrors?f.if(m,()=>{for(const v of _)(0,i.checkReportMissingProp)(o,v)}):(f.if((0,t._)`${m} && (${(0,i.checkMissingProp)(o,_,g)})`),(0,i.reportMissingProp)(o,g),f.else())}}e.validatePropertyDeps=a;function u(o,c=o.schema){const{gen:f,data:h,keyword:d,it:g}=o,P=f.name("valid");for(const _ in c)(0,r.alwaysValidSchema)(g,c[_])||(f.if((0,i.propertyInData)(f,h,_,g.opts.ownProperties),()=>{const m=o.subschema({keyword:d,schemaProp:_},P);o.mergeValidEvaluated(m,P)},()=>f.var(P,!0)),o.ok(P))}e.validateSchemaDeps=u,e.default=s}(ba)),ba}var wi={},hu;function Ld(){if(hu)return wi;hu=1,Object.defineProperty(wi,"__esModule",{value:!0});const e=se(),t=fe(),i={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:s})=>(0,e._)`{propertyName: ${s.propertyName}}`},code(s){const{gen:n,schema:a,data:u,it:o}=s;if((0,t.alwaysValidSchema)(o,a))return;const c=n.name("valid");n.forIn("key",u,f=>{s.setParams({propertyName:f}),s.subschema({keyword:"propertyNames",data:f,dataTypes:["string"],propertyName:f,compositeRule:!0},c),n.if((0,e.not)(c),()=>{s.error(!0),o.allErrors||n.break()})}),s.ok(c)}};return wi.default=i,wi}var bi={},mu;function pu(){if(mu)return bi;mu=1,Object.defineProperty(bi,"__esModule",{value:!0});const e=rt(),t=se(),r=Yt(),i=fe(),n={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,t._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:u,schema:o,parentSchema:c,data:f,errsCount:h,it:d}=a;if(!h)throw new Error("ajv implementation error");const{allErrors:g,opts:P}=d;if(d.props=!0,P.removeAdditional!=="all"&&(0,i.alwaysValidSchema)(d,o))return;const _=(0,e.allSchemaProperties)(c.properties),m=(0,e.allSchemaProperties)(c.patternProperties);v(),a.ok((0,t._)`${h} === ${r.default.errors}`);function v(){u.forIn("key",f,b=>{!_.length&&!m.length?y(b):u.if(l(b),()=>y(b))})}function l(b){let E;if(_.length>8){const S=(0,i.schemaRefOrVal)(d,c.properties,"properties");E=(0,e.isOwnProperty)(u,S,b)}else _.length?E=(0,t.or)(..._.map(S=>(0,t._)`${b} === ${S}`)):E=t.nil;return m.length&&(E=(0,t.or)(E,...m.map(S=>(0,t._)`${(0,e.usePattern)(a,S)}.test(${b})`))),(0,t.not)(E)}function p(b){u.code((0,t._)`delete ${f}[${b}]`)}function y(b){if(P.removeAdditional==="all"||P.removeAdditional&&o===!1){p(b);return}if(o===!1){a.setParams({additionalProperty:b}),a.error(),g||u.break();return}if(typeof o=="object"&&!(0,i.alwaysValidSchema)(d,o)){const E=u.name("valid");P.removeAdditional==="failing"?(w(b,E,!1),u.if((0,t.not)(E),()=>{a.reset(),p(b)})):(w(b,E),g||u.if((0,t.not)(E),()=>u.break()))}}function w(b,E,S){const O={keyword:"additionalProperties",dataProp:b,dataPropType:i.Type.Str};S===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(O,E)}}};return bi.default=n,bi}var $i={},vu;function qd(){if(vu)return $i;vu=1,Object.defineProperty($i,"__esModule",{value:!0});const e=Xn(),t=rt(),r=fe(),i=pu(),s={keyword:"properties",type:"object",schemaType:"object",code(n){const{gen:a,schema:u,parentSchema:o,data:c,it:f}=n;f.opts.removeAdditional==="all"&&o.additionalProperties===void 0&&i.default.code(new e.KeywordCxt(f,i.default,"additionalProperties"));const h=(0,t.allSchemaProperties)(u);for(const m of h)f.definedProperties.add(m);f.opts.unevaluated&&h.length&&f.props!==!0&&(f.props=r.mergeEvaluated.props(a,(0,r.toHash)(h),f.props));const d=h.filter(m=>!(0,r.alwaysValidSchema)(f,u[m]));if(d.length===0)return;const g=a.name("valid");for(const m of d)P(m)?_(m):(a.if((0,t.propertyInData)(a,c,m,f.opts.ownProperties)),_(m),f.allErrors||a.else().var(g,!0),a.endIf()),n.it.definedProperties.add(m),n.ok(g);function P(m){return f.opts.useDefaults&&!f.compositeRule&&u[m].default!==void 0}function _(m){n.subschema({keyword:"properties",schemaProp:m,dataProp:m},g)}}};return $i.default=s,$i}var Ei={},gu;function kd(){if(gu)return Ei;gu=1,Object.defineProperty(Ei,"__esModule",{value:!0});const e=rt(),t=se(),r=fe(),i=fe(),s={keyword:"patternProperties",type:"object",schemaType:"object",code(n){const{gen:a,schema:u,data:o,parentSchema:c,it:f}=n,{opts:h}=f,d=(0,e.allSchemaProperties)(u),g=d.filter(y=>(0,r.alwaysValidSchema)(f,u[y]));if(d.length===0||g.length===d.length&&(!f.opts.unevaluated||f.props===!0))return;const P=h.strictSchema&&!h.allowMatchingProperties&&c.properties,_=a.name("valid");f.props!==!0&&!(f.props instanceof t.Name)&&(f.props=(0,i.evaluatedPropsToName)(a,f.props));const{props:m}=f;v();function v(){for(const y of d)P&&l(y),f.allErrors?p(y):(a.var(_,!0),p(y),a.if(_))}function l(y){for(const w in P)new RegExp(y).test(w)&&(0,r.checkStrictMode)(f,`property ${w} matches pattern ${y} (use allowMatchingProperties)`)}function p(y){a.forIn("key",o,w=>{a.if((0,t._)`${(0,e.usePattern)(n,y)}.test(${w})`,()=>{const b=g.includes(y);b||n.subschema({keyword:"patternProperties",schemaProp:y,dataProp:w,dataPropType:i.Type.Str},_),f.opts.unevaluated&&m!==!0?a.assign((0,t._)`${m}[${w}]`,!0):!b&&!f.allErrors&&a.if((0,t.not)(_),()=>a.break())})})}}};return Ei.default=s,Ei}var Si={},_u;function Ud(){if(_u)return Si;_u=1,Object.defineProperty(Si,"__esModule",{value:!0});const e=fe(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:i,schema:s,it:n}=r;if((0,e.alwaysValidSchema)(n,s)){r.fail();return}const a=i.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),r.failResult(a,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Si.default=t,Si}var Di={},yu;function Fd(){if(yu)return Di;yu=1,Object.defineProperty(Di,"__esModule",{value:!0});const t={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:rt().validateUnion,error:{message:"must match a schema in anyOf"}};return Di.default=t,Di}var Oi={},Pu;function Wd(){if(Pu)return Oi;Pu=1,Object.defineProperty(Oi,"__esModule",{value:!0});const e=se(),t=fe(),i={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:s})=>(0,e._)`{passingSchemas: ${s.passing}}`},code(s){const{gen:n,schema:a,parentSchema:u,it:o}=s;if(!Array.isArray(a))throw new Error("ajv implementation error");if(o.opts.discriminator&&u.discriminator)return;const c=a,f=n.let("valid",!1),h=n.let("passing",null),d=n.name("_valid");s.setParams({passing:h}),n.block(g),s.result(f,()=>s.reset(),()=>s.error(!0));function g(){c.forEach((P,_)=>{let m;(0,t.alwaysValidSchema)(o,P)?n.var(d,!0):m=s.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},d),_>0&&n.if((0,e._)`${d} && ${f}`).assign(f,!1).assign(h,(0,e._)`[${h}, ${_}]`).else(),n.if(d,()=>{n.assign(f,!0),n.assign(h,_),m&&s.mergeEvaluated(m,e.Name)})})}}};return Oi.default=i,Oi}var Ti={},wu;function Vd(){if(wu)return Ti;wu=1,Object.defineProperty(Ti,"__esModule",{value:!0});const e=fe(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:i,schema:s,it:n}=r;if(!Array.isArray(s))throw new Error("ajv implementation error");const a=i.name("valid");s.forEach((u,o)=>{if((0,e.alwaysValidSchema)(n,u))return;const c=r.subschema({keyword:"allOf",schemaProp:o},a);r.ok(a),r.mergeEvaluated(c)})}};return Ti.default=t,Ti}var Ri={},bu;function Gd(){if(bu)return Ri;bu=1,Object.defineProperty(Ri,"__esModule",{value:!0});const e=se(),t=fe(),i={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:n})=>(0,e.str)`must match "${n.ifClause}" schema`,params:({params:n})=>(0,e._)`{failingKeyword: ${n.ifClause}}`},code(n){const{gen:a,parentSchema:u,it:o}=n;u.then===void 0&&u.else===void 0&&(0,t.checkStrictMode)(o,'"if" without "then" and "else" is ignored');const c=s(o,"then"),f=s(o,"else");if(!c&&!f)return;const h=a.let("valid",!0),d=a.name("_valid");if(g(),n.reset(),c&&f){const _=a.let("ifClause");n.setParams({ifClause:_}),a.if(d,P("then",_),P("else",_))}else c?a.if(d,P("then")):a.if((0,e.not)(d),P("else"));n.pass(h,()=>n.error(!0));function g(){const _=n.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},d);n.mergeEvaluated(_)}function P(_,m){return()=>{const v=n.subschema({keyword:_},d);a.assign(h,d),n.mergeValidEvaluated(v,h),m?a.assign(m,(0,e._)`${_}`):n.setParams({ifClause:_})}}}};function s(n,a){const u=n.schema[a];return u!==void 0&&!(0,t.alwaysValidSchema)(n,u)}return Ri.default=i,Ri}var ji={},$u;function Hd(){if($u)return ji;$u=1,Object.defineProperty(ji,"__esModule",{value:!0});const e=fe(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:i,it:s}){i.if===void 0&&(0,e.checkStrictMode)(s,`"${r}" without "if" is ignored`)}};return ji.default=t,ji}var Eu;function zd(){if(Eu)return gi;Eu=1,Object.defineProperty(gi,"__esModule",{value:!0});const e=su(),t=Nd(),r=uu(),i=Id(),s=Cd(),n=Ad(),a=Ld(),u=pu(),o=qd(),c=kd(),f=Ud(),h=Fd(),d=Wd(),g=Vd(),P=Gd(),_=Hd();function m(v=!1){const l=[f.default,h.default,d.default,g.default,P.default,_.default,a.default,u.default,n.default,o.default,c.default];return v?l.push(t.default,i.default):l.push(e.default,r.default),l.push(s.default),l}return gi.default=m,gi}var Mi={},Ni={},Su;function Kd(){if(Su)return Ni;Su=1,Object.defineProperty(Ni,"__esModule",{value:!0});const e=se(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match format "${i}"`,params:({schemaCode:i})=>(0,e._)`{format: ${i}}`},code(i,s){const{gen:n,data:a,$data:u,schema:o,schemaCode:c,it:f}=i,{opts:h,errSchemaPath:d,schemaEnv:g,self:P}=f;if(!h.validateFormats)return;u?_():m();function _(){const v=n.scopeValue("formats",{ref:P.formats,code:h.code.formats}),l=n.const("fDef",(0,e._)`${v}[${c}]`),p=n.let("fType"),y=n.let("format");n.if((0,e._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>n.assign(p,(0,e._)`${l}.type || "string"`).assign(y,(0,e._)`${l}.validate`),()=>n.assign(p,(0,e._)`"string"`).assign(y,l)),i.fail$data((0,e.or)(w(),b()));function w(){return h.strictSchema===!1?e.nil:(0,e._)`${c} && !${y}`}function b(){const E=g.$async?(0,e._)`(${l}.async ? await ${y}(${a}) : ${y}(${a}))`:(0,e._)`${y}(${a})`,S=(0,e._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${a}))`;return(0,e._)`${y} && ${y} !== true && ${p} === ${s} && !${S}`}}function m(){const v=P.formats[o];if(!v){w();return}if(v===!0)return;const[l,p,y]=b(v);l===s&&i.pass(E());function w(){if(h.strictSchema===!1){P.logger.warn(S());return}throw new Error(S());function S(){return`unknown format "${o}" ignored in schema at path "${d}"`}}function b(S){const O=S instanceof RegExp?(0,e.regexpCode)(S):h.code.formats?(0,e._)`${h.code.formats}${(0,e.getProperty)(o)}`:void 0,C=n.scopeValue("formats",{key:o,ref:S,code:O});return typeof S=="object"&&!(S instanceof RegExp)?[S.type||"string",S.validate,(0,e._)`${C}.validate`]:["string",S,C]}function E(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!g.$async)throw new Error("async format in sync schema");return(0,e._)`await ${y}(${a})`}return typeof p=="function"?(0,e._)`${y}(${a})`:(0,e._)`${y}.test(${a})`}}}};return Ni.default=r,Ni}var Du;function Bd(){if(Du)return Mi;Du=1,Object.defineProperty(Mi,"__esModule",{value:!0});const t=[Kd().default];return Mi.default=t,Mi}var cr={},Ou;function Jd(){return Ou||(Ou=1,Object.defineProperty(cr,"__esModule",{value:!0}),cr.contentVocabulary=cr.metadataVocabulary=void 0,cr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],cr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),cr}var Tu;function Yd(){if(Tu)return ti;Tu=1,Object.defineProperty(ti,"__esModule",{value:!0});const e=yd(),t=Md(),r=zd(),i=Bd(),s=Jd(),n=[e.default,t.default,(0,r.default)(),i.default,s.metadataVocabulary,s.contentVocabulary];return ti.default=n,ti}var Ii={},nn={},Ru;function Xd(){if(Ru)return nn;Ru=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(nn.DiscrError=e={})),nn}var ju;function Qd(){if(ju)return Ii;ju=1,Object.defineProperty(Ii,"__esModule",{value:!0});const e=se(),t=Xd(),r=ga(),i=xn(),s=fe(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:u,tagName:o}})=>u===t.DiscrError.Tag?`tag "${o}" must be string`:`value of tag "${o}" must be in oneOf`,params:({params:{discrError:u,tag:o,tagName:c}})=>(0,e._)`{error: ${u}, tag: ${c}, tagValue: ${o}}`},code(u){const{gen:o,data:c,schema:f,parentSchema:h,it:d}=u,{oneOf:g}=h;if(!d.opts.discriminator)throw new Error("discriminator: requires discriminator option");const P=f.propertyName;if(typeof P!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!g)throw new Error("discriminator: requires oneOf keyword");const _=o.let("valid",!1),m=o.const("tag",(0,e._)`${c}${(0,e.getProperty)(P)}`);o.if((0,e._)`typeof ${m} == "string"`,()=>v(),()=>u.error(!1,{discrError:t.DiscrError.Tag,tag:m,tagName:P})),u.ok(_);function v(){const y=p();o.if(!1);for(const w in y)o.elseIf((0,e._)`${m} === ${w}`),o.assign(_,l(y[w]));o.else(),u.error(!1,{discrError:t.DiscrError.Mapping,tag:m,tagName:P}),o.endIf()}function l(y){const w=o.name("valid"),b=u.subschema({keyword:"oneOf",schemaProp:y},w);return u.mergeEvaluated(b,e.Name),w}function p(){var y;const w={},b=S(h);let E=!0;for(let U=0;U<g.length;U++){let H=g[U];if(H!=null&&H.$ref&&!(0,s.schemaHasRulesButRef)(H,d.self.RULES)){const G=H.$ref;if(H=r.resolveRef.call(d.self,d.schemaEnv.root,d.baseId,G),H instanceof r.SchemaEnv&&(H=H.schema),H===void 0)throw new i.default(d.opts.uriResolver,d.baseId,G)}const F=(y=H==null?void 0:H.properties)===null||y===void 0?void 0:y[P];if(typeof F!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${P}"`);E=E&&(b||S(H)),O(F,U)}if(!E)throw new Error(`discriminator: "${P}" must be required`);return w;function S({required:U}){return Array.isArray(U)&&U.includes(P)}function O(U,H){if(U.const)C(U.const,H);else if(U.enum)for(const F of U.enum)C(F,H);else throw new Error(`discriminator: "properties/${P}" must have "const" or "enum"`)}function C(U,H){if(typeof U!="string"||U in w)throw new Error(`discriminator: "${P}" values must be unique strings`);w[U]=H}}}};return Ii.default=a,Ii}const Zd={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0};var Mu;function xd(){return Mu||(Mu=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=vd(),i=Yd(),s=Qd(),n=Zd,a=["/properties"],u="http://json-schema.org/draft-07/schema";class o extends r.default{_addVocabularies(){super._addVocabularies(),i.default.forEach(P=>this.addVocabulary(P)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const P=this.opts.$data?this.$dataMetaSchema(n,a):n;this.addMetaSchema(P,u,!1),this.refs["http://json-schema.org/schema"]=u}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(u)?u:void 0)}}t.Ajv=o,e.exports=t=o,e.exports.Ajv=o,Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var c=Xn();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return c.KeywordCxt}});var f=se();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var h=va();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return h.default}});var d=xn();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return d.default}})}(Hn,Hn.exports)),Hn.exports}var $a={},an={},Nu;function ef(){return Nu||(Nu=1,Object.defineProperty(an,"__esModule",{value:!0}),an.PluginDefineAttributesSchema=void 0,an.PluginDefineAttributesSchema={$id:"WardPluginDefineAttributesSchema",title:"Ward Plugin Defines Attributes",description:"Plugin Define Attributes",type:"object",patternProperties:{"^.*$":{description:"Define Attribute",type:"string",enum:["string","string[]","url","url[]","number","number[]","boolean","boolean[]"]}},additionalProperties:!1}),an}var sn={},Iu;function tf(){return Iu||(Iu=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.PluginDefineElementAttributesSchema=void 0,sn.PluginDefineElementAttributesSchema={$id:"WardPluginDefineElementAttributesSchema",title:"Ward Plugin Define Element Attributes",description:"Plugin Define Element Attributes",type:"object",patternProperties:{"^.*$":{description:"Define Element Attribute",type:["string","number","boolean","array","object"]}},additionalProperties:!1}),sn}var on={},Cu;function rf(){return Cu||(Cu=1,Object.defineProperty(on,"__esModule",{value:!0}),on.PluginDefineElementEventsSchema=void 0,on.PluginDefineElementEventsSchema={$id:"WardPluginDefineElementEventsSchema",title:"Ward Plugin Define Element Events",description:"Plugin Define Element Events",type:"object",patternProperties:{"^.*$":{description:"Define Element Event",type:"object"}},additionalProperties:!1}),on}var un={},Au;function nf(){return Au||(Au=1,Object.defineProperty(un,"__esModule",{value:!0}),un.PluginDefineElementPropertiesSchema=void 0,un.PluginDefineElementPropertiesSchema={$id:"WardPluginDefineElementPropertiesSchema",title:"Ward Plugin Define Element Properties",description:"Plugin Define Element Properties",type:"object",patternProperties:{"^.*$":{description:"Define Element Property",type:["string","number","boolean","array","object"]}},additionalProperties:!1}),un}var ln={},Lu;function af(){return Lu||(Lu=1,Object.defineProperty(ln,"__esModule",{value:!0}),ln.PluginDefineElementSchema=void 0,ln.PluginDefineElementSchema={$id:"WardPluginDefineElementSchema",title:"Ward Plugin Define Element",description:"Plugin Define Element",type:"object",properties:{properties:{$ref:"WardPluginDefineElementPropertiesSchema"},attributes:{$ref:"WardPluginDefineElementAttributesSchema"},events:{$ref:"WardPluginDefineElementEventsSchema"}},additionalProperties:!1}),ln}var cn={},qu;function sf(){return qu||(qu=1,Object.defineProperty(cn,"__esModule",{value:!0}),cn.PluginDefineElementsSchema=void 0,cn.PluginDefineElementsSchema={$id:"WardPluginDefineElementsSchema",title:"Ward Plugin Define Elements",description:"Plugin Define Elements",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginDefineElementSchema"}},additionalProperties:!1}),cn}var dn={},ku;function of(){return ku||(ku=1,Object.defineProperty(dn,"__esModule",{value:!0}),dn.PluginDefinePropertiesSchema=void 0,dn.PluginDefinePropertiesSchema={$id:"WardPluginDefinePropertiesSchema",title:"Ward Plugin Define Properties",description:"Plugin Define Properties",type:"object",patternProperties:{"^.*$":{description:"Define Property",type:"string",enum:["string","string[]","url","url[]","number","number[]","boolean","boolean[]"]}},additionalProperties:!1}),dn}var fn={},Uu;function uf(){return Uu||(Uu=1,Object.defineProperty(fn,"__esModule",{value:!0}),fn.PluginDefineSchema=void 0,fn.PluginDefineSchema={$id:"WardPluginDefineSchema",title:"Ward Plugin Define",description:"Plugin Define",type:"object",properties:{properties:{$ref:"WardPluginDefinePropertiesSchema"},attributes:{$ref:"WardPluginDefineAttributesSchema"},elements:{$ref:"WardPluginDefineElementsSchema"}},additionalProperties:!1}),fn}var hn={},Fu;function lf(){return Fu||(Fu=1,Object.defineProperty(hn,"__esModule",{value:!0}),hn.PluginDefinesSchema=void 0,hn.PluginDefinesSchema={$id:"WardPluginDefinesSchema",title:"Ward Plugin Defines",description:"Plugin Defines",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginDefineSchema"}},additionalProperties:!1}),hn}var mn={},Wu;function cf(){return Wu||(Wu=1,Object.defineProperty(mn,"__esModule",{value:!0}),mn.PluginProvideAttributesSchema=void 0,mn.PluginProvideAttributesSchema={$id:"WardPluginProvideAttributesSchema",title:"Ward Plugin Provide Attributes",description:"Plugin Provide Attributes",type:"object",patternProperties:{"^.*$":{description:"Provide Attribute",oneOf:[{type:["string","number","boolean"]},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:{type:"boolean"}}]}},additionalProperties:!1}),mn}var pn={},Vu;function df(){return Vu||(Vu=1,Object.defineProperty(pn,"__esModule",{value:!0}),pn.PluginProvideElementSchema=void 0,pn.PluginProvideElementSchema={$id:"WardPluginProvideElementSchema",title:"Ward Plugin Provide Element",description:"Plugin Provide Element",type:"object",properties:{url:{type:"string"},type:{type:"string",enum:["iframe","webcomponent","component"]},element:{type:"string"}},required:["url","type"],additionalProperties:!1}),pn}var vn={},Gu;function ff(){return Gu||(Gu=1,Object.defineProperty(vn,"__esModule",{value:!0}),vn.PluginProvideElementsSchema=void 0,vn.PluginProvideElementsSchema={$id:"WardPluginProvideElementsSchema",title:"Ward Plugin Provide Elements",description:"Plugin Provide Elements",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginProvideElementSchema"}},additionalProperties:!1}),vn}var gn={},Hu;function hf(){return Hu||(Hu=1,Object.defineProperty(gn,"__esModule",{value:!0}),gn.PluginProvidePropertiesSchema=void 0,gn.PluginProvidePropertiesSchema={$id:"WardPluginProvidePropertiesSchema",title:"Ward Plugin Provide Properties",description:"Plugin Provide Properties",type:"object",patternProperties:{"^.*$":{description:"Provide Property",oneOf:[{type:["string","number","boolean"]},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:{type:"boolean"}}]}},additionalProperties:!1}),gn}var _n={},zu;function mf(){return zu||(zu=1,Object.defineProperty(_n,"__esModule",{value:!0}),_n.PluginProvideSchema=void 0,_n.PluginProvideSchema={$id:"WardPluginProvideSchema",title:"Ward Plugin Provide",description:"Plugin Provide",type:"object",properties:{properties:{$ref:"WardPluginProvidePropertiesSchema"},attributes:{$ref:"WardPluginProvideAttributesSchema"},elements:{$ref:"WardPluginProvideElementsSchema"}},additionalProperties:!1}),_n}var yn={},Ku;function pf(){return Ku||(Ku=1,Object.defineProperty(yn,"__esModule",{value:!0}),yn.PluginProvidesSchema=void 0,yn.PluginProvidesSchema={$id:"WardPluginProvidesSchema",title:"Ward Plugin Provides",description:"Plugin Provides",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginProvideSchema"}},additionalProperties:!1}),yn}var Ea={},Bu;function vf(){return Bu||(Bu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PluginSchema=void 0,e.PluginSchema={$id:"WardPluginSchema",title:"Ward Plugin",description:"Plugin",type:"object",properties:{name:{description:"The unique identifier for a plugin",type:"string"},url:{description:"The url for a plugin",type:"string"},dependencies:{description:"Dependencies for the plugin",type:"array",items:{type:"string"},minItems:0,uniqueItems:!0},defines:{$ref:"WardPluginDefinesSchema"},provides:{description:"Providers",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginProvidesSchema"}}}},required:["name","url"],additionalProperties:!1},e.default=e.PluginSchema}(Ea)),Ea}var Ju;function gf(){return Ju||(Ju=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PluginSchema=e.PluginProvidesSchema=e.PluginProvideSchema=e.PluginProvidePropertiesSchema=e.PluginProvideElementsSchema=e.PluginProvideElementSchema=e.PluginProvideAttributesSchema=e.PluginDefinesSchema=e.PluginDefineSchema=e.PluginDefinePropertiesSchema=e.PluginDefineElementsSchema=e.PluginDefineElementSchema=e.PluginDefineElementPropertiesSchema=e.PluginDefineElementEventsSchema=e.PluginDefineElementAttributesSchema=e.PluginDefineAttributesSchema=void 0;var t=ef();Object.defineProperty(e,"PluginDefineAttributesSchema",{enumerable:!0,get:function(){return t.PluginDefineAttributesSchema}});var r=tf();Object.defineProperty(e,"PluginDefineElementAttributesSchema",{enumerable:!0,get:function(){return r.PluginDefineElementAttributesSchema}});var i=rf();Object.defineProperty(e,"PluginDefineElementEventsSchema",{enumerable:!0,get:function(){return i.PluginDefineElementEventsSchema}});var s=nf();Object.defineProperty(e,"PluginDefineElementPropertiesSchema",{enumerable:!0,get:function(){return s.PluginDefineElementPropertiesSchema}});var n=af();Object.defineProperty(e,"PluginDefineElementSchema",{enumerable:!0,get:function(){return n.PluginDefineElementSchema}});var a=sf();Object.defineProperty(e,"PluginDefineElementsSchema",{enumerable:!0,get:function(){return a.PluginDefineElementsSchema}});var u=of();Object.defineProperty(e,"PluginDefinePropertiesSchema",{enumerable:!0,get:function(){return u.PluginDefinePropertiesSchema}});var o=uf();Object.defineProperty(e,"PluginDefineSchema",{enumerable:!0,get:function(){return o.PluginDefineSchema}});var c=lf();Object.defineProperty(e,"PluginDefinesSchema",{enumerable:!0,get:function(){return c.PluginDefinesSchema}});var f=cf();Object.defineProperty(e,"PluginProvideAttributesSchema",{enumerable:!0,get:function(){return f.PluginProvideAttributesSchema}});var h=df();Object.defineProperty(e,"PluginProvideElementSchema",{enumerable:!0,get:function(){return h.PluginProvideElementSchema}});var d=ff();Object.defineProperty(e,"PluginProvideElementsSchema",{enumerable:!0,get:function(){return d.PluginProvideElementsSchema}});var g=hf();Object.defineProperty(e,"PluginProvidePropertiesSchema",{enumerable:!0,get:function(){return g.PluginProvidePropertiesSchema}});var P=mf();Object.defineProperty(e,"PluginProvideSchema",{enumerable:!0,get:function(){return P.PluginProvideSchema}});var _=pf();Object.defineProperty(e,"PluginProvidesSchema",{enumerable:!0,get:function(){return _.PluginProvidesSchema}});var m=vf();Object.defineProperty(e,"PluginSchema",{enumerable:!0,get:function(){return m.PluginSchema}})}($a)),$a}var Yu;function _f(){if(Yu)return Ot;Yu=1;var e=Ot&&Ot.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Ot,"__esModule",{value:!0}),Ot.getValidator=Ot.validate=void 0;const t=e(xd()),r=gf(),i=new t.default({allowUnionTypes:!0,schemas:[r.PluginDefineAttributesSchema,r.PluginDefineElementAttributesSchema,r.PluginDefineElementEventsSchema,r.PluginDefineElementPropertiesSchema,r.PluginDefineElementSchema,r.PluginDefineElementsSchema,r.PluginDefinePropertiesSchema,r.PluginDefineSchema,r.PluginDefinesSchema,r.PluginProvideAttributesSchema,r.PluginProvideElementSchema,r.PluginProvideElementsSchema,r.PluginProvidePropertiesSchema,r.PluginProvideSchema,r.PluginProvidesSchema,r.PluginSchema]});Ot.validate=i.getSchema("WardPluginSchema");const s=()=>i.getSchema("WardPluginSchema");return Ot.getValidator=s,Ot}var Xu;function yf(){return Xu||(Xu=1,function(e){var t=Dt&&Dt.__awaiter||function(h,d,g,P){function _(m){return m instanceof g?m:new g(function(v){v(m)})}return new(g||(g=Promise))(function(m,v){function l(w){try{y(P.next(w))}catch(b){v(b)}}function p(w){try{y(P.throw(w))}catch(b){v(b)}}function y(w){w.done?m(w.value):_(w.value).then(l,p)}y((P=P.apply(h,d||[])).next())})},r=Dt&&Dt.__classPrivateFieldGet||function(h,d,g,P){if(g==="a"&&!P)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?h!==d||!P:!d.has(h))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?P:g==="a"?P.call(h):P?P.value:d.get(h)},i=Dt&&Dt.__classPrivateFieldSet||function(h,d,g,P,_){if(P==="m")throw new TypeError("Private method is not writable");if(P==="a"&&!_)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?h!==d||!_:!d.has(h))throw new TypeError("Cannot write private member to an object whose class did not declare it");return P==="a"?_.call(h,g):_?_.value=g:d.set(h,g),g},s,n,a,u,o;Object.defineProperty(e,"__esModule",{value:!0}),e.PluginLoadStates=void 0;const c=_f();e.PluginLoadStates={NONE:"NONE",EXCLUDED:"EXCLUDED",LOAD_ERROR:"LOAD_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",LOADED:"LOADED"};let f=class{constructor(){s.add(this),n.set(this,{}),a.set(this,[])}get urls(){return Object.keys(r(this,n,"f"))}get excludedUrls(){return r(this,a,"f").slice()}reset(d=!1){i(this,n,{},"f"),d&&i(this,a,[],"f")}hasData(d){var g;return!!(!((g=r(this,n,"f")[d])===null||g===void 0)&&g.data)}isLoaded(d){var g;return((g=r(this,n,"f")[d])===null||g===void 0?void 0:g.state)===e.PluginLoadStates.LOADED}getData(d){var g;return(g=r(this,n,"f")[d])===null||g===void 0?void 0:g.data}getErrors(d){var g;return((g=r(this,n,"f")[d])===null||g===void 0?void 0:g.errors)||[]}getState(d){var g;return((g=r(this,n,"f")[d])===null||g===void 0?void 0:g.state)||e.PluginLoadStates.NONE}exclude(d){r(this,a,"f").includes(d)||r(this,a,"f").push(d)}include(d){const g=r(this,a,"f").indexOf(d);g>-1&&r(this,a,"f").splice(g,1)}load(d){return t(this,void 0,void 0,function*(){if(r(this,n,"f")[d]={url:d,state:e.PluginLoadStates.NONE,errors:[],loadDate:new Date().getTime()},r(this,a,"f").includes(d))return r(this,n,"f")[d].state=e.PluginLoadStates.EXCLUDED,!1;let g;try{g=yield r(this,s,"m",u).call(this,d)}catch(v){return r(this,n,"f")[d].state=e.PluginLoadStates.LOAD_ERROR,r(this,n,"f")[d].errors.push(String(v)),!1}let P;try{P=yield r(this,s,"m",o).call(this,g),r(this,n,"f")[d].data=P}catch(v){return r(this,n,"f")[d].state=e.PluginLoadStates.LOAD_ERROR,r(this,n,"f")[d].errors.push(String(v)),!1}const _=(0,c.getValidator)();return _(P)?(r(this,n,"f")[d].state=e.PluginLoadStates.LOADED,!0):(r(this,n,"f")[d].state=e.PluginLoadStates.VALIDATION_ERROR,_.errors&&r(this,n,"f")[d].errors.push(..._.errors.map(v=>JSON.stringify(v,null,2))),!1)})}};n=new WeakMap,a=new WeakMap,s=new WeakSet,u=function(d){return t(this,void 0,void 0,function*(){return yield fetch(d,{method:"GET",headers:new Headers})})},o=function(d){return t(this,void 0,void 0,function*(){return yield d.json()})},e.default=f}(Dt)),Dt}var Qu;function Pf(){if(Qu)return Be;Qu=1;var e=Be&&Be.__awaiter||function(E,S,O,C){function U(H){return H instanceof O?H:new O(function(F){F(H)})}return new(O||(O=Promise))(function(H,F){function G(Z){try{ee(C.next(Z))}catch(X){F(X)}}function J(Z){try{ee(C.throw(Z))}catch(X){F(X)}}function ee(Z){Z.done?H(Z.value):U(Z.value).then(G,J)}ee((C=C.apply(E,S||[])).next())})},t=Be&&Be.__classPrivateFieldSet||function(E,S,O,C,U){if(C==="m")throw new TypeError("Private method is not writable");if(C==="a"&&!U)throw new TypeError("Private accessor was defined without a setter");if(typeof S=="function"?E!==S||!U:!S.has(E))throw new TypeError("Cannot write private member to an object whose class did not declare it");return C==="a"?U.call(E,O):U?U.value=O:S.set(E,O),O},r=Be&&Be.__classPrivateFieldGet||function(E,S,O,C){if(O==="a"&&!C)throw new TypeError("Private accessor was defined without a getter");if(typeof S=="function"?E!==S||!C:!S.has(E))throw new TypeError("Cannot read private member from an object whose class did not declare it");return O==="m"?C:O==="a"?C.call(E):C?C.value:S.get(E)},i=Be&&Be.__importDefault||function(E){return E&&E.__esModule?E:{default:E}},s,n,a,u,o,c,f,h,d,g,P,_,m;Object.defineProperty(Be,"__esModule",{value:!0});const v=en(),l=i(td()),p=i(id()),y=Zr(),w=i(yf());let b=class{constructor(S,O){s.add(this),n.set(this,void 0),a.set(this,-1),u.set(this,void 0),o.set(this,[]),c.set(this,{}),f.set(this,{}),h.set(this,{}),d.set(this,void 0),t(this,n,S||new w.default,"f"),t(this,d,new v.Logger("PluginManager",O),"f")}get logger(){return r(this,d,"f")}get retryDelay(){return r(this,a,"f")}set retryDelay(S){t(this,a,S,"f")}get data(){return{urls:this.urls,roots:this.roots,plugins:this.plugins,definitions:this.definitions,providers:this.providers}}get urls(){return r(this,n,"f").urls.reduce((O,C)=>(O[C]={state:this.getState(C),errors:this.getErrors(C),data:this.getData(C)},O),{})}getData(S){return r(this,n,"f").getData(S)}getState(S){return r(this,n,"f").getState(S)}getErrors(S){return r(this,n,"f").getErrors(S)}get roots(){const S=[];return Object.values(r(this,c,"f")).forEach(O=>{O.dependencies.forEach(C=>{S.includes(C)||S.push(C)})}),Object.values(r(this,c,"f")).reduce((O,C)=>(S.includes(C.loadUrl)||(O[C.name]=C),O),{})}get plugins(){return r(this,c,"f")}getPlugin(S){return this.plugins[S]}getPluginByUrl(S){const O=this.getData(S);if(O)return this.plugins[O.name]}get definitions(){return r(this,f,"f")}getDefinition(S){return this.definitions[S]}get providers(){return r(this,h,"f")}getProviders(S){return Object.values(r(this,h,"f")).filter(O=>O.definition===S)}getProvider(S){return r(this,h,"f")[S]}register(S){return r(this,o,"f").push(S),()=>this.unregister(S)}unregister(S){t(this,o,y.ArrayUtils.removeElement(r(this,o,"f"),S),"f")}notify(){r(this,o,"f").forEach(S=>{S(this.data)})}reset(S=!0){r(this,n,"f").reset(),t(this,c,{},"f"),t(this,f,{},"f"),t(this,h,{},"f"),S&&this.notify()}loadPlugin(S){return e(this,arguments,void 0,function*(O,C=!0){r(this,n,"f").include(O),yield r(this,s,"m",g).call(this,O),C&&this.notify()})}unloadPlugin(S){return e(this,void 0,void 0,function*(){r(this,n,"f").exclude(S),this.reloadPlugins()})}reloadPlugins(){return e(this,void 0,void 0,function*(){const S=Object.values(this.roots).map(O=>O.loadUrl);this.reset(!1),yield Promise.all(S.map(O=>r(this,s,"m",g).call(this,O))),this.notify()})}};return n=new WeakMap,a=new WeakMap,u=new WeakMap,o=new WeakMap,c=new WeakMap,f=new WeakMap,h=new WeakMap,d=new WeakMap,s=new WeakSet,g=function E(S,O){return e(this,void 0,void 0,function*(){if(clearInterval(r(this,u,"f")),r(this,n,"f").hasData(S))return this.logger.warn(`URL already loaded: '${S}'`),!0;if(!(yield r(this,n,"f").load(S)))return this.logger.warn(`Failed to load plugin from: '${S}'`),this.logger.warn(r(this,n,"f").getErrors(S).join(`
`)),!1;const U=r(this,n,"f").getData(S);if(r(this,c,"f")[U.name]){const F=r(this,c,"f")[U.name].loadUrl;return this.logger.warn(`Plugin '${U.name}' from '${U.url}' already registered from '${F}'`),!1}const H=new l.default(S,U);r(this,c,"f")[U.name]=H,yield Promise.allSettled((U.dependencies||[]).map(F=>r(this,s,"m",E).call(this,F,U.name)));try{r(this,s,"m",P).call(this)}catch(F){this.logger.error(String(F))}return r(this,a,"f")>0&&t(this,u,setInterval(()=>{this.reloadPlugins()},r(this,a,"f")),"f"),this.logger.warn(`Succesully loaded plugin from '${S}'`),!0})},P=function(){t(this,f,{},"f"),t(this,h,{},"f"),Object.values(this.roots).forEach(S=>r(this,s,"m",_).call(this,S)),Object.values(this.roots).forEach(S=>r(this,s,"m",m).call(this,S))},_=function E(S){S.defines.forEach(O=>{this.getDefinition(O.name)?this.logger.warn(`Defines '${O.name}' from '${S.name}' is already registered from ${this.getDefinition(O.name).plugin}`):r(this,f,"f")[O.name]=O}),S.dependencies.forEach(O=>{if(r(this,n,"f").isLoaded(O)){const C=r(this,n,"f").getData(O),U=this.getPlugin(C.name);r(this,s,"m",E).call(this,U)}})},m=function E(S){S.provides.forEach(O=>{const C=this.getDefinition(O.define);if(!C)this.logger.warn(`Provides '${O.name}' from '${S.name}' has no definition '${O.define}'`);else{const U=new p.default(S.url,C,O);r(this,h,"f")[U.name]=U}}),S.dependencies.forEach(O=>{if(r(this,n,"f").isLoaded(O)){const C=r(this,n,"f").getData(O),U=this.getPlugin(C.name);r(this,s,"m",E).call(this,U)}})},Be.default=b,Be}var Mt={},Qt={},Pn={},Zu;function xu(){return Zu||(Zu=1,Object.defineProperty(Pn,"__esModule",{value:!0}),Pn.MessageServiceTypes=void 0,Pn.MessageServiceTypes={EVENT:"event",FRAME:"frame",NAVIGATION:"navigation"}),Pn}var el;function wf(){if(el)return Qt;el=1;var e=Qt&&Qt.__classPrivateFieldSet||function(v,l,p,y,w){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?v!==l||!w:!l.has(v))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?w.call(v,p):w?w.value=p:l.set(v,p),p},t=Qt&&Qt.__classPrivateFieldGet||function(v,l,p,y){if(p==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?v!==l||!y:!l.has(v))throw new TypeError("Cannot read private member from an object whose class did not declare it");return p==="m"?y:p==="a"?y.call(v):y?y.value:l.get(v)},r,i,s,n,a,u,o,c,f,h;Object.defineProperty(Qt,"__esModule",{value:!0});const d=Zr(),g=en(),P=xu(),_=rl();let m=class{constructor(l,p,y,w,b,E,S){r.add(this),i.set(this,void 0),s.set(this,void 0),n.set(this,void 0),a.set(this,void 0),u.set(this,void 0),o.set(this,void 0),c.set(this,void 0),e(this,c,new g.Logger("FrameService",S),"f"),e(this,s,l,"f"),e(this,i,E||d.UUID.next(),"f"),e(this,a,p,"f"),e(this,u,y,"f"),e(this,o,w,"f"),e(this,n,b,"f"),this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] created`),t(this,a,"f").addEventListener("message",t(this,r,"m",h).bind(this)),t(this,a,"f").addEventListener("beforeUnload",t(this,r,"m",f).bind(this))}get id(){return t(this,i,"f")}get dispatcherId(){return t(this,s,"f").id}get remoteDispatcherId(){return t(this,n,"f")}get windowRemote(){return t(this,u,"f")}get type(){return P.MessageServiceTypes.FRAME}get logger(){return t(this,c,"f")}onMessage(l){this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] onMessage ${l.type}`),t(this,u,"f").closed?(this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] onMessage /!\\ window closed /!\\`),this.terminate()):(this.logger.debug(`[DISP-${this.dispatcherId}/FRAME-${this.id}] onMessage posting message to ${t(this,o,"f")}`),t(this,u,"f").postMessage(Object.assign(Object.assign({},l),{_serviceId:t(this,i,"f")}),t(this,o,"f")))}sendMessage(l){this.logger.debug(`[DISP-${this.dispatcherId}/FRAME-${this.id}] sendMessage ${l.type}`),t(this,s,"f").sendMessage(Object.assign(Object.assign({},l),{_serviceId:this.id}))}terminate(){this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] terminate`),t(this,s,"f").removeService(this)}};return i=new WeakMap,s=new WeakMap,n=new WeakMap,a=new WeakMap,u=new WeakMap,o=new WeakMap,c=new WeakMap,r=new WeakSet,f=function(){this.onMessage({type:_.CONNECTION_CLOSING,_dispatcherId:this.dispatcherId,payload:{}}),this.terminate()},h=function(l){const p=l.data||{};p._serviceId&&p._dispatcherId&&p._dispatcherId===t(this,n,"f")&&(this.logger.debug(`[DISP-${this.dispatcherId}/FRAME-${this.id}] handleMessage ${l.data.type}`),p.type===_.CONNECTION_CLOSING?this.terminate():this.sendMessage({_serviceId:t(this,i,"f"),type:p.type,payload:p.payload}))},Qt.default=m,Qt}var tl;function rl(){return tl||(tl=1,function(e){var t=Mt&&Mt.__classPrivateFieldSet||function(p,y,w,b,E){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!E)throw new TypeError("Private accessor was defined without a setter");if(typeof y=="function"?p!==y||!E:!y.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?E.call(p,w):E?E.value=w:y.set(p,w),w},r=Mt&&Mt.__classPrivateFieldGet||function(p,y,w,b){if(w==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof y=="function"?p!==y||!b:!y.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?b:w==="a"?b.call(p):b?b.value:y.get(p)},i=Mt&&Mt.__importDefault||function(p){return p&&p.__esModule?p:{default:p}},s,n,a,u,o,c,f,h,d,g,P;Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECTION_CLOSING=e.CONNECTION_ACKNOWLEDGE=e.CONNECTION_REQUEST=void 0;const _=Zr(),m=en(),v=i(wf());e.CONNECTION_REQUEST="__CONNNECTION_REQUEST__",e.CONNECTION_ACKNOWLEDGE="__CONNECTION_ACKNOWLEDGE__",e.CONNECTION_CLOSING="__CONNNECTION_CLOSING__";let l=class{constructor(y,w){s.add(this),n.set(this,void 0),a.set(this,[]),u.set(this,[]),o.set(this,void 0),c.set(this,[]),f.set(this,void 0),t(this,o,new m.Logger("MessageDispatcher",w),"f"),t(this,n,y||_.UUID.next(),"f"),this.logger.info(`[DISP-${this.id}] created`),t(this,f,r(this,s,"m",h).bind(this,window),"f"),window.addEventListener("message",r(this,f,"f")),window!==window.parent?(this.logger.info(`[DISP-${this.id}] contact parent`),window.parent.postMessage({_dispatcherId:r(this,n,"f"),type:e.CONNECTION_REQUEST},"*")):window.documentPictureInPicture&&window.documentPictureInPicture.addEventListener("enter",b=>{const E=b.window;E.addEventListener("message",r(this,s,"m",h).bind(this,E))})}get data(){return{services:this.services,dispatchers:this.dispatchers}}get id(){return r(this,n,"f")}get services(){return r(this,a,"f").reduce((y,w)=>(y[w.id]=w,y),{})}get dispatchers(){return r(this,u,"f").slice()}get logger(){return r(this,o,"f")}register(y){return r(this,c,"f").push(y),()=>this.unregister(y)}unregister(y){t(this,c,_.ArrayUtils.removeElement(r(this,c,"f"),y),"f")}notify(){r(this,c,"f").forEach(y=>{try{y(this.data)}catch(w){this.logger.error(`[DISP-${this.id}] listener failed with error`),this.logger.error(`${w}`)}})}terminate(){this.logger.info(`[DISP-${this.id}] stopping`),window.removeEventListener("message",r(this,f,"f")),window!==window.parent&&(this.logger.info(`[DISP-${this.id}] notifying parent`),window.parent.postMessage({_dispatcherId:r(this,n,"f"),type:e.CONNECTION_CLOSING},"*"))}reset(){t(this,a,[],"f"),t(this,u,[],"f"),this.notify()}getService(y){return r(this,a,"f").find(w=>w.id===y)}addService(y){return this.logger.info(`[DISP-${this.id}] add service [${y.id}]`),r(this,a,"f").includes(y)||r(this,a,"f").push(y),this.notify(),()=>this.removeService(y)}removeService(y){this.logger.info(`[DISP-${this.id}] remove service [${y.id}]`),t(this,a,r(this,a,"f").filter(w=>w!==y),"f"),y instanceof v.default&&t(this,u,r(this,u,"f").filter(w=>w!==y.remoteDispatcherId),"f"),this.notify()}sendMessage(y){this.logger.info(`[DISP-${this.id}] send message to ${r(this,a,"f").length-1} services from [${r(this,n,"f")}-${y._serviceId}]`),r(this,a,"f").forEach(w=>{w.id!==y._serviceId&&(this.logger.info(`[DISP-${this.id}] send message on service [${w.id}]`),w.onMessage(Object.assign({_dispatcherId:r(this,n,"f")},y)))})}};n=new WeakMap,a=new WeakMap,u=new WeakMap,o=new WeakMap,c=new WeakMap,f=new WeakMap,s=new WeakSet,h=function(y,w){var b;if(!((b=w.data)===null||b===void 0)&&b._dispatcherId)switch(w.data.type){case e.CONNECTION_REQUEST:{r(this,s,"m",d).call(this,w,y);break}case e.CONNECTION_ACKNOWLEDGE:{r(this,s,"m",g).call(this,w,y);break}case e.CONNECTION_CLOSING:{r(this,s,"m",P).call(this,w);break}}},d=function(y,w=window){const b=y.data._dispatcherId;this.logger.info(`[DISP-${this.id}] child trying to connect [${b}]`),this.logger.info(`[DISP-${this.id}] current childs: ${this.dispatchers.join(", ")}`);const E=y.source,S=y.origin;if(!r(this,u,"f").includes(b)){const O=new v.default(this,w,E,S,b,void 0,this.logger.config);r(this,u,"f").push(b),this.addService(O),O.onMessage({_dispatcherId:r(this,n,"f"),_serviceId:O.id,type:e.CONNECTION_ACKNOWLEDGE,payload:null})}},g=function(y,w=window){this.logger.info(`[DISP-${this.id}] parent acknowledge connection`);const b=new v.default(this,w,window.parent,y.origin,y.data._dispatcherId,y.data._serviceId,this.logger.config);this.addService(b)},P=function(y){this.logger.info(`[DISP-${this.id}] child notify closing`)},e.default=l}(Mt)),Mt}var Nt={},nl;function il(){if(nl)return Nt;nl=1;var e=Nt&&Nt.__classPrivateFieldSet||function(f,h,d,g,P){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof h=="function"?f!==h||!P:!h.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?P.call(f,d):P?P.value=d:h.set(f,d),d},t=Nt&&Nt.__classPrivateFieldGet||function(f,h,d,g){if(d==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof h=="function"?f!==h||!g:!h.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return d==="m"?g:d==="a"?g.call(f):g?g.value:h.get(f)},r,i,s,n;Object.defineProperty(Nt,"__esModule",{value:!0}),Nt.ServiceEvent=void 0;const a=Zr(),u=en(),o=xu();let c=class{constructor(h,d,g){r.set(this,void 0),i.set(this,void 0),s.set(this,[]),n.set(this,void 0),e(this,n,new u.Logger("EventService",g),"f"),e(this,r,d||a.UUID.next(),"f"),e(this,i,h,"f"),t(this,i,"f").addService(this),this.logger.info(`[DISP-${this.dispatcherId}/EVENT-${this.id}] created`)}get id(){return t(this,r,"f")}get dispatcherId(){return t(this,i,"f").id}get type(){return o.MessageServiceTypes.EVENT}get logger(){return t(this,n,"f")}terminate(){this.logger.info(`[DISP-${this.dispatcherId}/EVENT-${this.id}] terminate`),e(this,s,[],"f"),t(this,i,"f").removeService(this)}addHandler(h){return this.logger.debug(`[DISP-${this.dispatcherId}/EVENT-${this.id}] add handler`),t(this,s,"f").push(h),this.removeHandler.bind(this,h)}removeHandler(h){this.logger.debug(`[DISP-${this.dispatcherId}/EVENT-${this.id}] add handler`),e(this,s,a.ArrayUtils.removeElement(t(this,s,"f"),h),"f")}onMessage(h){this.logger.debug(`[DISP-${this.dispatcherId}/EVENT-${this.id}] onMessage`),t(this,s,"f").forEach(d=>{try{d(h)}catch(g){this.logger.error(`[DISP-${this.dispatcherId}/EVENT-${this.id}] handler failed with error`),this.logger.error(`${g}`)}})}sendMessage(h){this.logger.info(`[DISP-${this.dispatcherId}/EVENT-${this.id}] sendMessage`),t(this,i,"f").sendMessage(Object.assign(Object.assign({},h),{_serviceId:this.id}))}};return Nt.ServiceEvent=c,r=new WeakMap,i=new WeakMap,s=new WeakMap,n=new WeakMap,Nt}var al;function bf(){return al||(al=1,function(e){var t=$t&&$t.__classPrivateFieldSet||function(w,b,E,S,O){if(S==="m")throw new TypeError("Private method is not writable");if(S==="a"&&!O)throw new TypeError("Private accessor was defined without a setter");if(typeof b=="function"?w!==b||!O:!b.has(w))throw new TypeError("Cannot write private member to an object whose class did not declare it");return S==="a"?O.call(w,E):O?O.value=E:b.set(w,E),E},r=$t&&$t.__classPrivateFieldGet||function(w,b,E,S){if(E==="a"&&!S)throw new TypeError("Private accessor was defined without a getter");if(typeof b=="function"?w!==b||!S:!b.has(w))throw new TypeError("Cannot read private member from an object whose class did not declare it");return E==="m"?S:E==="a"?S.call(w):S?S.value:b.get(w)},i=$t&&$t.__importDefault||function(w){return w&&w.__esModule?w:{default:w}},s,n,a,u,o,c,f,h;Object.defineProperty(e,"__esModule",{value:!0}),e.WardVersion=e.Ward=e.ServiceEvent=void 0;const d=Zr(),g=i(Pf()),P=i(rl()),_=il(),m=en();var v=il();Object.defineProperty(e,"ServiceEvent",{enumerable:!0,get:function(){return v.ServiceEvent}});class l{constructor(b,E,S){n.set(this,void 0),a.set(this,void 0),u.set(this,void 0),o.set(this,[]),c.set(this,[]),f.set(this,[]),h.set(this,new m.LogConfig),t(this,n,b||d.UUID.next(),"f"),t(this,a,E||new g.default(void 0,this.logConfig),"f"),t(this,u,S||new P.default(void 0,this.logConfig),"f"),r(this,a,"f").register(this.notifyPlugins.bind(this)),r(this,u,"f").register(this.notifyServices.bind(this))}get id(){return r(this,n,"f")}get data(){return Object.assign(Object.assign({},r(this,u,"f").data),r(this,a,"f").data)}get logConfig(){return r(this,h,"f")}register(b){return r(this,o,"f").push(b),()=>this.unregister(b)}unregister(b){t(this,o,d.ArrayUtils.removeElement(r(this,o,"f"),b),"f")}registerPlugins(b){return r(this,c,"f").push(b),()=>this.unregisterPlugins(b)}unregisterPlugins(b){t(this,c,d.ArrayUtils.removeElement(r(this,c,"f"),b),"f")}notifyPlugins(){r(this,c,"f").forEach(b=>{b(this.data)}),r(this,o,"f").forEach(b=>{b(this.data)})}registerServices(b){return r(this,f,"f").push(b),()=>this.unregisterServices(b)}unregisterServices(b){t(this,f,d.ArrayUtils.removeElement(r(this,f,"f"),b),"f")}notifyServices(){r(this,f,"f").forEach(b=>{b(this.data)}),r(this,o,"f").forEach(b=>{b(this.data)})}reset(){r(this,a,"f").reset(),r(this,u,"f").reset()}loadPlugin(b){r(this,a,"f").loadPlugin(b)}unloadPlugin(b){r(this,a,"f").unloadPlugin(b)}addService(b){return new _.ServiceEvent(r(this,u,"f"),b,this.logConfig)}}n=new WeakMap,a=new WeakMap,u=new WeakMap,o=new WeakMap,c=new WeakMap,f=new WeakMap,h=new WeakMap;let p="1.0.0",y;!((s=window.uncover)===null||s===void 0)&&s.ward?(console.warn(`Ward is already registered with version ${window.uncover.wardVersion||"older than 0.2.21"}`),y=window.uncover.ward,p=window.uncover.wardVersion):(y=new l,window.uncover=window.uncover||{},window.uncover.ward=y,window.uncover.wardVersion=p),e.Ward=y,e.WardVersion=p}($t)),$t}var Ee=bf();const pt=$s({plugin:null,loaded:!1,urls:{},roots:{},plugins:{},definitions:{},providers:{},services:{},dispatchers:[]});Ee.Ward.register($f);function $f(){pt.set(Ee.Ward.data)}const Er=$s({type:null,id:null});var Ef=ce("<ui5-tree-item></ui5-tree-item>",2);function Sf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r),n=ne();let a=wr(t,"urlId",8),u=ne(),o=ne();const c=Er.subscribe(m=>{x(u,m.type),x(o,m.id)});let f=ne(),h=ne(),d=ne();yr(()=>{R(d).setAttribute("data-attribute-type","url"),R(d).setAttribute("data-attribute-id",a())}),Lr(()=>{c()}),Ae(()=>(s(),ar(a())),()=>{x(f,s().urls[a()])}),Ae(()=>R(f),()=>{x(n,R(f).state==="LOADED"?"Success":R(f).state==="EXCLUDED"?"Warning":"Error")}),Ae(()=>s(),()=>{x(h,s().roots)}),yt(),xe();var g=or(),P=qt(g);{var _=m=>{var v=Ef();K(v,"icon","world"),le(()=>K(v,"highlight",R(n))),le(()=>K(v,"text",a())),le(()=>K(v,"data-attribute-id",a())),le(()=>K(v,"selected",R(u)==="url"&&R(o)===a())),lt(v,l=>x(d,l),()=>R(d)),re(m,v)};Re(P,m=>{a()&&m(_)})}re(e,g),Ke(),i()}var Df=ce('<ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title> <ui5-input></ui5-input> <ui5-button>Load plugin</ui5-button></div> <ui5-tree></ui5-tree></ui5-panel>',2);function Of(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r);let n=ne(),a=ne(),u=ne(),o=ne();yr(()=>{R(a).addEventListener("input",c),R(a).addEventListener("change",f),R(u).addEventListener("click",h),R(o).addEventListener("item-click",d),R(o).addEventListener("item-delete",g)});function c(){R(a).value&&R(a).value.trim()?R(u).removeAttribute("disabled"):R(u).setAttribute("disabled","")}function f(){c(),h()}function h(){R(a).value&&R(a).value.trim()&&(Ee.Ward.loadPlugin(R(a).value),zi(a,R(a).value=""))}function d(w){Er.update(b=>{const E=w.detail.item.getAttribute("data-attribute-type"),S=w.detail.item.getAttribute("data-attribute-id");return b.type===E&&b.id===S?{type:null,id:null}:{type:E,id:S}})}function g(w){const b=w.detail.item.getAttribute("data-attribute-id");switch(w.detail.item.highlight){case"Success":{Ee.Ward.unloadPlugin(b);break}case"Warning":{Ee.Ward.loadPlugin(b);break}}}Ae(()=>s(),()=>{x(n,s().urls)}),yt(),xe();var P=Df(),_=W(P),m=W(_);be(m,"margin-right:auto"),K(m,"slot","startContent"),K(m,"level","H5");var v=W(m,!0);k(m);var l=z(m,2);K(l,"placeholder","Enter plugin url"),lt(l,w=>x(a,w),()=>R(a));var p=z(l,2);K(p,"disabled",!0),be(p,"margin-left: 0.5rem"),K(p,"icon","add"),lt(p,w=>x(u,w),()=>R(u)),k(_);var y=z(_,2);K(y,"mode","Delete"),Me(y,5,()=>Object.keys(R(n)),je,(w,b)=>{Sf(w,{get urlId(){return R(b)}})}),k(y),lt(y,w=>x(o,w),()=>R(o)),k(P),le(w=>te(v,w),[()=>`URLs (${Object.values(R(n)).length})`],Ve),re(e,P),Ke(),i()}var Tf=ce("<ui5-tree-item></ui5-tree-item>",2);function sl(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r),n=ne();let a=wr(t,"pluginId",8),u=ne(),o=ne();const c=Er.subscribe(m=>{x(u,m.type),x(o,m.id)});let f=ne(),h=ne(),d=ne();yr(()=>{R(d)&&(R(d).setAttribute("data-attribute-type","plugin"),R(d).setAttribute("data-attribute-id",a()))}),Lr(()=>{c()}),Ae(()=>(s(),ar(a())),()=>{x(f,s().plugins[a()])}),Ae(()=>s(),()=>{x(h,s().plugins)}),Ae(()=>(R(f),R(h)),()=>{var m;x(n,(((m=R(f))==null?void 0:m.dependencies)||[]).map(v=>{const l=Object.values(R(h)).find(p=>p.loadUrl===v);return l==null?void 0:l.name}))}),yt(),xe();var g=or(),P=qt(g);{var _=m=>{var v=Tf();K(v,"expanded",!0),K(v,"icon","tree"),le(()=>K(v,"text",a())),le(()=>K(v,"selected",R(u)==="plugin"&&R(o)===a())),Me(v,5,()=>R(n),je,(l,p)=>{var y=or(),w=qt(y);sl(w,{get pluginId(){return R(p)}}),re(l,y)}),k(v),lt(v,l=>x(d,l),()=>R(d)),re(m,v)};Re(P,m=>{a()&&m(_)})}re(e,g),Ke(),i()}var Rf=ce('<ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title></div> <ui5-tree></ui5-tree></ui5-panel>',2);function jf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r);let n=ne(),a=ne();yr(()=>{R(a).addEventListener("item-click",u)});function u(g){Er.update(P=>{const _=g.detail.item.getAttribute("data-attribute-type"),m=g.detail.item.getAttribute("data-attribute-id");return P.type===_&&P.id===m?{type:null,id:null}:{type:_,id:m}})}Ae(()=>s(),()=>{x(n,s().roots)}),yt(),xe();var o=Rf();be(o,"margin-top:1rem;");var c=W(o),f=W(c);be(f,"margin-right:auto"),K(f,"slot","startContent"),K(f,"level","H5");var h=W(f,!0);k(f),k(c);var d=z(c,2);Me(d,5,()=>Object.keys(R(n)),je,(g,P)=>{sl(g,{get pluginId(){return R(P)}})}),k(d),lt(d,g=>x(a,g),()=>R(a)),k(o),le(g=>te(h,g),[()=>`Plugins (${Object.values(R(n)).length})`],Ve),re(e,o),Ke(),i()}var Mf=ce("<li> <ul><li><ui5-label>type:</ui5-label> </li> <li><ui5-label>mandatory:</ui5-label> </li> <li><ui5-label>array:</ui5-label> </li></ul></li>",2),Nf=ce("<li> <ul><li><ui5-label>type:</ui5-label> </li> <li><ui5-label>mandatory:</ui5-label> </li> <li><ui5-label>array:</ui5-label> </li></ul></li>",2),If=ce("<li> </li>"),Cf=ce("<div><ui5-title> </ui5-title> <br> <div><ui5-label>Name:</ui5-label> </div> <br> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul></div>",2),Af=ce("<div>Deinition not found</div>");function Lf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r);let n=wr(t,"definitionId",8),a=ne();Ae(()=>(s(),ar(n())),()=>{x(a,s().definitions[n()])}),yt(),xe();var u=or(),o=qt(u);{var c=h=>{var d=Cf(),g=W(d);K(g,"level","H5");var P=W(g,!0);k(g);var _=z(g,4),m=W(_),v=z(m);k(_);var l=z(_,4);K(l,"level","H6");var p=W(l,!0);k(l);var y=z(l,2);Me(y,5,()=>R(a).properties,je,(U,H)=>{var F=Mf(),G=W(F),J=z(G),ee=W(J),Z=W(ee),X=z(Z);k(ee);var oe=z(ee,2),q=W(oe),j=z(q);k(oe);var A=z(oe,2),M=W(A),$=z(M);k(A),k(J),k(F),le((D,I)=>{te(G,`${R(H).name??""} `),te(X,` ${R(H).type??""}`),te(j,` ${D??""}`),te($,` ${I??""}`)},[()=>String(R(H).mandatory),()=>String(R(H).array)],Ve),re(U,F)}),k(y);var w=z(y,2);K(w,"level","H6");var b=W(w,!0);k(w);var E=z(w,2);Me(E,5,()=>R(a).attributes,je,(U,H)=>{var F=Nf(),G=W(F),J=z(G),ee=W(J),Z=W(ee),X=z(Z);k(ee);var oe=z(ee,2),q=W(oe),j=z(q);k(oe);var A=z(oe,2),M=W(A),$=z(M);k(A),k(J),k(F),le((D,I)=>{te(G,`${R(H).name??""} `),te(X,` ${R(H).type??""}`),te(j,` ${D??""}`),te($,` ${I??""}`)},[()=>String(R(H).mandatory),()=>String(R(H).array)],Ve),re(U,F)}),k(E);var S=z(E,2);K(S,"level","H6");var O=W(S,!0);k(S);var C=z(S,2);Me(C,5,()=>R(a).elements,je,(U,H)=>{var F=If(),G=W(F,!0);k(F),le(()=>te(G,R(H).name)),re(U,F)}),k(C),k(d),le(()=>{te(P,`Definition Details (${n()})`),te(v,` ${R(a).name??""}`),te(p,`Properties (${R(a).properties.length})`),te(b,`Attributes (${R(a).attributes.length})`),te(O,`Elements (${R(a).elements.length})`)}),re(h,d)},f=h=>{var d=Af();re(h,d)};Re(o,h=>{R(a)?h(c):h(f,!1)})}re(e,u),Ke(),i()}var qf=ce("<div><ui5-title> </ui5-title> <p> </p> <pre> </pre></div>",2);function kf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r);let n=wr(t,"urlId",8),a=ne();Ae(()=>(s(),ar(n())),()=>{x(a,s().urls[n()])}),yt(),xe();var u=qf(),o=W(u);K(o,"level","H5");var c=W(o,!0);k(o);var f=z(o,2),h=W(f,!0);k(f);var d=z(f,2),g=W(d,!0);k(d),k(u),le(P=>{te(c,`URL Details (${n()})`),te(h,n()),te(g,P)},[()=>JSON.stringify(R(a).data,null,2)],Ve),re(e,u),Ke(),i()}var Uf=ce("<li> </li>"),Ff=ce("<ul></ul>"),Wf=ce("<br>"),Vf=ce("<li> </li>"),Gf=ce("<li> </li>"),Hf=ce("<div><ui5-title> </ui5-title> <br> <div><ui5-label>Name:</ui5-label> </div> <div><ui5-label>URL:</ui5-label> </div> <br> <ui5-title> </ui5-title> <!> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul></div>",2),zf=ce("<div>Plugin not found</div>");function Kf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r);let n=wr(t,"pluginId",8),a=ne();Ae(()=>(s(),ar(n())),()=>{x(a,s().plugins[n()])}),yt(),xe();var u=or(),o=qt(u);{var c=h=>{var d=Hf(),g=W(d);K(g,"level","H5");var P=W(g,!0);k(g);var _=z(g,4),m=W(_),v=z(m);k(_);var l=z(_,2),p=W(l),y=z(p);k(l);var w=z(l,4);K(w,"level","H6");var b=W(w,!0);k(w);var E=z(w,2);{var S=ee=>{var Z=Ff();Me(Z,5,()=>R(a).dependencies,je,(X,oe)=>{var q=Uf(),j=W(q,!0);k(q),le(()=>te(j,R(oe))),re(X,q)}),k(Z),re(ee,Z)},O=ee=>{var Z=Wf();re(ee,Z)};Re(E,ee=>{R(a).dependencies.length?ee(S):ee(O,!1)})}var C=z(E,2);K(C,"level","H6");var U=W(C,!0);k(C);var H=z(C,2);Me(H,5,()=>R(a).defines,je,(ee,Z)=>{var X=Vf(),oe=W(X,!0);k(X),le(()=>te(oe,`${n()}/${R(Z).name}`)),re(ee,X)}),k(H);var F=z(H,2);K(F,"level","H6");var G=W(F,!0);k(F);var J=z(F,2);Me(J,5,()=>R(a).provides,je,(ee,Z)=>{var X=Gf(),oe=W(X,!0);k(X),le(()=>te(oe,`${R(Z).define}/${R(Z).name}`)),re(ee,X)}),k(J),k(d),le(()=>{te(P,`Plugin Details (${n()})`),te(v,` ${R(a).name??""}`),te(y,` ${R(a).url??""}`),te(b,`Dependencies (${R(a).dependencies.length})`),te(U,`Defines (${R(a).defines.length})`),te(G,`Provides (${R(a).provides.length})`)}),re(h,d)},f=h=>{var d=zf();re(h,d)};Re(o,h=>{R(a)?h(c):h(f,!1)})}re(e,u),Ke(),i()}var Bf=ce("<li> <ul><li><ui5-label>value:</ui5-label> </li> <li><ui5-label>type:</ui5-label> </li> <li><ui5-label>mandatory:</ui5-label> </li> <li><ui5-label>array:</ui5-label> </li></ul></li>",2),Jf=ce("<li> <ul><li><ui5-label>type:</ui5-label> </li> <li><ui5-label>url:</ui5-label> </li> <li><ui5-label>element:</ui5-label> </li></ul></li>",2),Yf=ce("<div><ui5-title>Provider Details</ui5-title> <br> <div><ui5-label>Name:</ui5-label> </div> <br> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul></div>",2);function Xf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r);let n=wr(t,"providerId",8),a=ne();Ae(()=>(s(),ar(n())),()=>{x(a,s().providers[n()])}),yt(),xe();var u=Yf(),o=W(u);K(o,"level","H5");var c=z(o,4),f=W(c),h=z(f);k(c);var d=z(c,4);K(d,"level","H6");var g=W(d,!0);k(d);var P=z(d,2);Me(P,5,()=>Object.values(R(a).getAttributes()),je,(l,p)=>{var y=Bf(),w=W(y),b=z(w),E=W(b),S=W(E),O=z(S);k(E);var C=z(E,2),U=W(C),H=z(U);k(C);var F=z(C,2),G=W(F),J=z(G);k(F);var ee=z(F,2),Z=W(ee),X=z(Z);k(ee),k(b),k(y),le((oe,q)=>{te(w,`${R(p).name??""} `),te(O,` ${R(p).value??""}`),te(H,` ${R(p).type??""}`),te(J,` ${oe??""}`),te(X,` ${q??""}`)},[()=>String(R(p).mandatory),()=>String(R(p).array)],Ve),re(l,y)}),k(P);var _=z(P,2);K(_,"level","H6");var m=W(_,!0);k(_);var v=z(_,2);Me(v,5,()=>Object.values(R(a).getElements()),je,(l,p)=>{var y=Jf(),w=W(y),b=z(w),E=W(b),S=W(E),O=z(S);k(E);var C=z(E,2),U=W(C),H=z(U);k(C);var F=z(C,2),G=W(F),J=z(G);k(F),k(b),k(y),le((ee,Z)=>{te(w,`${R(p).name??""} `),te(O,` ${R(p).type??""}`),te(H,` ${ee??""}`),te(J,` ${Z??""}`)},[()=>String(R(p).url),()=>String(R(p).element)],Ve),re(l,y)}),k(v),k(u),le((l,p)=>{te(h,` ${R(a).name??""}`),te(g,l),te(m,p)},[()=>`Attributes (${Object.values(R(a).getAttributes()).length})`,()=>`Elements (${Object.values(R(a).getElements()).length})`],Ve),re(e,u),Ke(),i()}function Qf(e,t){ze(t,!1);let r=ne(),i=ne();const s=Er.subscribe(o=>{x(r,o.type),x(i,o.id)});Lr(()=>{s()}),xe();var n=or(),a=qt(n);{var u=o=>{var c=or(),f=qt(c);{var h=g=>{kf(g,{get urlId(){return R(i)}})},d=(g,P)=>{{var _=v=>{Kf(v,{get pluginId(){return R(i)}})},m=(v,l)=>{{var p=w=>{Lf(w,{get definitionId(){return R(i)}})},y=(w,b)=>{{var E=S=>{Xf(S,{get providerId(){return R(i)}})};Re(w,S=>{R(r)==="provider"&&S(E)},b)}};Re(v,w=>{R(r)==="definition"?w(p):w(y,!1)},l)}};Re(g,v=>{R(r)==="plugin"?v(_):v(m,!1)},P)}};Re(f,g=>{R(r)==="url"?g(h):g(d,!1)})}re(o,c)};Re(a,o=>{R(i)&&o(u)})}re(e,n),Ke()}var Zf=ce('<ui5-tab><ui5-flexible-column-layout><div slot="startColumn" style="padding-right:1em;"><!> <!></div> <div slot="midColumn"><!></div></ui5-flexible-column-layout></ui5-tab>',2);function xf(e,t){ze(t,!1);const[r,i]=bt(),s=()=>wt(pt,"$WardStore",r),n=ne();let a=ne(),u=ne();const o=Er.subscribe(v=>{x(a,v.type),x(u,v.id)});let c=ne();Lr(()=>{o()}),Ae(()=>(R(u),R(a)),()=>{x(n,R(u)&&R(a)?"TwoColumnsMidExpanded":"OneColumn")}),Ae(()=>s(),()=>{x(c,s())}),yt(),xe();var f=Zf();K(f,"text","Plugins"),K(f,"data-ui5-compact-size",!0);var h=W(f);le(()=>K(h,"layout",R(n))),be(h,"height:100%");var d=W(h),g=W(d);Of(g,{});var P=z(g,2);jf(P,{}),k(d);var _=z(d,2),m=W(_);Qf(m,{}),k(_),k(h),k(f),re(e,f),Ke(),i()}var Sa={},nt={},wn={},ol;function Da(){return ol||(ol=1,Object.defineProperty(wn,"__esModule",{value:!0}),wn.LogLevels=void 0,wn.LogLevels={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4}),wn}var ul;function ll(){if(ul)return nt;ul=1;var e=nt&&nt.__classPrivateFieldSet||function(n,a,u,o,c){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof a=="function"?n!==a||!c:!a.has(n))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?c.call(n,u):c?c.value=u:a.set(n,u),u},t=nt&&nt.__classPrivateFieldGet||function(n,a,u,o){if(u==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof a=="function"?n!==a||!o:!a.has(n))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?o:u==="a"?o.call(n):o?o.value:a.get(n)},r;Object.defineProperty(nt,"__esModule",{value:!0}),nt.GlobalConfig=nt.LogConfig=void 0;const i=Da();let s=class{constructor(a=i.LogLevels.ERROR){r.set(this,void 0),e(this,r,a,"f")}get level(){return t(this,r,"f")}off(){return e(this,r,i.LogLevels.OFF,"f"),this}debug(){return e(this,r,i.LogLevels.DEBUG,"f"),this}info(){return e(this,r,i.LogLevels.INFO,"f"),this}warn(){return e(this,r,i.LogLevels.WARN,"f"),this}error(){return e(this,r,i.LogLevels.ERROR,"f"),this}};return nt.LogConfig=s,r=new WeakMap,nt.GlobalConfig=new s().debug(),nt}var It={},cl;function eh(){if(cl)return It;cl=1;var e=It&&It.__classPrivateFieldSet||function(o,c,f,h,d){if(h==="m")throw new TypeError("Private method is not writable");if(h==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof c=="function"?o!==c||!d:!c.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return h==="a"?d.call(o,f):d?d.value=f:c.set(o,f),f},t=It&&It.__classPrivateFieldGet||function(o,c,f,h){if(f==="a"&&!h)throw new TypeError("Private accessor was defined without a getter");if(typeof c=="function"?o!==c||!h:!c.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?h:f==="a"?h.call(o):h?h.value:c.get(o)},r,i;Object.defineProperty(It,"__esModule",{value:!0}),It.Logger=void 0;const s=Da(),n=ll();function a(o,c){return o.config.level<=c&&n.GlobalConfig.level<=c}let u=class{constructor(c="Logger",f=new n.LogConfig){r.set(this,void 0),i.set(this,void 0),e(this,r,c,"f"),e(this,i,f,"f")}get name(){return t(this,r,"f")}get config(){return t(this,i,"f")}get level(){return t(this,i,"f").level}message(c){return`${this.name} - ${c}`}debug(c){a(this,s.LogLevels.DEBUG)&&console.log(this.message(c))}info(c){a(this,s.LogLevels.INFO)&&console.log(this.message(c))}warn(c){a(this,s.LogLevels.WARN)&&console.warn(this.message(c))}error(c){a(this,s.LogLevels.ERROR)&&console.error(this.message(c))}};return It.Logger=u,r=new WeakMap,i=new WeakMap,It}var dl;function th(){return dl||(dl=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevels=e.GlobalConfig=e.LogConfig=void 0;var t=ll();Object.defineProperty(e,"LogConfig",{enumerable:!0,get:function(){return t.LogConfig}}),Object.defineProperty(e,"GlobalConfig",{enumerable:!0,get:function(){return t.GlobalConfig}});var r=Da();Object.defineProperty(e,"LogLevels",{enumerable:!0,get:function(){return r.LogLevels}});var i=eh();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return i.Logger}})}(Sa)),Sa}var dr=th(),rh=ce("<ui5-segmented-button-item> </ui5-segmented-button-item>",2),nh=ce("<ui5-segmented-button></ui5-segmented-button>",2),ih=ce("<ui5-li><ui5-label> </ui5-label></ui5-li>",2),ah=ce("<ui5-panel><ui5-list></ui5-list></ui5-panel>",2),sh=ce("<ui5-button>Send Test Message</ui5-button> <ui5-button>Stop Test Service</ui5-button>",3),oh=ce("<ui5-button>Start Test Service</ui5-button>",2),uh=ce("<ui5-li><ui5-label> </ui5-label></ui5-li>",2),lh=ce('<ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title> <!></div> <ui5-list></ui5-list></ui5-panel>',2),ch=ce("<ui5-button>Reset Messages</ui5-button>",2),dh=ce('<ui5-li-custom><div style="width:100%"><div style="display:flex;align-items:center;width:100%;height:2rem;"><ui5-icon></ui5-icon> <span> </span> <ui5-label> </ui5-label></div> <div><div><ui5-label> </ui5-label></div> <div> </div></div></div></ui5-li-custom>',2),fh=ce('<ui5-tab><!> <!> <!> <ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title> <!></div> <ui5-list></ui5-list></ui5-panel></ui5-tab>',2);function hh(e,t){ze(t,!1);let r=ne([]),i=ne(null),s=ne(Ee.Ward.data),n=ne(),a=ne();Ee.Ward.register(c);const u=Ee.Ward.addService("ward-dev-tools--log-service");let o=ne(null);u.addHandler(G=>{x(r,[...R(r),{...G,timestamp:new Date}])});function c(){x(s,Ee.Ward.data)}function f(){R(o)&&R(o).sendMessage({type:"test-message",payload:"test"})}function h(){x(o,Ee.Ward.addService("ward-dev-tools--test-service"))}function d(){R(o)&&R(o).terminate(),x(o,null)}function g(){x(i,null),x(r,[])}yr(()=>{R(n).addEventListener("selection-change",P),R(a).addEventListener("selection-change",_)}),Lr(()=>{Ee.Ward.unregister(c),u.terminate(),R(o)&&R(o).terminate()});function P(G){switch(parseInt(G.detail.selectedItems[0].getAttribute("data-log-level"))){case dr.LogLevels.DEBUG:{Ee.Ward.logConfig.debug();break}case dr.LogLevels.INFO:{Ee.Ward.logConfig.info();break}case dr.LogLevels.WARN:{Ee.Ward.logConfig.warn();break}case dr.LogLevels.ERROR:{Ee.Ward.logConfig.error();break}default:{Ee.Ward.logConfig.off();break}}}function _(G){const J=R(r)[G.detail.selectedItems[0].getAttribute("data-message-index")];x(i,J)}xe();var m=fh();K(m,"text","Services"),be(m,"display:flex;"),K(m,"data-ui5-compact-size",!0);var v=W(m);{var l=G=>{var J=nh();Me(J,5,()=>Object.keys(dr.LogLevels),je,(ee,Z)=>{var X=rh();le(()=>K(X,"data-log-level",dr.LogLevels[R(Z)])),le(()=>K(X,"pressed",dr.LogLevels[R(Z)]===Ee.Ward.logConfig.level));var oe=W(X,!0);k(X),le(()=>te(oe,R(Z))),re(ee,X)}),k(J),lt(J,ee=>x(n,ee),()=>R(n)),re(G,J)};Re(v,G=>{window.uncover.wardVersion&&G(l)})}var p=z(v,2);{var y=G=>{var J=ah();le(()=>K(J,"header-text",`Dispatchers (${Object.values(R(s).dispatchers).length})`)),be(J,"margin-top:1rem;");var ee=W(J);Me(ee,5,()=>Object.values(R(s).dispatchers),je,(Z,X)=>{var oe=ih(),q=W(oe),j=W(q,!0);k(q),k(oe),le(()=>te(j,R(X))),re(Z,oe)}),k(ee),k(J),re(G,J)};Re(p,G=>{Object.values(R(s).dispatchers).length&&G(y)})}var w=z(p,2);{var b=G=>{var J=lh();be(J,"margin-top:1rem;");var ee=W(J),Z=W(ee);be(Z,"margin-right:auto"),K(Z,"slot","startContent"),K(Z,"level","H5");var X=W(Z,!0);k(Z);var oe=z(Z,2);{var q=M=>{var $=sh(),D=qt($);K(D,"design","Emphasized"),K(D,"slot","endContent");var I=z(D,2);be(I,"margin-left: 0.5rem"),K(I,"design","Negative"),K(I,"slot","endContent"),vr("click",D,f),vr("click",I,d),re(M,$)},j=M=>{var $=oh();K($,"design","Emphasized"),K($,"slot","endContent"),vr("click",$,h),re(M,$)};Re(oe,M=>{R(o)?M(q):M(j,!1)})}k(ee);var A=z(ee,2);Me(A,5,()=>Object.values(R(s).services),je,(M,$)=>{var D=uh();le(()=>K(D,"additional-text",`${R(r).filter(Y=>Y._serviceId===R($).id).length} messages`)),K(D,"additional-text-state","Information"),le(()=>K(D,"icon",R($).type==="event"?"enter-more":"journey-arrive")),le(()=>K(D,"tooltip",R($).type==="event"?"local service":"iframe service"));var I=W(D),B=W(I,!0);k(I),k(D),le(()=>te(B,R($).id)),re(M,D)}),k(A),k(J),le(M=>te(X,M),[()=>`Services (${Object.values(R(s).services).length})`],Ve),re(G,J)};Re(w,G=>{Object.values(R(s).services).length&&G(b)})}var E=z(w,2);le(()=>K(E,"header-text",`Messages (${R(r).length})`)),be(E,"margin-top:1rem;");var S=W(E),O=W(S);be(O,"margin-right:auto"),K(O,"slot","startContent"),K(O,"level","H5");var C=W(O,!0);k(O);var U=z(O,2);{var H=G=>{var J=ch();K(J,"slot","endContent"),vr("click",J,g),re(G,J)};Re(U,G=>{R(r).length&&G(H)})}k(S);var F=z(S,2);K(F,"mode","SingleSelect"),Me(F,5,()=>R(r).toReversed(),je,(G,J,ee)=>{var Z=dh();be(Z,"padding:0.5rem"),le(()=>K(Z,"data-message-index",R(r).length-1-ee));var X=W(Z),oe=W(X),q=W(oe);be(q,"margin-inline-end:0.5rem"),K(q,"name","email");var j=z(q,2),A=W(j,!0);k(j);var M=z(j,2);be(M,"margin-inline-start:auto");var $=W(M,!0);k(M),k(oe);var D=z(oe,2),I=W(D),B=W(I);be(B,"height:1.5rem");var Y=W(B,!0);k(B),k(I);var de=z(I,2),ue=W(de,!0);k(de),k(D),k(X),k(Z),le((T,N)=>{te(A,R(J).type),te($,T),be(D,`display:${R(i)===R(J)?"block":"none"}`),te(Y,`Sent by ${R(J)._dispatcherId} | ${R(J)._serviceId}`),te(ue,N)},[()=>R(J).timestamp.toLocaleTimeString("en-us",{hour12:!1}),()=>JSON.stringify(R(J).payload,null,2)],Ve),re(G,Z)}),k(F),lt(F,G=>x(a,G),()=>R(a)),k(E),k(m),le(()=>te(C,`Messages (${R(r).length})`)),re(e,m),Ke()}var mh=ce("<ui5-tabcontainer><!> <!></ui5-tabcontainer>",2);const ph={hash:"svelte-1qpu4yh",code:"ui5-tabcontainer.svelte-1qpu4yh {height:100%;}"};function vh(e){_s(e,ph);var t=mh();K(t,"fixed",!0),K(t,"data-ui5-compact-size",!0),na(t,1,"svelte-1qpu4yh");var r=W(t);xf(r,{});var i=z(r,2);hh(i,{}),k(t),re(e,t)}customElements.define("ward-dev-tools-content",Ss(vh,{},[],[],!0))});
