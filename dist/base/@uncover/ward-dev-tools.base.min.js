var ml=Object.defineProperty,ja=e=>{throw TypeError(e)},pl=(e,t,r)=>t in e?ml(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Je=(e,t,r)=>pl(e,typeof t!="symbol"?t+"":t,r),Ma=(e,t,r)=>t.has(e)||ja("Cannot "+r),Ne=(e,t,r)=>(Ma(e,t,"read from private field"),r?r.call(e):t.get(e)),Ai=(e,t,r)=>t.has(e)?ja("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),Li=(e,t,r,n)=>(Ma(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r);const vl="5";var pu;typeof window<"u"&&((pu=window.__svelte??(window.__svelte={})).v??(pu.v=new Set)).add(vl);let yr=!1,gl=!1;function _l(){yr=!0}_l();const yl=1,Pl=2,wl=16,bl=2,$l=1,El=2,la="[",ca="[!",da="]",cn={},Ie=Symbol(),Sl="http://www.w3.org/1999/xhtml",Na=!1,ct=2,vu=4,wi=8,fa=16,Ot=32,ir=64,li=128,Ve=256,ci=512,Ae=1024,Tt=2048,ar=4096,St=8192,bi=16384,Dl=32768,ha=65536,Ol=1<<17,Tl=1<<19,gu=1<<20,xi=1<<21,xt=Symbol("$state"),_u=Symbol("legacy props"),Rl=Symbol("");var ma=Array.isArray,jl=Array.prototype.indexOf,pa=Array.from,di=Object.keys,fn=Object.defineProperty,er=Object.getOwnPropertyDescriptor,yu=Object.getOwnPropertyDescriptors,Ml=Object.prototype,Nl=Array.prototype,va=Object.getPrototypeOf,Ia=Object.isExtensible;const vr=()=>{};function Il(e){return e()}function fi(e){for(var t=0;t<e.length;t++)e[t]()}let hn=[],ea=[];function Pu(){var e=hn;hn=[],fi(e)}function Cl(){var e=ea;ea=[],fi(e)}function wu(e){hn.length===0&&queueMicrotask(Pu),hn.push(e)}function Ca(){hn.length>0&&Pu(),ea.length>0&&Cl()}function bu(e){return e===this.v}function $u(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Eu(e){return!$u(e,this.v)}function Al(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function Ll(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ql(e){throw new Error("https://svelte.dev/e/effect_orphan")}function kl(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ul(){throw new Error("https://svelte.dev/e/hydration_failed")}function Fl(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Wl(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Vl(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function mr(e,t){if(typeof e!="object"||e===null||xt in e)return e;const r=va(e);if(r!==Ml&&r!==Nl)return e;var n=new Map,a=ma(e),i=Nt(0),o=he,l=s=>{var u=he;He(o);var f;return f=s(),He(u),f};return a&&n.set("length",Nt(e.length)),new Proxy(e,{defineProperty(s,u,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&Fl();var p=n.get(u);return p===void 0?(p=l(()=>Nt(f.value)),n.set(u,p)):ee(p,l(()=>mr(f.value))),!0},deleteProperty(s,u){var f=n.get(u);if(f===void 0)u in s&&n.set(u,l(()=>Nt(Ie)));else{if(a&&typeof u=="string"){var p=n.get("length"),m=Number(u);Number.isInteger(m)&&m<p.v&&ee(p,m)}ee(f,Ie),Aa(i)}return!0},get(s,u,f){var p;if(u===xt)return e;var m=n.get(u),g=u in s;if(m===void 0&&(!g||(p=er(s,u))!=null&&p.writable)&&(m=l(()=>Nt(mr(g?s[u]:Ie))),n.set(u,m)),m!==void 0){var y=j(m);return y===Ie?void 0:y}return Reflect.get(s,u,f)},getOwnPropertyDescriptor(s,u){var f=Reflect.getOwnPropertyDescriptor(s,u);if(f&&"value"in f){var p=n.get(u);p&&(f.value=j(p))}else if(f===void 0){var m=n.get(u),g=m?.v;if(m!==void 0&&g!==Ie)return{enumerable:!0,configurable:!0,value:g,writable:!0}}return f},has(s,u){var f;if(u===xt)return!0;var p=n.get(u),m=p!==void 0&&p.v!==Ie||Reflect.has(s,u);if(p!==void 0||me!==null&&(!m||(f=er(s,u))!=null&&f.writable)){p===void 0&&(p=l(()=>Nt(m?mr(s[u]):Ie)),n.set(u,p));var g=j(p);if(g===Ie)return!1}return m},set(s,u,f,p){var m,g=n.get(u),y=u in s;if(a&&u==="length")for(var w=f;w<g.v;w+=1){var c=n.get(w+"");c!==void 0?ee(c,Ie):w in s&&(c=l(()=>Nt(Ie)),n.set(w+"",c))}g===void 0?(!y||(m=er(s,u))!=null&&m.writable)&&(g=l(()=>Nt(void 0)),ee(g,l(()=>mr(f))),n.set(u,g)):(y=g.v!==Ie,ee(g,l(()=>mr(f))));var h=Reflect.getOwnPropertyDescriptor(s,u);if(h!=null&&h.set&&h.set.call(p,f),!y){if(a&&typeof u=="string"){var d=n.get("length"),v=Number(u);Number.isInteger(v)&&v>=d.v&&ee(d,v+1)}Aa(i)}return!0},ownKeys(s){j(i);var u=Reflect.ownKeys(s).filter(m=>{var g=n.get(m);return g===void 0||g.v!==Ie});for(var[f,p]of n)p.v!==Ie&&!(f in s)&&u.push(f);return u},setPrototypeOf(){Wl()}})}function Aa(e,t=1){ee(e,e.v+t)}const mn=new Map;function pn(e,t){var r={f:0,v:e,reactions:null,equals:bu,rv:0,wv:0};return r}function Nt(e,t){const r=pn(e);return Kl(r),r}function ie(e,t=!1){var r;const n=pn(e);return t||(n.equals=Eu),yr&&ge!==null&&ge.l!==null&&((r=ge.l).s??(r.s=[])).push(n),n}function un(e,t){return ee(e,sr(()=>j(e))),t}function ee(e,t,r=!1){he!==null&&!ut&&Oi()&&(he.f&(ct|fa))!==0&&!(Re!=null&&Re.includes(e))&&Vl();let n=r?mr(t):t;return Su(e,n)}function Su(e,t){if(!e.equals(t)){var r=e.v;gn?mn.set(e,t):mn.set(e,r),e.v=t,e.wv=Cu(),Du(e,Tt),Oi()&&me!==null&&(me.f&Ae)!==0&&(me.f&(Ot|ir))===0&&(Fe===null?Bl([e]):Fe.push(e))}return t}function Du(e,t){var r=e.reactions;if(r!==null)for(var n=Oi(),a=r.length,i=0;i<a;i++){var o=r[i],l=o.f;(l&Tt)===0&&(!n&&o===me||(et(o,t),(l&(Ae|Ve))!==0&&((l&ct)!==0?Du(o,ar):Di(o))))}}function ga(e){var t=ct|Tt,r=he!==null&&(he.f&ct)!==0?he:null;return me===null||r!==null&&(r.f&Ve)!==0?t|=Ve:me.f|=gu,{ctx:ge,deps:null,effects:null,equals:bu,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??me}}function Ge(e){const t=ga(e);return t.equals=Eu,t}function Ou(e){var t=e.effects;if(t!==null){e.effects=null;for(var r=0;r<t.length;r+=1)Dt(t[r])}}function Gl(e){for(var t=e.parent;t!==null;){if((t.f&ct)===0)return t;t=t.parent}return null}function Hl(e){var t,r=me;dt(Gl(e));try{Ou(e),t=Lu(e)}finally{dt(r)}return t}function Tu(e){var t=Hl(e),r=(zt||(e.f&Ve)!==0)&&e.deps!==null?ar:Ae;et(e,r),e.equals(t)||(e.v=t,e.wv=Cu())}function _a(e){console.warn("https://svelte.dev/e/hydration_mismatch")}let ve=!1;function Ze(e){ve=e}let _e;function xe(e){if(e===null)throw _a(),cn;return _e=e}function $i(){return xe(Bt(_e))}function U(e){if(ve){if(Bt(_e)!==null)throw _a(),cn;_e=e}}function ta(){for(var e=0,t=_e;;){if(t.nodeType===8){var r=t.data;if(r===da){if(e===0)return t;e-=1}else(r===la||r===ca)&&(e+=1)}var n=Bt(t);t.remove(),t=n}}var La,Ru,ju,Mu;function ra(){if(La===void 0){La=window,Ru=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,r=Text.prototype;ju=er(t,"firstChild").get,Mu=er(t,"nextSibling").get,Ia(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ia(r)&&(r.__t=void 0)}}function _r(e=""){return document.createTextNode(e)}function rr(e){return ju.call(e)}function Bt(e){return Mu.call(e)}function W(e,t){if(!ve)return rr(e);var r=rr(_e);if(r===null)r=_e.appendChild(_r());else if(t&&r.nodeType!==3){var n=_r();return r?.before(n),xe(n),n}return xe(r),r}function Kt(e,t){if(!ve){var r=rr(e);return r instanceof Comment&&r.data===""?Bt(r):r}return _e}function z(e,t=1,r=!1){let n=ve?_e:e;for(var a;t--;)a=n,n=Bt(n);if(!ve)return n;var i=n?.nodeType;if(r&&i!==3){var o=_r();return n===null?a?.after(o):n.before(o),xe(o),o}return xe(n),n}function Nu(e){e.textContent=""}let oi=!1,hi=!1,mi=null,tr=!1,gn=!1;function qa(e){gn=e}let dn=[],he=null,ut=!1;function He(e){he=e}let me=null;function dt(e){me=e}let Re=null;function zl(e){Re=e}function Kl(e){he!==null&&he.f&xi&&(Re===null?zl([e]):Re.push(e))}let Se=null,qe=0,Fe=null;function Bl(e){Fe=e}let Iu=1,pi=0,zt=!1;function Cu(){return++Iu}function Pr(e){var t,r=e.f;if((r&Tt)!==0)return!0;if((r&ar)!==0){var n=e.deps,a=(r&Ve)!==0;if(n!==null){var i,o,l=(r&ci)!==0,s=a&&me!==null&&!zt,u=n.length;if(l||s){var f=e,p=f.parent;for(i=0;i<u;i++)o=n[i],(l||!((t=o?.reactions)!=null&&t.includes(f)))&&(o.reactions??(o.reactions=[])).push(f);l&&(f.f^=ci),s&&p!==null&&(p.f&Ve)===0&&(f.f^=Ve)}for(i=0;i<u;i++)if(o=n[i],Pr(o)&&Tu(o),o.wv>e.wv)return!0}(!a||me!==null&&!zt)&&et(e,Ae)}return!1}function Jl(e,t){for(var r=t;r!==null;){if((r.f&li)!==0)try{r.fn(e);return}catch{r.f^=li}r=r.parent}throw oi=!1,e}function Yl(e){return(e.f&bi)===0&&(e.parent===null||(e.parent.f&li)===0)}function Ei(e,t,r,n){if(oi){if(r===null&&(oi=!1),Yl(t))throw e;return}r!==null&&(oi=!0);{Jl(e,t);return}}function Au(e,t,r=!0){var n=e.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];Re!=null&&Re.includes(e)||((i.f&ct)!==0?Au(i,t,!1):t===i&&(r?et(i,Tt):(i.f&Ae)!==0&&et(i,ar),Di(i)))}}function Lu(e){var t,r=Se,n=qe,a=Fe,i=he,o=zt,l=Re,s=ge,u=ut,f=e.f;Se=null,qe=0,Fe=null,zt=(f&Ve)!==0&&(ut||!tr||he===null),he=(f&(Ot|ir))===0?e:null,Re=null,ka(e.ctx),ut=!1,pi++,e.f|=xi;try{var p=(0,e.fn)(),m=e.deps;if(Se!==null){var g;if(vi(e,qe),m!==null&&qe>0)for(m.length=qe+Se.length,g=0;g<Se.length;g++)m[qe+g]=Se[g];else e.deps=m=Se;if(!zt)for(g=qe;g<m.length;g++)((t=m[g]).reactions??(t.reactions=[])).push(e)}else m!==null&&qe<m.length&&(vi(e,qe),m.length=qe);if(Oi()&&Fe!==null&&!ut&&m!==null&&(e.f&(ct|ar|Tt))===0)for(g=0;g<Fe.length;g++)Au(Fe[g],e);return i!==null&&(pi++,Fe!==null&&(a===null?a=Fe:a.push(...Fe))),p}finally{Se=r,qe=n,Fe=a,he=i,zt=o,Re=l,ka(s),ut=u,e.f^=xi}}function Xl(e,t){let r=t.reactions;if(r!==null){var n=jl.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&(t.f&ct)!==0&&(Se===null||!Se.includes(t))&&(et(t,ar),(t.f&(Ve|ci))===0&&(t.f^=ci),Ou(t),vi(t,0))}function vi(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)Xl(e,r[n])}function Si(e){var t=e.f;if((t&bi)===0){et(e,Ae);var r=me,n=ge,a=tr;me=e,tr=!0;try{(t&fa)!==0?sc(e):Fu(e),Uu(e);var i=Lu(e);e.teardown=typeof i=="function"?i:null,e.wv=Iu;var o=e.deps,l;Na&&gl&&e.f&Tt}catch(s){Ei(s,e,r,n||e.ctx)}finally{tr=a,me=r}}}function Ql(){try{kl()}catch(e){if(mi!==null)Ei(e,mi,null);else throw e}}function qu(){var e=tr;try{var t=0;for(tr=!0;dn.length>0;){t++>1e3&&Ql();var r=dn,n=r.length;dn=[];for(var a=0;a<n;a++){var i=xl(r[a]);Zl(i)}}}finally{hi=!1,tr=e,mi=null,mn.clear()}}function Zl(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if((n.f&(bi|St))===0)try{Pr(n)&&(Si(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?Wu(n):n.fn=null))}catch(a){Ei(a,n,null,n.ctx)}}}function Di(e){hi||(hi=!0,queueMicrotask(qu));for(var t=mi=e;t.parent!==null;){t=t.parent;var r=t.f;if((r&(ir|Ot))!==0){if((r&Ae)===0)return;t.f^=Ae}}dn.push(t)}function xl(e){for(var t=[],r=e;r!==null;){var n=r.f,a=(n&(Ot|ir))!==0,i=a&&(n&Ae)!==0;if(!i&&(n&St)===0){if((n&vu)!==0)t.push(r);else if(a)r.f^=Ae;else{var o=he;try{he=r,Pr(r)&&Si(r)}catch(u){Ei(u,r,null,r.ctx)}finally{he=o}}var l=r.first;if(l!==null){r=l;continue}}var s=r.parent;for(r=r.next;r===null&&s!==null;)r=s.next,s=s.parent}return t}function ec(e){var t;for(Ca();dn.length>0;)hi=!0,qu(),Ca();return t}function j(e){var t=e.f,r=(t&ct)!==0;if(he!==null&&!ut){if(!(Re!=null&&Re.includes(e))){var n=he.deps;e.rv<pi&&(e.rv=pi,Se===null&&n!==null&&n[qe]===e?qe++:Se===null?Se=[e]:(!zt||!Se.includes(e))&&Se.push(e))}}else if(r&&e.deps===null&&e.effects===null){var a=e,i=a.parent;i!==null&&(i.f&Ve)===0&&(a.f^=Ve)}return r&&(a=e,Pr(a)&&Tu(a)),gn&&mn.has(e)?mn.get(e):e.v}function sr(e){var t=ut;try{return ut=!0,e()}finally{ut=t}}const tc=-7169;function et(e,t){e.f=e.f&tc|t}function or(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(xt in e)na(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&xt in r&&na(r)}}}function na(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{na(e[n],t)}catch{}const r=va(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=yu(r);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}function ku(e){me===null&&he===null&&ql(),he!==null&&(he.f&Ve)!==0&&me===null&&Ll(),gn&&Al()}function rc(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function ur(e,t,r,n=!0){var a=me,i={ctx:ge,deps:null,nodes_start:null,nodes_end:null,f:e|Tt,first:null,fn:t,last:null,next:null,parent:a,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Si(i),i.f|=Dl}catch(s){throw Dt(i),s}else t!==null&&Di(i);var o=r&&i.deps===null&&i.first===null&&i.nodes_start===null&&i.teardown===null&&(i.f&(gu|li))===0;if(!o&&n&&(a!==null&&rc(i,a),he!==null&&(he.f&ct)!==0)){var l=he;(l.effects??(l.effects=[])).push(i)}return i}function ya(e){const t=ur(wi,null,!1);return et(t,Ae),t.teardown=e,t}function ia(e){ku();var t=me!==null&&(me.f&Ot)!==0&&ge!==null&&!ge.m;if(t){var r=ge;(r.e??(r.e=[])).push({fn:e,effect:me,reaction:he})}else{var n=Pa(e);return n}}function nc(e){return ku(),_n(e)}function ic(e){const t=ur(ir,e,!0);return()=>{Dt(t)}}function ac(e){const t=ur(ir,e,!0);return(r={})=>new Promise(n=>{r.outro?gi(t,()=>{Dt(t),n(void 0)}):(Dt(t),n(void 0))})}function Pa(e){return ur(vu,e,!1)}function Ce(e,t){var r=ge,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=_n(()=>{e(),!n.ran&&(n.ran=!0,ee(r.l.r2,!0),sr(t))})}function Rt(){var e=ge;_n(()=>{if(j(e.l.r2)){for(var t of e.l.r1){var r=t.effect;(r.f&Ae)!==0&&et(r,ar),Pr(r)&&Si(r),t.ran=!1}e.l.r2.v=!1}})}function _n(e){return ur(wi,e,!0)}function le(e,t=[],r=ga){const n=t.map(r);return wa(()=>e(...n.map(j)))}function wa(e,t=0){return ur(wi|fa|t,e,!0)}function vn(e,t=!0){return ur(wi|Ot,e,!0,t)}function Uu(e){var t=e.teardown;if(t!==null){const r=gn,n=he;qa(!0),He(null);try{t.call(null)}finally{qa(r),He(n)}}}function Fu(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;(r.f&ir)!==0?r.parent=null:Dt(r,t),r=n}}function sc(e){for(var t=e.first;t!==null;){var r=t.next;(t.f&Ot)===0&&Dt(t),t=r}}function Dt(e,t=!0){var r=!1;if((t||(e.f&Tl)!==0)&&e.nodes_start!==null){for(var n=e.nodes_start,a=e.nodes_end;n!==null;){var i=n===a?null:Bt(n);n.remove(),n=i}r=!0}Fu(e,t&&!r),vi(e,0),et(e,bi);var o=e.transitions;if(o!==null)for(const s of o)s.stop();Uu(e);var l=e.parent;l!==null&&l.first!==null&&Wu(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Wu(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function gi(e,t){var r=[];ba(e,r,!0),Vu(r,()=>{Dt(e),t&&t()})}function Vu(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function ba(e,t,r){if((e.f&St)===0){if(e.f^=St,e.transitions!==null)for(const o of e.transitions)(o.is_global||r)&&t.push(o);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&ha)!==0||(n.f&Ot)!==0;ba(n,t,i?r:!1),n=a}}}function _i(e){Gu(e,!0)}function Gu(e,t){if((e.f&St)!==0){e.f^=St,(e.f&Ae)===0&&(e.f^=Ae),Pr(e)&&(et(e,Tt),Di(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&ha)!==0||(r.f&Ot)!==0;Gu(r,a?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}function Hu(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}let ge=null;function ka(e){ge=e}function ze(e,t=!1,r){var n=ge={p:ge,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};yr&&!t&&(ge.l={s:null,u:null,r1:[],r2:pn(!1)}),ya(()=>{n.d=!0})}function Ke(e){const t=ge;if(t!==null){const o=t.e;if(o!==null){var r=me,n=he;t.e=null;try{for(var a=0;a<o.length;a++){var i=o[a];dt(i.effect),He(i.reaction),Pa(i.fn)}}finally{dt(r),He(n)}}ge=t.p,t.m=!0}return{}}function Oi(){return!yr||ge!==null&&ge.l===null}const oc=["touchstart","touchmove"];function uc(e){return oc.includes(e)}function lc(e){var t=he,r=me;He(null),dt(null);try{return e()}finally{He(t),dt(r)}}const cc=new Set,Ua=new Set;function dc(e,t,r,n={}){function a(i){if(n.capture||ln.call(t,i),!i.cancelBubble)return lc(()=>r?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?wu(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function pr(e,t,r,n,a){var i={capture:n,passive:a},o=dc(e,t,r,i);(t===document.body||t===window||t===document)&&ya(()=>{t.removeEventListener(e,o,i)})}function ln(e){var t,r=this,n=r.ownerDocument,a=e.type,i=((t=e.composedPath)==null?void 0:t.call(e))||[],o=i[0]||e.target,l=0,s=e.__root;if(s){var u=i.indexOf(s);if(u!==-1&&(r===document||r===window)){e.__root=r;return}var f=i.indexOf(r);if(f===-1)return;u<=f&&(l=u)}if(o=i[l]||e.target,o!==r){fn(e,"currentTarget",{configurable:!0,get(){return o||n}});var p=he,m=me;He(null),dt(null);try{for(var g,y=[];o!==null;){var w=o.assignedSlot||o.parentNode||o.host||null;try{var c=o["__"+a];if(c!=null&&(!o.disabled||e.target===o))if(ma(c)){var[h,...d]=c;h.apply(o,[e,...d])}else c.call(o,e)}catch(v){g?y.push(v):g=v}if(e.cancelBubble||w===r||w===null)break;o=w}if(g){for(let v of y)queueMicrotask(()=>{throw v});throw g}}finally{e.__root=r,delete e.currentTarget,He(p),dt(m)}}}function fc(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function gr(e,t){var r=me;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function de(e,t){var r=(t&$l)!==0,n=(t&El)!==0,a,i=!e.startsWith("<!>");return()=>{if(ve)return gr(_e,null),_e;a===void 0&&(a=fc(i?e:"<!>"+e),r||(a=rr(a)));var o=n||Ru?document.importNode(a,!0):a.cloneNode(!0);if(r){var l=rr(o),s=o.lastChild;gr(l,s)}else gr(o,o);return o}}function nr(){if(ve)return gr(_e,null),_e;var e=document.createDocumentFragment(),t=document.createComment(""),r=_r();return e.append(t,r),gr(t,r),e}function re(e,t){if(ve){me.nodes_end=_e,$i();return}e!==null&&e.before(t)}function te(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r+"")}function zu(e,t){return Ku(e,t)}function hc(e,t){ra(),t.intro=t.intro??!1;const r=t.target,n=ve,a=_e;try{for(var i=rr(r);i&&(i.nodeType!==8||i.data!==la);)i=Bt(i);if(!i)throw cn;Ze(!0),xe(i),$i();const o=Ku(e,{...t,anchor:i});if(_e===null||_e.nodeType!==8||_e.data!==da)throw _a(),cn;return Ze(!1),o}catch(o){if(o===cn)return t.recover===!1&&Ul(),ra(),Nu(r),Ze(!1),zu(e,t);throw o}finally{Ze(n),xe(a)}}const cr=new Map;function Ku(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:o=!0}){ra();var l=new Set,s=p=>{for(var m=0;m<p.length;m++){var g=p[m];if(!l.has(g)){l.add(g);var y=uc(g);t.addEventListener(g,ln,{passive:y});var w=cr.get(g);w===void 0?(document.addEventListener(g,ln,{passive:y}),cr.set(g,1)):cr.set(g,w+1)}}};s(pa(cc)),Ua.add(s);var u=void 0,f=ac(()=>{var p=r??t.appendChild(_r());return vn(()=>{if(i){ze({});var m=ge;m.c=i}a&&(n.$$events=a),ve&&gr(p,null),u=e(p,n)||{},ve&&(me.nodes_end=_e),i&&Ke()}),()=>{var m;for(var g of l){t.removeEventListener(g,ln);var y=cr.get(g);--y===0?(document.removeEventListener(g,ln),cr.delete(g)):cr.set(g,y)}Ua.delete(s),p!==r&&((m=p.parentNode)==null||m.removeChild(p))}});return aa.set(u,f),u}let aa=new WeakMap;function mc(e,t){const r=aa.get(e);return r?(aa.delete(e),r(t)):Promise.resolve()}function De(e,t,[r,n]=[0,0]){ve&&r===0&&$i();var a=e,i=null,o=null,l=Ie,s=r>0?ha:0,u=!1;const f=(m,g=!0)=>{u=!0,p(g,m)},p=(m,g)=>{if(l===(l=m))return;let y=!1;if(ve&&n!==-1){if(r===0){const c=a.data;c===la?n=0:c===ca?n=1/0:(n=parseInt(c.substring(1)),n!==n&&(n=l?1/0:-1))}const w=n>r;!!l===w&&(a=ta(),xe(a),Ze(!1),y=!0,n=-1)}l?(i?_i(i):g&&(i=vn(()=>g(a))),o&&gi(o,()=>{o=null})):(o?_i(o):g&&(o=vn(()=>g(a,[r+1,n]))),i&&gi(i,()=>{i=null})),y&&Ze(!0)};wa(()=>{u=!1,t(f),u||p(null,null)},s),ve&&(a=_e)}function Oe(e,t){return t}function pc(e,t,r,n){for(var a=[],i=t.length,o=0;o<i;o++)ba(t[o].e,a,!0);var l=i>0&&a.length===0&&r!==null;if(l){var s=r.parentNode;Nu(s),s.append(r),n.clear(),Ht(e,t[0].prev,t[i-1].next)}Vu(a,()=>{for(var u=0;u<i;u++){var f=t[u];l||(n.delete(f.k),Ht(e,f.prev,f.next)),Dt(f.e,!l)}})}function Te(e,t,r,n,a,i=null){var o=e,l={flags:t,items:new Map,first:null};{var s=e;o=ve?xe(rr(s)):s.appendChild(_r())}ve&&$i();var u=null,f=!1,p=Ge(()=>{var m=r();return ma(m)?m:m==null?[]:pa(m)});wa(()=>{var m=j(p),g=m.length;if(f&&g===0)return;f=g===0;let y=!1;if(ve){var w=o.data===ca;w!==(g===0)&&(o=ta(),xe(o),Ze(!1),y=!0)}if(ve){for(var c=null,h,d=0;d<g;d++){if(_e.nodeType===8&&_e.data===da){o=_e,y=!0,Ze(!1);break}var v=m[d],_=n(v,d);h=Bu(_e,l,c,null,v,_,d,a,t,r),l.items.set(_,h),c=h}g>0&&xe(ta())}ve||vc(m,l,o,a,t,n,r),i!==null&&(g===0?u?_i(u):u=vn(()=>i(o)):u!==null&&gi(u,()=>{u=null})),y&&Ze(!0),j(p)}),ve&&(o=_e)}function vc(e,t,r,n,a,i,o){var l=e.length,s=t.items,u=t.first,f=u,p,m=null,g=[],y=[],w,c,h,d;for(d=0;d<l;d+=1){if(w=e[d],c=i(w,d),h=s.get(c),h===void 0){var v=f?f.e.nodes_start:r;m=Bu(v,t,m,m===null?t.first:m.next,w,c,d,n,a,o),s.set(c,m),g=[],y=[],f=m.next;continue}if(gc(h,w,d),(h.e.f&St)!==0&&_i(h.e),h!==f){if(p!==void 0&&p.has(h)){if(g.length<y.length){var _=y[0],b;m=_.prev;var $=g[0],P=g[g.length-1];for(b=0;b<g.length;b+=1)Fa(g[b],_,r);for(b=0;b<y.length;b+=1)p.delete(y[b]);Ht(t,$.prev,P.next),Ht(t,m,$),Ht(t,P,_),f=_,m=P,d-=1,g=[],y=[]}else p.delete(h),Fa(h,f,r),Ht(t,h.prev,h.next),Ht(t,h,m===null?t.first:m.next),Ht(t,m,h),m=h;continue}for(g=[],y=[];f!==null&&f.k!==c;)(f.e.f&St)===0&&(p??(p=new Set)).add(f),y.push(f),f=f.next;if(f===null)continue;h=f}g.push(h),m=h,f=h.next}if(f!==null||p!==void 0){for(var O=p===void 0?[]:pa(p);f!==null;)(f.e.f&St)===0&&O.push(f),f=f.next;var N=O.length;if(N>0){var x=l===0?r:null;pc(t,O,x,s)}}me.first=t.first&&t.first.e,me.last=m&&m.e}function gc(e,t,r,n){Su(e.v,t),e.i=r}function Bu(e,t,r,n,a,i,o,l,s,u){var f=(s&yl)!==0,p=(s&wl)===0,m=f?p?ie(a):pn(a):a,g=(s&Pl)===0?o:pn(o),y={i:g,v:m,k:i,a:null,e:null,prev:r,next:n};try{return y.e=vn(()=>l(e,m,g,u),ve),y.e.prev=r&&r.e,y.e.next=n&&n.e,r===null?t.first=y:(r.next=y,r.e.next=y.e),n!==null&&(n.prev=y,n.e.prev=y.e),y}finally{}}function Fa(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var o=Bt(i);a.before(i),i=o}}function Ht(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function _c(e,t,r){var n=e==null?"":""+e;return n===""?null:n}function yc(e,t){return e==null?null:String(e)}function sa(e,t,r,n,a,i){var o=e.__className;if(ve||o!==r||o===void 0){var l=_c(r);(!ve||l!==e.getAttribute("class"))&&(l==null?e.removeAttribute("class"):e.className=l),e.__className=r}return i}function be(e,t,r,n){var a=e.__style;if(ve||a!==t){var i=yc(t);(!ve||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return n}const Pc=Symbol("is custom element"),wc=Symbol("is html");function bc(e,t,r,n){var a=$c(e);ve&&(a[t]=e.getAttribute(t),t==="src"||t==="srcset"||t==="href"&&e.nodeName==="LINK")||a[t]!==(a[t]=r)&&(t==="loading"&&(e[Rl]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Ju(e).includes(t)?e[t]=r:e.setAttribute(t,r))}function K(e,t,r){var n=he,a=me;let i=ve;ve&&Ze(!1),He(null),dt(null);try{t!=="style"&&(oa.has(e.nodeName)||!customElements||customElements.get(e.tagName.toLowerCase())?Ju(e).includes(t):r&&typeof r=="object")?e[t]=r:bc(e,t,r==null?r:String(r))}finally{He(n),dt(a),i&&Ze(!0)}}function $c(e){return e.__attributes??(e.__attributes={[Pc]:e.nodeName.includes("-"),[wc]:e.namespaceURI===Sl})}var oa=new Map;function Ju(e){var t=oa.get(e.nodeName);if(t)return t;oa.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=yu(n);for(var i in r)r[i].set&&t.push(i);n=va(n)}return t}function Wa(e,t){return e===t||e?.[xt]===t}function lt(e={},t,r,n){return Pa(()=>{var a,i;return _n(()=>{a=i,i=[],sr(()=>{e!==r(...i)&&(t(e,...i),a&&Wa(r(...a),e)&&t(null,...a))})}),()=>{wu(()=>{i&&Wa(r(...i),e)&&t(null,...i)})}}),e}function tt(e=!1){const t=ge,r=t.l.u;if(!r)return;let n=()=>or(t.s);if(e){let a=0,i={};const o=ga(()=>{let l=!1;const s=t.s;for(const u in s)s[u]!==i[u]&&(i[u]=s[u],l=!0);return l&&a++,a});n=()=>j(o)}r.b.length&&nc(()=>{Va(t,n),fi(r.b)}),ia(()=>{const a=sr(()=>r.m.map(Il));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&ia(()=>{Va(t,n),fi(r.a)})}function Va(e,t){if(e.l.s)for(const r of e.l.s)j(r);t()}function wr(e){ge===null&&Hu(),yr&&ge.l!==null?Ec(ge).m.push(e):ia(()=>{const t=sr(e);if(typeof t=="function")return t})}function yn(e){ge===null&&Hu(),wr(()=>()=>sr(e))}function Ec(e){var t=e.l;return t.u??(t.u={a:[],b:[],m:[]})}function Yu(e,t,r){if(e==null)return t(void 0),vr;const n=sr(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const dr=[];function Xu(e,t=vr){let r=null;const n=new Set;function a(l){if($u(e,l)&&(e=l,r)){const s=!dr.length;for(const u of n)u[1](),dr.push(u,e);if(s){for(let u=0;u<dr.length;u+=2)dr[u][0](dr[u+1]);dr.length=0}}}function i(l){a(l(e))}function o(l,s=vr){const u=[l,s];return n.add(u),n.size===1&&(r=t(a,i)||vr),l(e),()=>{n.delete(u),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:o}}function Sc(e){let t;return Yu(e,r=>t=r)(),t}let bn=!1,ua=Symbol();function jt(e,t,r){const n=r[t]??(r[t]={store:null,source:ie(void 0),unsubscribe:vr});if(n.store!==e&&!(ua in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=vr;else{var a=!0;n.unsubscribe=Yu(e,i=>{a?n.source.v=i:ee(n.source,i)}),a=!1}return e&&ua in r?Sc(e):j(n.source)}function Mt(){const e={};function t(){ya(()=>{for(var r in e)e[r].unsubscribe();fn(e,ua,{enumerable:!1,value:!0})})}return[e,t]}function Dc(e){var t=bn;try{return bn=!1,[e(),bn]}finally{bn=t}}function br(e,t,r,n){var a,i=!yr||(r&bl)!==0,o=!1,l;[l,o]=Dc(()=>e[t]);var s=xt in e||_u in e;((a=er(e,t))==null?void 0:a.set)??(s&&t in e);var u=n,f=!0,p=()=>(f&&(f=!1,u=n),u),m;if(i)m=()=>{var y=e[t];return y===void 0?p():(f=!0,y)};else{var g=Ge(()=>e[t]);g.f|=Ol,m=()=>{var y=j(g);return y!==void 0&&(u=void 0),y===void 0?u:y}}return m}function Oc(e){return new Tc(e)}var Et,We;class Tc{constructor(t){Ai(this,Et),Ai(this,We);var r,n=new Map,a=(o,l)=>{var s=ie(l);return n.set(o,s),s};const i=new Proxy({...t.props||{},$$events:{}},{get(o,l){return j(n.get(l)??a(l,Reflect.get(o,l)))},has(o,l){return l===_u?!0:(j(n.get(l)??a(l,Reflect.get(o,l))),Reflect.has(o,l))},set(o,l,s){return ee(n.get(l)??a(l,s),s),Reflect.set(o,l,s)}});Li(this,We,(t.hydrate?hc:zu)(t.component,{target:t.target,anchor:t.anchor,props:i,context:t.context,intro:t.intro??!1,recover:t.recover})),(!((r=t?.props)!=null&&r.$$host)||t.sync===!1)&&ec(),Li(this,Et,i.$$events);for(const o of Object.keys(Ne(this,We)))o==="$set"||o==="$destroy"||o==="$on"||fn(this,o,{get(){return Ne(this,We)[o]},set(l){Ne(this,We)[o]=l},enumerable:!0});Ne(this,We).$set=o=>{Object.assign(i,o)},Ne(this,We).$destroy=()=>{mc(Ne(this,We))}}$set(t){Ne(this,We).$set(t)}$on(t,r){Ne(this,Et)[t]=Ne(this,Et)[t]||[];const n=(...a)=>r.call(this,...a);return Ne(this,Et)[t].push(n),()=>{Ne(this,Et)[t]=Ne(this,Et)[t].filter(a=>a!==n)}}$destroy(){Ne(this,We).$destroy()}}Et=new WeakMap,We=new WeakMap;let Qu;typeof HTMLElement=="function"&&(Qu=class extends HTMLElement{constructor(e,t,r){super(),Je(this,"$$ctor"),Je(this,"$$s"),Je(this,"$$c"),Je(this,"$$cn",!1),Je(this,"$$d",{}),Je(this,"$$r",!1),Je(this,"$$p_d",{}),Je(this,"$$l",{}),Je(this,"$$l_u",new Map),Je(this,"$$me"),this.$$ctor=e,this.$$s=t,r&&this.attachShadow({mode:"open"})}addEventListener(e,t,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(t),this.$$c){const n=this.$$c.$on(e,t);this.$$l_u.set(t,n)}super.addEventListener(e,t,r)}removeEventListener(e,t,r){if(super.removeEventListener(e,t,r),this.$$c){const n=this.$$l_u.get(t);n&&(n(),this.$$l_u.delete(t))}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let t=function(a){return i=>{const o=document.createElement("slot");a!=="default"&&(o.name=a),re(i,o)}};var e=t;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const r={},n=Rc(this);for(const a of this.$$s)a in n&&(a==="default"&&!this.$$d.children?(this.$$d.children=t(a),r.default=!0):r[a]=t(a));for(const a of this.attributes){const i=this.$$g_p(a.name);i in this.$$d||(this.$$d[i]=ui(i,a.value,this.$$p_d,"toProp"))}for(const a in this.$$p_d)!(a in this.$$d)&&this[a]!==void 0&&(this.$$d[a]=this[a],delete this[a]);this.$$c=Oc({component:this.$$ctor,target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$host:this}}),this.$$me=ic(()=>{_n(()=>{var a;this.$$r=!0;for(const i of di(this.$$c)){if(!((a=this.$$p_d[i])!=null&&a.reflect))continue;this.$$d[i]=this.$$c[i];const o=ui(i,this.$$d[i],this.$$p_d,"toAttribute");o==null?this.removeAttribute(this.$$p_d[i].attribute||i):this.setAttribute(this.$$p_d[i].attribute||i,o)}this.$$r=!1})});for(const a in this.$$l)for(const i of this.$$l[a]){const o=this.$$c.$on(a,i);this.$$l_u.set(i,o)}this.$$l={}}}attributeChangedCallback(e,t,r){var n;this.$$r||(e=this.$$g_p(e),this.$$d[e]=ui(e,r,this.$$p_d,"toProp"),(n=this.$$c)==null||n.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$me(),this.$$c=void 0)})}$$g_p(e){return di(this.$$p_d).find(t=>this.$$p_d[t].attribute===e||!this.$$p_d[t].attribute&&t.toLowerCase()===e)||e}});function ui(e,t,r,n){var a;const i=(a=r[e])==null?void 0:a.type;if(t=i==="Boolean"&&typeof t!="boolean"?t!=null:t,!n||!r[e])return t;if(n==="toAttribute")switch(i){case"Object":case"Array":return t==null?null:JSON.stringify(t);case"Boolean":return t?"":null;case"Number":return t??null;default:return t}else switch(i){case"Object":case"Array":return t&&JSON.parse(t);case"Boolean":return t;case"Number":return t!=null?+t:t;default:return t}}function Rc(e){const t={};return e.childNodes.forEach(r=>{t[r.slot||"default"]=!0}),t}function Zu(e,t,r,n,a,i){let o=class extends Qu{constructor(){super(e,r,a),this.$$p_d=t}static get observedAttributes(){return di(t).map(l=>(t[l].attribute||l).toLowerCase())}};return di(t).forEach(l=>{fn(o.prototype,l,{get(){return this.$$c&&l in this.$$c?this.$$c[l]:this.$$d[l]},set(s){var u;s=ui(l,s,t),this.$$d[l]=s;var f=this.$$c;if(f){var p=(u=er(f,l))==null?void 0:u.get;p?f[l]=s:f.$set({[l]:s})}}})}),n.forEach(l=>{fn(o.prototype,l,{get(){var s;return(s=this.$$c)==null?void 0:s[l]}})}),e.element=o,o}var jc=de('<span class="ui5-content-density-compact"><ui5-avatar></ui5-avatar> <ui5-dialog><ward-dev-tools-content></ward-dev-tools-content> <ui5-bar><ui5-button>Close</ui5-button></ui5-bar></ui5-dialog></span>',2);function Mc(e){let t=ie(),r=ie();function n(){un(r,j(r).open=!0),setTimeout(()=>{un(t,j(t).pressed=!1)},0)}function a(){un(r,j(r).open=!1),setTimeout(()=>{un(t,j(t).pressed=!1),j(t).focus()},0)}var i=jc(),o=W(i);sa(o,1,"ward-dev-tools-button"),K(o,"part","ward-dev-tools-button"),K(o,"colorScheme","Accent7"),K(o,"color-scheme","Accent9"),K(o,"design","Emphasized"),K(o,"icon","world"),K(o,"interactive",!0),K(o,"size","XS"),lt(o,p=>ee(t,p),()=>j(t));var l=z(o,2);sa(l,1,"ward-dev-tools-dialog svelte-19ox8wh"),K(l,"data-ui5-compact-size",!0),K(l,"draggable",!0),K(l,"header-text",`Ward Dev Tools${window.uncover.wardVersion?` (${window.uncover.wardVersion})`:""}`),K(l,"resizable",!0);var s=W(l),u=z(s,2);K(u,"slot","footer");var f=W(u);K(f,"slot","endContent"),U(u),U(l),lt(l,p=>ee(r,p),()=>j(r)),U(i),pr("click",o,n),pr("click",f,a),re(e,i)}customElements.define("ward-dev-tools",Zu(Mc,{},[],[],!0));var ht={},qi={},Sr={},Ga;function Nc(){return Ga||(Ga=1,Object.defineProperty(Sr,"__esModule",{value:!0}),Sr.Alphabet=void 0,Sr.Alphabet={LETTERS:{A:"a",B:"b",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",J:"j",K:"k",L:"l",M:"m",N:"n",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",U:"u",V:"v",W:"w",X:"x",Y:"y",Z:"z"}}),Sr}var Dr={},Ha;function Ic(){if(Ha)return Dr;Ha=1,Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.ArrayUtils=void 0;var e=function(){function t(){}return t.createIntArray=function(r){r===void 0&&(r=0);for(var n=[],a=0;a<r;a++)n.push(a);return n},t.shuffle=function(r){r===void 0&&(r=[]);for(var n=r.slice(),a=[];n.length;){var i=Math.floor(Math.random()*n.length);a.push(n.splice(i,1)[0])}return a},t.randomSubArray=function(r,n){r===void 0&&(r=[]),n===void 0&&(n=0);for(var a=r.slice(),i=[],o=0;o<n;o++){var l=Math.floor(Math.random()*a.length);i.push(a.splice(l,1)[0])}return i},t.randomElement=function(r){if(r===void 0&&(r=[]),r.length){var n=Math.floor(Math.random()*r.length);return r[n]}return null},t.removeElement=function(r,n){var a=r.indexOf(n),i=r.slice();return a!==-1&&i.splice(a,1),i},t}();return Dr.ArrayUtils=e,Dr}var Or={},za;function xu(){return za||(za=1,Object.defineProperty(Or,"__esModule",{value:!0}),Or.DataStates=void 0,Or.DataStates={NEVER:"NEVER",FETCHING_FIRST:"FETCHING_FIRST",FETCHING:"FETCHING",SUCCESS:"SUCCESS",FAILURE:"FAILURE",OUTDATED:"OUTDATED"}),Or}var Tr={},Ka;function Cc(){if(Ka)return Tr;Ka=1,Object.defineProperty(Tr,"__esModule",{value:!0}),Tr.DataStatesUtils=void 0;var e=xu(),t=function(){function r(){}return r.mergeDataStates=function(n){return n.length===0?e.DataStates.NEVER:n.some(function(a){return a===e.DataStates.FAILURE})?e.DataStates.FAILURE:n.some(function(a){return a===e.DataStates.OUTDATED})?e.DataStates.OUTDATED:n.some(function(a){return a===e.DataStates.NEVER})?e.DataStates.NEVER:n.some(function(a){return a===e.DataStates.FETCHING_FIRST})?e.DataStates.FETCHING_FIRST:n.some(function(a){return a===e.DataStates.FETCHING})?e.DataStates.FETCHING:e.DataStates.SUCCESS},r}();return Tr.DataStatesUtils=t,Tr}var Rr={},Ba;function Ac(){if(Ba)return Rr;Ba=1,Object.defineProperty(Rr,"__esModule",{value:!0}),Rr.DateUtils=void 0;var e=1e3,t=60,r=e*t,n=60,a=t*n,i=r*n,o=24,l=n*o,s=a*o,u=i*o,f=function(){function p(){}return p.durationToHumanTime=function(m){return{millis:m%e,seconds:Math.floor(m/e)%t,minutes:Math.floor(m/r)%n,hours:Math.floor(m/i)}},p.normalizeTime=function(m){return"".concat(m).padStart(2,"0")},p.dateString=function(m){var g=p.normalizeTime(m.getFullYear()),y=p.normalizeTime(m.getMonth()),w=p.normalizeTime(m.getDate()),c=p.normalizeTime(m.getHours()),h=p.normalizeTime(m.getMinutes()),d=p.normalizeTime(m.getSeconds());return"".concat(g,"-").concat(y,"-").concat(w," ").concat(c,":").concat(h,":").concat(d)},p.nowString=function(){return p.dateString(new Date(Date.now()))},p.TimeConstants={MIL_PER_SEC:e,SEC_PER_MIN:t,MIL_PER_MIN:r,MIN_PER_HOU:n,SEC_PER_HOU:a,MIL_PER_HOU:i,HOU_PER_DAY:o,MIN_PER_DAY:l,SEC_PER_DAY:s,MIL_PER_DAY:u},p}();return Rr.DateUtils=f,Rr}var jr={},Ja;function Lc(){if(Ja)return jr;Ja=1,Object.defineProperty(jr,"__esModule",{value:!0}),jr.DownloadUtils=void 0;var e=function(){function t(){}return t.downloadJson=function(r,n){var a=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),i=URL.createObjectURL(a),o=document.createElement("a");o.download=r,o.target="_blank",o.href=i,o.click(),URL.revokeObjectURL(i)},t}();return jr.DownloadUtils=e,jr}var Mr={},Ya;function qc(){if(Ya)return Mr;Ya=1,Object.defineProperty(Mr,"__esModule",{value:!0}),Mr.EncodeUtils=void 0;var e=function(){function t(){}return t.encode=function(r){return r===void 0&&(r=""),Buffer.from(r).toString("base64")},t.decode=function(r){return r===void 0&&(r=""),Buffer.from(r,"base64").toString()},t.encodeBasicHeader=function(r,n){r===void 0&&(r=""),n===void 0&&(n="");var a="".concat(r,":").concat(n),i=t.encode(a);return"Basic ".concat(i)},t.decodeBasicHeader=function(r){r===void 0&&(r="");var n=r.split("Basic ").join(""),a=t.decode(n),i=a.split(":");return i.length===2?{username:i[0],password:i[1]}:{username:null,password:null}},t}();return Mr.EncodeUtils=e,Mr}var Nr={},Xa;function kc(){if(Xa)return Nr;Xa=1,Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.FileUtils=void 0;var e=function(){function t(){}return t.getExtention=function(r){var n=r.name;return n.substring(n.lastIndexOf(".")+1).toLowerCase()},t.checkExtention=function(r,n){return n.indexOf(t.getExtention(r))!==-1},t.checkSize=function(r,n){return r.size<=n},t}();return Nr.FileUtils=e,Nr}var Ir={},Qa;function Uc(){if(Qa)return Ir;Qa=1,Object.defineProperty(Ir,"__esModule",{value:!0}),Ir.FunctionUtils=void 0;var e=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/mg,t=/([^\s,]+)/g,r=function(){function n(){}return n.getParamNames=function(a){var i=a.toString().replace(e,""),o=i.slice(i.indexOf("(")+1,i.indexOf(")")).match(t);return o===null?[]:o},n}();return Ir.FunctionUtils=r,Ir}var mt={},Za;function Fc(){return Za||(Za=1,Object.defineProperty(mt,"__esModule",{value:!0}),mt.HttpStatuses=mt.HttpMethods=mt.HttpHeaders=void 0,mt.HttpHeaders={ACCESS_CONTROL_ALLOW_ORIGIN:"Access-Control-Allow-Origin",ACCESS_CONTROL_ALLOW_HEADERS:"Access-Control-Allow-Headers",ACCESS_CONTROL_ALLOW_METHODS:"Access-Control-Allow-Methods"},mt.HttpMethods={GET:"GET",POST:"POST",PUT:"PUT",PATCH:"PATCH",DELETE:"DELETE",OPTIONS:"OPTIONS"},mt.HttpStatuses={OK:200,CREATED:201,REMOVED:204,BAD_REQUEST:400,UNAUTHORIZED:401,FORBIDDEN:403,NOT_FOUND:404,ERROR:500}),mt}var Cr={},xa;function Wc(){if(xa)return Cr;xa=1,Object.defineProperty(Cr,"__esModule",{value:!0}),Cr.ObjectUtils=void 0;var e=function(){function t(){}return t.nil=function(r){return typeof r>"u"||r===null},t.getProperty=function(r,n){return n.split(".").reduce(function(a,i){if(a&&typeof a=="object")return a[i]},r)},t.clone=function(r){return JSON.parse(JSON.stringify(r))},t.arrayfy=function(r){return Array.isArray(r)?r:[r]},t}();return Cr.ObjectUtils=e,Cr}var Ar={},es;function Vc(){if(es)return Ar;es=1,Object.defineProperty(Ar,"__esModule",{value:!0}),Ar.PromiseUtils=void 0;var e=0,t=function(){function r(){}return r.delayedPromise=function(n,a){return a===void 0&&(a=e),Promise.all([n,new Promise(function(i){return setTimeout(i,a)})]).then(function(i){return i[0]}).catch(function(i){throw i})},r}();return Ar.PromiseUtils=t,Ar}var Lr={},ts;function Gc(){if(ts)return Lr;ts=1,Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.Sets=void 0;var e=function(){function t(){}return t.toSet=function(r){return r.reduce(function(n,a){return n.includes(a)||n.push(a),n},[])},t.add=function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return n.forEach(function(i){r.includes(i)||r.push(i)}),r},t.remove=function(r){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return n.forEach(function(i){var o=r.indexOf(i);o!==-1&&r.splice(o,1)}),r},t.merge=function(r,n){return t.toSet(r.concat(n))},t}();return Lr.Sets=e,Lr}var qr={},kr={},rs;function el(){if(rs)return kr;rs=1,Object.defineProperty(kr,"__esModule",{value:!0}),kr.StringUtils=void 0;var e=function(){function t(){}return t.capitalize=function(r){return r.length?r.substring(0,1).toUpperCase()+r.substring(1).toLowerCase():""},t.capitalizeFirst=function(r){return r.length?r.substring(0,1).toUpperCase():""},t.replaceAll=function(r,n,a){return r.split(n).join(a)},t.getIndent=function(r,n){n===void 0&&(n="  ");for(var a="",i=0;i<r;i++)a+=n;return a},t}();return kr.StringUtils=e,kr}var ns;function Hc(){if(ns)return qr;ns=1,Object.defineProperty(qr,"__esModule",{value:!0}),qr.StringLabel=void 0;var e=el(),t=function(){function r(n,a){a===void 0&&(a=" "),this._value=n,this._words=n.split(a).map(function(i){return i.toLowerCase()}).filter(function(i){return!!i})}return Object.defineProperty(r.prototype,"words",{get:function(){return this._words},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"camel",{get:function(){return this.words.map(function(n,a){return a===0?n:e.StringUtils.capitalize(n)}).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"pascal",{get:function(){return this.words.map(function(n){return e.StringUtils.capitalize(n)}).join("")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"worm",{get:function(){return this.words.map(function(n){return n.toLowerCase()}).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"snake",{get:function(){return this.words.map(function(n){return e.StringUtils.capitalize(n)}).join("_")},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"serpent",{get:function(){return this.words.map(function(n){return n.toUpperCase()}).join("_")},enumerable:!1,configurable:!0}),r}();return qr.StringLabel=t,qr}var Ur={},is;function zc(){if(is)return Ur;is=1,Object.defineProperty(Ur,"__esModule",{value:!0}),Ur.UUID=void 0;var e=function(){function t(){}return t.next=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){var n=Math.random()*16|0,a=r=="x"?n:n&3|8;return a.toString(16)})},t}();return Ur.UUID=e,Ur}var as;function Pn(){return as||(as=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.UUID=e.StringUtils=e.StringLabel=e.Sets=e.PromiseUtils=e.ObjectUtils=e.HttpStatuses=e.HttpMethods=e.HttpHeaders=e.FunctionUtils=e.FileUtils=e.EncodeUtils=e.DownloadUtils=e.DateUtils=e.DataStatesUtils=e.DataStates=e.ArrayUtils=e.Alphabet=void 0;var t=Nc();Object.defineProperty(e,"Alphabet",{enumerable:!0,get:function(){return t.Alphabet}});var r=Ic();Object.defineProperty(e,"ArrayUtils",{enumerable:!0,get:function(){return r.ArrayUtils}});var n=xu();Object.defineProperty(e,"DataStates",{enumerable:!0,get:function(){return n.DataStates}});var a=Cc();Object.defineProperty(e,"DataStatesUtils",{enumerable:!0,get:function(){return a.DataStatesUtils}});var i=Ac();Object.defineProperty(e,"DateUtils",{enumerable:!0,get:function(){return i.DateUtils}});var o=Lc();Object.defineProperty(e,"DownloadUtils",{enumerable:!0,get:function(){return o.DownloadUtils}});var l=qc();Object.defineProperty(e,"EncodeUtils",{enumerable:!0,get:function(){return l.EncodeUtils}});var s=kc();Object.defineProperty(e,"FileUtils",{enumerable:!0,get:function(){return s.FileUtils}});var u=Uc();Object.defineProperty(e,"FunctionUtils",{enumerable:!0,get:function(){return u.FunctionUtils}});var f=Fc();Object.defineProperty(e,"HttpHeaders",{enumerable:!0,get:function(){return f.HttpHeaders}}),Object.defineProperty(e,"HttpMethods",{enumerable:!0,get:function(){return f.HttpMethods}}),Object.defineProperty(e,"HttpStatuses",{enumerable:!0,get:function(){return f.HttpStatuses}});var p=Wc();Object.defineProperty(e,"ObjectUtils",{enumerable:!0,get:function(){return p.ObjectUtils}});var m=Vc();Object.defineProperty(e,"PromiseUtils",{enumerable:!0,get:function(){return m.PromiseUtils}});var g=Gc();Object.defineProperty(e,"Sets",{enumerable:!0,get:function(){return g.Sets}});var y=Hc();Object.defineProperty(e,"StringLabel",{enumerable:!0,get:function(){return y.StringLabel}});var w=el();Object.defineProperty(e,"StringUtils",{enumerable:!0,get:function(){return w.StringUtils}});var c=zc();Object.defineProperty(e,"UUID",{enumerable:!0,get:function(){return c.UUID}})}(qi)),qi}var Ue={},ki={},Ye={},Fr={},ss;function $a(){return ss||(ss=1,Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.LogLevels=void 0,Fr.LogLevels={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4}),Fr}var os;function tl(){if(os)return Ye;os=1;var e=Ye&&Ye.__classPrivateFieldSet||function(i,o,l,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!u:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(i,l):u?u.value=l:o.set(i,l),l},t=Ye&&Ye.__classPrivateFieldGet||function(i,o,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!s:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(i):s?s.value:o.get(i)},r;Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.GlobalConfig=Ye.LogConfig=void 0;const n=$a();class a{constructor(o=n.LogLevels.ERROR){r.set(this,void 0),e(this,r,o,"f")}get level(){return t(this,r,"f")}off(){return e(this,r,n.LogLevels.OFF,"f"),this}debug(){return e(this,r,n.LogLevels.DEBUG,"f"),this}info(){return e(this,r,n.LogLevels.INFO,"f"),this}warn(){return e(this,r,n.LogLevels.WARN,"f"),this}error(){return e(this,r,n.LogLevels.ERROR,"f"),this}}return Ye.LogConfig=a,r=new WeakMap,Ye.GlobalConfig=new a().debug(),Ye}var pt={},us;function rl(){if(us)return pt;us=1;var e=pt&&pt.__classPrivateFieldSet||function(s,u,f,p,m){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?s!==u||!m:!u.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?m.call(s,f):m?m.value=f:u.set(s,f),f},t=pt&&pt.__classPrivateFieldGet||function(s,u,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?s!==u||!p:!u.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(s):p?p.value:u.get(s)},r,n;Object.defineProperty(pt,"__esModule",{value:!0}),pt.Logger=void 0;const a=$a(),i=tl();function o(s,u){return s.config.level<=u&&i.GlobalConfig.level<=u}class l{constructor(u="Logger",f=new i.LogConfig){r.set(this,void 0),n.set(this,void 0),e(this,r,u,"f"),e(this,n,f,"f")}get name(){return t(this,r,"f")}get config(){return t(this,n,"f")}get level(){return t(this,n,"f").level}message(u){return`${this.name} - ${u}`}debug(u){o(this,a.LogLevels.DEBUG)&&console.log(this.message(u))}info(u){o(this,a.LogLevels.INFO)&&console.log(this.message(u))}warn(u){o(this,a.LogLevels.WARN)&&console.warn(this.message(u))}error(u){o(this,a.LogLevels.ERROR)&&console.error(this.message(u))}}return pt.Logger=l,r=new WeakMap,n=new WeakMap,pt}var ls;function wn(){return ls||(ls=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevels=e.GlobalConfig=e.LogConfig=void 0;var t=tl();Object.defineProperty(e,"LogConfig",{enumerable:!0,get:function(){return t.LogConfig}}),Object.defineProperty(e,"GlobalConfig",{enumerable:!0,get:function(){return t.GlobalConfig}});var r=$a();Object.defineProperty(e,"LogLevels",{enumerable:!0,get:function(){return r.LogLevels}});var n=rl();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return n.Logger}})}(ki)),ki}var nt={},it={},It={},cs;function Kc(){if(cs)return It;cs=1;var e=It&&It.__classPrivateFieldSet||function(s,u,f,p,m){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?s!==u||!m:!u.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?m.call(s,f):m?m.value=f:u.set(s,f),f},t=It&&It.__classPrivateFieldGet||function(s,u,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?s!==u||!p:!u.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(s):p?p.value:u.get(s)},r,n,a,i,o;Object.defineProperty(It,"__esModule",{value:!0});let l=class{constructor(s,u,f){r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),e(this,r,s,"f"),e(this,o,!1,"f"),e(this,i,!0,"f");let p=u;p.endsWith("?")&&(e(this,i,!1,"f"),p=p.substring(0,p.length-1)),e(this,n,p,"f");let m=f;m.endsWith("[]")&&(e(this,o,!0,"f"),m=m.substring(0,m.length-2)),e(this,a,m,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,n,"f")}get type(){return t(this,a,"f")}get array(){return t(this,o,"f")}get mandatory(){return t(this,i,"f")}};return r=new WeakMap,n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,It.default=l,It}var at={},Ct={},ds;function Bc(){if(ds)return Ct;ds=1;var e=Ct&&Ct.__classPrivateFieldSet||function(i,o,l,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!u:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(i,l):u?u.value=l:o.set(i,l),l},t=Ct&&Ct.__classPrivateFieldGet||function(i,o,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!s:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(i):s?s.value:o.get(i)},r,n;Object.defineProperty(Ct,"__esModule",{value:!0});let a=class{constructor(i,o){r.set(this,void 0),n.set(this,void 0),e(this,r,i,"f"),e(this,n,o,"f")}get type(){return t(this,n,"f")}get name(){return t(this,r,"f")}};return r=new WeakMap,n=new WeakMap,Ct.default=a,Ct}var At={},fs;function Jc(){if(fs)return At;fs=1;var e=At&&At.__classPrivateFieldSet||function(a,i,o,l,s){if(l==="m")throw new TypeError("Private method is not writable");if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof i=="function"?a!==i||!s:!i.has(a))throw new TypeError("Cannot write private member to an object whose class did not declare it");return l==="a"?s.call(a,o):s?s.value=o:i.set(a,o),o},t=At&&At.__classPrivateFieldGet||function(a,i,o,l){if(o==="a"&&!l)throw new TypeError("Private accessor was defined without a getter");if(typeof i=="function"?a!==i||!l:!i.has(a))throw new TypeError("Cannot read private member from an object whose class did not declare it");return o==="m"?l:o==="a"?l.call(a):l?l.value:i.get(a)},r;Object.defineProperty(At,"__esModule",{value:!0});let n=class{constructor(a){r.set(this,void 0),e(this,r,a,"f")}get name(){return t(this,r,"f")}};return r=new WeakMap,At.default=n,At}var Lt={},hs;function Yc(){if(hs)return Lt;hs=1;var e=Lt&&Lt.__classPrivateFieldSet||function(i,o,l,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!u:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(i,l):u?u.value=l:o.set(i,l),l},t=Lt&&Lt.__classPrivateFieldGet||function(i,o,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!s:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(i):s?s.value:o.get(i)},r,n;Object.defineProperty(Lt,"__esModule",{value:!0});let a=class{constructor(i,o){r.set(this,void 0),n.set(this,void 0),e(this,r,i,"f"),e(this,n,o,"f")}get type(){return t(this,n,"f")}get name(){return t(this,r,"f")}};return r=new WeakMap,n=new WeakMap,Lt.default=a,Lt}var ms;function Xc(){if(ms)return at;ms=1;var e=at&&at.__classPrivateFieldSet||function(m,g,y,w,c){if(w==="m")throw new TypeError("Private method is not writable");if(w==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?m!==g||!c:!g.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return w==="a"?c.call(m,y):c?c.value=y:g.set(m,y),y},t=at&&at.__classPrivateFieldGet||function(m,g,y,w){if(y==="a"&&!w)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?m!==g||!w:!g.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?w:y==="a"?w.call(m):w?w.value:g.get(m)},r=at&&at.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},n,a,i,o,l;Object.defineProperty(at,"__esModule",{value:!0});const s=r(Bc()),u=r(Jc()),f=r(Yc());let p=class{constructor(m,g,y){n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),l.set(this,void 0),e(this,n,m,"f"),e(this,a,g,"f");const w=y.attributes||{};e(this,i,Object.keys(w).map(d=>new s.default(d,String(w[d]))),"f");const c=y.properties||{};e(this,o,Object.keys(c).map(d=>new f.default(d,String(c[d]))),"f");const h=y.events||{};e(this,l,Object.keys(h).map(d=>new u.default(d)),"f")}get plugin(){return t(this,n,"f")}get name(){return t(this,a,"f")}get attributes(){return t(this,i,"f").slice()}get properties(){return t(this,o,"f").slice()}get events(){return t(this,l,"f").slice()}};return n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,at.default=p,at}var qt={},ps;function Qc(){if(ps)return qt;ps=1;var e=qt&&qt.__classPrivateFieldSet||function(s,u,f,p,m){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?s!==u||!m:!u.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?m.call(s,f):m?m.value=f:u.set(s,f),f},t=qt&&qt.__classPrivateFieldGet||function(s,u,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?s!==u||!p:!u.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(s):p?p.value:u.get(s)},r,n,a,i,o;Object.defineProperty(qt,"__esModule",{value:!0});let l=class{constructor(s,u,f){r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),e(this,r,s,"f"),e(this,o,!1,"f"),e(this,i,!0,"f");let p=u;p.endsWith("?")&&(e(this,i,!1,"f"),p=p.substring(0,p.length-1)),e(this,n,p,"f");let m=f;m.endsWith("[]")&&(e(this,o,!0,"f"),m=m.substring(0,m.length-2)),e(this,a,m,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,n,"f")}get type(){return t(this,a,"f")}get array(){return t(this,o,"f")}get mandatory(){return t(this,i,"f")}};return r=new WeakMap,n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,qt.default=l,qt}var vs;function Zc(){if(vs)return it;vs=1;var e=it&&it.__classPrivateFieldSet||function(m,g,y,w,c){if(w==="m")throw new TypeError("Private method is not writable");if(w==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?m!==g||!c:!g.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return w==="a"?c.call(m,y):c?c.value=y:g.set(m,y),y},t=it&&it.__classPrivateFieldGet||function(m,g,y,w){if(y==="a"&&!w)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?m!==g||!w:!g.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?w:y==="a"?w.call(m):w?w.value:g.get(m)},r=it&&it.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},n,a,i,o,l;Object.defineProperty(it,"__esModule",{value:!0});const s=r(Kc()),u=r(Xc()),f=r(Qc());let p=class{constructor(m,g,y){n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),l.set(this,void 0),e(this,n,m,"f"),e(this,a,`${m}/${g}`,"f");const w=y.properties||{};e(this,i,Object.keys(w).map(d=>{const v=w[d];return new f.default(m,d,v)}),"f");const c=y.attributes||{};e(this,o,Object.keys(c).map(d=>{const v=c[d];return new s.default(m,d,v)}),"f");const h=y.elements||{};e(this,l,Object.keys(h).map(d=>{const v=h[d];return new u.default(m,d,v)}),"f")}get plugin(){return t(this,n,"f")}get name(){return t(this,a,"f")}get properties(){return t(this,i,"f").slice()}getProperty(m){return this.properties.find(g=>g.name===m)}get attributes(){return t(this,o,"f").slice()}getAttribute(m){return this.attributes.find(g=>g.name===m)}get elements(){return t(this,l,"f").slice()}getElement(m){return this.elements.find(g=>g.name===m)}};return n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,it.default=p,it}var st={},kt={},gs;function xc(){if(gs)return kt;gs=1;var e=kt&&kt.__classPrivateFieldSet||function(o,l,s,u,f){if(u==="m")throw new TypeError("Private method is not writable");if(u==="a"&&!f)throw new TypeError("Private accessor was defined without a setter");if(typeof l=="function"?o!==l||!f:!l.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return u==="a"?f.call(o,s):f?f.value=s:l.set(o,s),s},t=kt&&kt.__classPrivateFieldGet||function(o,l,s,u){if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a getter");if(typeof l=="function"?o!==l||!u:!l.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?u:s==="a"?u.call(o):u?u.value:l.get(o)},r,n,a;Object.defineProperty(kt,"__esModule",{value:!0});let i=class{constructor(o,l,s){r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),e(this,r,o,"f"),e(this,n,l,"f"),e(this,a,s,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,n,"f")}get value(){return t(this,a,"f")}};return r=new WeakMap,n=new WeakMap,a=new WeakMap,kt.default=i,kt}var Ut={},_s;function ed(){if(_s)return Ut;_s=1;var e=Ut&&Ut.__classPrivateFieldSet||function(s,u,f,p,m){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?s!==u||!m:!u.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?m.call(s,f):m?m.value=f:u.set(s,f),f},t=Ut&&Ut.__classPrivateFieldGet||function(s,u,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?s!==u||!p:!u.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(s):p?p.value:u.get(s)},r,n,a,i,o;Object.defineProperty(Ut,"__esModule",{value:!0});let l=class{constructor(s,u,f){r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),e(this,r,s,"f"),e(this,n,u,"f"),e(this,a,f.url,"f"),e(this,i,f.type,"f"),e(this,o,f.element,"f")}get plugin(){return t(this,r,"f")}get name(){return t(this,n,"f")}get url(){return t(this,a,"f")}get type(){return t(this,i,"f")}get element(){return t(this,o,"f")}};return r=new WeakMap,n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,Ut.default=l,Ut}var ys;function td(){if(ys)return st;ys=1;var e=st&&st.__classPrivateFieldSet||function(p,m,g,y,w){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof m=="function"?p!==m||!w:!m.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?w.call(p,g):w?w.value=g:m.set(p,g),g},t=st&&st.__classPrivateFieldGet||function(p,m,g,y){if(g==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof m=="function"?p!==m||!y:!m.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?y:g==="a"?y.call(p):y?y.value:m.get(p)},r=st&&st.__importDefault||function(p){return p&&p.__esModule?p:{default:p}},n,a,i,o,l;Object.defineProperty(st,"__esModule",{value:!0});const s=r(xc()),u=r(ed());let f=class{constructor(p,m,g,y){n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),l.set(this,void 0),e(this,n,p,"f"),e(this,a,m,"f"),e(this,i,g,"f");const w=y.attributes||{};e(this,o,Object.keys(w).map(h=>{const d=w[h];return new s.default(p,h,d)}),"f");const c=y.elements||{};e(this,l,Object.keys(c).map(h=>{const d=c[h];return new u.default(p,h,d)}),"f")}get plugin(){return t(this,n,"f")}get define(){return t(this,a,"f")}get name(){return t(this,i,"f")}get attributes(){return t(this,o,"f").slice()}getAttribute(p){return this.attributes.find(m=>m.name===p)}get elements(){return t(this,l,"f").slice()}getElement(p){return this.elements.find(m=>m.name===p)}};return n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,st.default=f,st}var Ps;function rd(){if(Ps)return nt;Ps=1;var e=nt&&nt.__classPrivateFieldSet||function(m,g,y,w,c){if(w==="m")throw new TypeError("Private method is not writable");if(w==="a"&&!c)throw new TypeError("Private accessor was defined without a setter");if(typeof g=="function"?m!==g||!c:!g.has(m))throw new TypeError("Cannot write private member to an object whose class did not declare it");return w==="a"?c.call(m,y):c?c.value=y:g.set(m,y),y},t=nt&&nt.__classPrivateFieldGet||function(m,g,y,w){if(y==="a"&&!w)throw new TypeError("Private accessor was defined without a getter");if(typeof g=="function"?m!==g||!w:!g.has(m))throw new TypeError("Cannot read private member from an object whose class did not declare it");return y==="m"?w:y==="a"?w.call(m):w?w.value:g.get(m)},r=nt&&nt.__importDefault||function(m){return m&&m.__esModule?m:{default:m}},n,a,i,o,l,s;Object.defineProperty(nt,"__esModule",{value:!0});const u=r(Zc()),f=r(td());let p=class{constructor(m,g){n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),l.set(this,void 0),s.set(this,void 0),e(this,n,m,"f"),e(this,a,g.name,"f"),e(this,i,g.url,"f"),e(this,o,g.dependencies||[],"f");const y=g.defines||{};e(this,l,Object.keys(y).map(c=>{const h=y[c];return new u.default(this.name,c,h)}),"f");const w=g.provides||{};e(this,s,Object.keys(w).reduce((c,h)=>{const d=w[h],v=Object.keys(d).map(_=>new f.default(this.name,h,_,d[_]),[]);return[...c,...v]},[]),"f")}get loadUrl(){return t(this,n,"f")}get name(){return t(this,a,"f")}get url(){return t(this,i,"f")}get dependencies(){return t(this,o,"f").slice()}get defines(){return t(this,l,"f").slice()}get provides(){return t(this,s,"f").slice()}};return n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,nt.default=p,nt}var ot={},Ft={},ws;function nd(){if(ws)return Ft;ws=1;var e=Ft&&Ft.__classPrivateFieldSet||function(s,u,f,p,m){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?s!==u||!m:!u.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?m.call(s,f):m?m.value=f:u.set(s,f),f},t=Ft&&Ft.__classPrivateFieldGet||function(s,u,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?s!==u||!p:!u.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(s):p?p.value:u.get(s)},r,n,a,i,o;Object.defineProperty(Ft,"__esModule",{value:!0});let l=class{constructor(s,u,f){r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),e(this,r,u.name,"f"),e(this,n,u.type,"f"),e(this,a,u.mandatory,"f"),e(this,i,u.array,"f");const p=f.value;switch(t(this,n,"f")){case"url":{Array.isArray(p)?e(this,o,p.map(m=>`${s}${m}`),"f"):e(this,o,`${s}${p}`,"f");break}default:{e(this,o,p,"f");break}}}get name(){return t(this,r,"f")}get type(){return t(this,n,"f")}get mandatory(){return t(this,a,"f")}get array(){return t(this,i,"f")}get value(){return t(this,o,"f")}};return r=new WeakMap,n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,Ft.default=l,Ft}var Wt={},bs;function id(){if(bs)return Wt;bs=1;var e=Wt&&Wt.__classPrivateFieldSet||function(l,s,u,f,p){if(f==="m")throw new TypeError("Private method is not writable");if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a setter");if(typeof s=="function"?l!==s||!p:!s.has(l))throw new TypeError("Cannot write private member to an object whose class did not declare it");return f==="a"?p.call(l,u):p?p.value=u:s.set(l,u),u},t=Wt&&Wt.__classPrivateFieldGet||function(l,s,u,f){if(u==="a"&&!f)throw new TypeError("Private accessor was defined without a getter");if(typeof s=="function"?l!==s||!f:!s.has(l))throw new TypeError("Cannot read private member from an object whose class did not declare it");return u==="m"?f:u==="a"?f.call(l):f?f.value:s.get(l)},r,n,a,i;Object.defineProperty(Wt,"__esModule",{value:!0});let o=class{constructor(l,s,u){r.set(this,void 0),n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),e(this,r,s.name,"f"),e(this,n,`${l}${u.url}`,"f"),e(this,a,u.type,"f"),e(this,i,u.element,"f")}get name(){return t(this,r,"f")}get url(){return t(this,n,"f")}get type(){return t(this,a,"f")}get element(){return t(this,i,"f")}};return r=new WeakMap,n=new WeakMap,a=new WeakMap,i=new WeakMap,Wt.default=o,Wt}var $s;function ad(){if($s)return ot;$s=1;var e=ot&&ot.__classPrivateFieldSet||function(g,y,w,c,h){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!h)throw new TypeError("Private accessor was defined without a setter");if(typeof y=="function"?g!==y||!h:!y.has(g))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?h.call(g,w):h?h.value=w:y.set(g,w),w},t=ot&&ot.__classPrivateFieldGet||function(g,y,w,c){if(w==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof y=="function"?g!==y||!c:!y.has(g))throw new TypeError("Cannot read private member from an object whose class did not declare it");return w==="m"?c:w==="a"?c.call(g):c?c.value:y.get(g)},r=ot&&ot.__importDefault||function(g){return g&&g.__esModule?g:{default:g}},n,a,i,o,l,s;Object.defineProperty(ot,"__esModule",{value:!0});const u=rl(),f=r(nd()),p=r(id());let m=class{constructor(g,y,w,c){n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,[]),l.set(this,[]),s.set(this,void 0),e(this,s,new u.Logger("PluginManager",c),"f"),e(this,n,w.plugin,"f"),e(this,a,y.name,"f"),e(this,i,`${y.name}/${w.name}`,"f"),y.attributes.forEach(h=>{const{name:d,type:v,mandatory:_,array:b}=h,$=w.attributes.find(P=>P.name===d);if(_&&!$)throw new Error(`Missing mandatory attribute '${d}'`);if($){if(b!==Array.isArray($.value))throw new Error(`Invalid attribute type '${d}', should ${b?"":"not "}be an array`);t(this,o,"f").push(new f.default(g,h,$))}}),w.attributes.forEach(h=>{y.attributes.find(d=>d.name===h.name)||this.logger.warn(`${w.plugin} - ${w.name} - Attribute '${h.name}' is not defined`)}),y.elements.forEach(h=>{const{name:d}=h,v=w.elements.find(_=>_.name===d);if(!v)throw new Error(`Missing element '${d}'`);t(this,l,"f").push(new p.default(g,h,v))}),w.elements.forEach(h=>{y.elements.find(d=>d.name===h.name)||this.logger.warn(`${w.plugin} - ${w.name} - Element '${h.name}' is not defined`)})}get plugin(){return t(this,n,"f")}get definition(){return t(this,a,"f")}get name(){return t(this,i,"f")}get logger(){return t(this,s,"f")}get attributes(){return t(this,o,"f").reduce((g,y)=>(g[y.name]=y.value,g),{})}getAttributes(){return t(this,o,"f").slice()}getAttribute(g){return this.attributes[g]}get elements(){return t(this,l,"f").reduce((g,y)=>(g[y.name]={plugin:this.plugin,url:y.url,type:y.type,element:y.element},g),{})}getElements(){return t(this,l,"f").slice()}getElement(g){return this.elements[g]}};return n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,ot.default=m,ot}var vt={},gt={},$n={exports:{}},Ui={},_t={},Yt={},Fi={},Wi={},Vi={},Es;function yi(){return Es||(Es=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.regexpCode=e.getEsmExportName=e.getProperty=e.safeStringify=e.stringify=e.strConcat=e.addCodeArg=e.str=e._=e.nil=e._Code=e.Name=e.IDENTIFIER=e._CodeOrName=void 0;class t{}e._CodeOrName=t,e.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends t{constructor(d){if(super(),!e.IDENTIFIER.test(d))throw new Error("CodeGen: name must be a valid identifier");this.str=d}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}e.Name=r;class n extends t{constructor(d){super(),this._items=typeof d=="string"?[d]:d}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const d=this._items[0];return d===""||d==='""'}get str(){var d;return(d=this._str)!==null&&d!==void 0?d:this._str=this._items.reduce((v,_)=>`${v}${_}`,"")}get names(){var d;return(d=this._names)!==null&&d!==void 0?d:this._names=this._items.reduce((v,_)=>(_ instanceof r&&(v[_.str]=(v[_.str]||0)+1),v),{})}}e._Code=n,e.nil=new n("");function a(h,...d){const v=[h[0]];let _=0;for(;_<d.length;)l(v,d[_]),v.push(h[++_]);return new n(v)}e._=a;const i=new n("+");function o(h,...d){const v=[g(h[0])];let _=0;for(;_<d.length;)v.push(i),l(v,d[_]),v.push(i,g(h[++_]));return s(v),new n(v)}e.str=o;function l(h,d){d instanceof n?h.push(...d._items):d instanceof r?h.push(d):h.push(p(d))}e.addCodeArg=l;function s(h){let d=1;for(;d<h.length-1;){if(h[d]===i){const v=u(h[d-1],h[d+1]);if(v!==void 0){h.splice(d-1,3,v);continue}h[d++]="+"}d++}}function u(h,d){if(d==='""')return h;if(h==='""')return d;if(typeof h=="string")return d instanceof r||h[h.length-1]!=='"'?void 0:typeof d!="string"?`${h.slice(0,-1)}${d}"`:d[0]==='"'?h.slice(0,-1)+d.slice(1):void 0;if(typeof d=="string"&&d[0]==='"'&&!(h instanceof r))return`"${h}${d.slice(1)}`}function f(h,d){return d.emptyStr()?h:h.emptyStr()?d:o`${h}${d}`}e.strConcat=f;function p(h){return typeof h=="number"||typeof h=="boolean"||h===null?h:g(Array.isArray(h)?h.join(","):h)}function m(h){return new n(g(h))}e.stringify=m;function g(h){return JSON.stringify(h).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}e.safeStringify=g;function y(h){return typeof h=="string"&&e.IDENTIFIER.test(h)?new n(`.${h}`):a`[${h}]`}e.getProperty=y;function w(h){if(typeof h=="string"&&e.IDENTIFIER.test(h))return new n(`${h}`);throw new Error(`CodeGen: invalid export name: ${h}, use explicit $id name mapping`)}e.getEsmExportName=w;function c(h){return new n(h.toString())}e.regexpCode=c}(Vi)),Vi}var Gi={},Ss;function Ds(){return Ss||(Ss=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.ValueScope=e.ValueScopeName=e.Scope=e.varKinds=e.UsedValueState=void 0;const t=yi();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(s){s[s.Started=0]="Started",s[s.Completed=1]="Completed"})(n||(e.UsedValueState=n={})),e.varKinds={const:new t.Name("const"),let:new t.Name("let"),var:new t.Name("var")};class a{constructor({prefixes:u,parent:f}={}){this._names={},this._prefixes=u,this._parent=f}toName(u){return u instanceof t.Name?u:this.name(u)}name(u){return new t.Name(this._newName(u))}_newName(u){const f=this._names[u]||this._nameGroup(u);return`${u}${f.index++}`}_nameGroup(u){var f,p;if(!((p=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||p===void 0)&&p.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}e.Scope=a;class i extends t.Name{constructor(u,f){super(f),this.prefix=u}setValue(u,{property:f,itemIndex:p}){this.value=u,this.scopePath=(0,t._)`.${new t.Name(f)}[${p}]`}}e.ValueScopeName=i;const o=(0,t._)`\n`;class l extends a{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?o:t.nil}}get(){return this._scope}name(u){return new i(u,this._newName(u))}value(u,f){var p;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const m=this.toName(u),{prefix:g}=m,y=(p=f.key)!==null&&p!==void 0?p:f.ref;let w=this._values[g];if(w){const d=w.get(y);if(d)return d}else w=this._values[g]=new Map;w.set(y,m);const c=this._scope[g]||(this._scope[g]=[]),h=c.length;return c[h]=f.ref,m.setValue(f,{property:g,itemIndex:h}),m}getValue(u,f){const p=this._values[u];if(p)return p.get(f)}scopeRefs(u,f=this._values){return this._reduceValues(f,p=>{if(p.scopePath===void 0)throw new Error(`CodeGen: name "${p}" has no value`);return(0,t._)`${u}${p.scopePath}`})}scopeCode(u=this._values,f,p){return this._reduceValues(u,m=>{if(m.value===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return m.value.code},f,p)}_reduceValues(u,f,p={},m){let g=t.nil;for(const y in u){const w=u[y];if(!w)continue;const c=p[y]=p[y]||new Map;w.forEach(h=>{if(c.has(h))return;c.set(h,n.Started);let d=f(h);if(d){const v=this.opts.es5?e.varKinds.var:e.varKinds.const;g=(0,t._)`${g}${v} ${h} = ${d};${this.opts._n}`}else if(d=m?.(h))g=(0,t._)`${g}${d}${this.opts._n}`;else throw new r(h);c.set(h,n.Completed)})}return g}}e.ValueScope=l}(Gi)),Gi}var Os;function se(){return Os||(Os=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.or=e.and=e.not=e.CodeGen=e.operators=e.varKinds=e.ValueScopeName=e.ValueScope=e.Scope=e.Name=e.regexpCode=e.stringify=e.getProperty=e.nil=e.strConcat=e.str=e._=void 0;const t=yi(),r=Ds();var n=yi();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(e,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(e,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(e,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return n.Name}});var a=Ds();Object.defineProperty(e,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(e,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(e,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(e,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),e.operators={GT:new t._Code(">"),GTE:new t._Code(">="),LT:new t._Code("<"),LTE:new t._Code("<="),EQ:new t._Code("==="),NEQ:new t._Code("!=="),NOT:new t._Code("!"),OR:new t._Code("||"),AND:new t._Code("&&"),ADD:new t._Code("+")};class i{optimizeNodes(){return this}optimizeNames(E,S){return this}}class o extends i{constructor(E,S,M){super(),this.varKind=E,this.name=S,this.rhs=M}render({es5:E,_n:S}){const M=E?r.varKinds.var:this.varKind,B=this.rhs===void 0?"":` = ${this.rhs}`;return`${M} ${this.name}${B};`+S}optimizeNames(E,S){if(E[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,E,S)),this}get names(){return this.rhs instanceof t._CodeOrName?this.rhs.names:{}}}class l extends i{constructor(E,S,M){super(),this.lhs=E,this.rhs=S,this.sideEffects=M}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,S){if(!(this.lhs instanceof t.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,E,S),this}get names(){const E=this.lhs instanceof t.Name?{}:{...this.lhs.names};return G(E,this.rhs)}}class s extends l{constructor(E,S,M,B){super(E,M,B),this.op=S}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class u extends i{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class f extends i{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class p extends i{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class m extends i{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,S){return this.code=H(this.code,E,S),this}get names(){return this.code instanceof t._CodeOrName?this.code.names:{}}}class g extends i{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((S,M)=>S+M.render(E),"")}optimizeNodes(){const{nodes:E}=this;let S=E.length;for(;S--;){const M=E[S].optimizeNodes();Array.isArray(M)?E.splice(S,1,...M):M?E[S]=M:E.splice(S,1)}return E.length>0?this:void 0}optimizeNames(E,S){const{nodes:M}=this;let B=M.length;for(;B--;){const q=M[B];q.optimizeNames(E,S)||(Q(E,q.names),M.splice(B,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((E,S)=>V(E,S.names),{})}}class y extends g{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class w extends g{}class c extends y{}c.kind="else";class h extends y{constructor(E,S){super(S),this.condition=E}render(E){let S=`if(${this.condition})`+super.render(E);return this.else&&(S+="else "+this.else.render(E)),S}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let S=this.else;if(S){const M=S.optimizeNodes();S=this.else=Array.isArray(M)?new c(M):M}if(S)return E===!1?S instanceof h?S:S.nodes:this.nodes.length?this:new h(X(E),S instanceof h?[S]:S.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,S){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(E,S),!!(super.optimizeNames(E,S)||this.else))return this.condition=H(this.condition,E,S),this}get names(){const E=super.names;return G(E,this.condition),this.else&&V(E,this.else.names),E}}h.kind="if";class d extends y{}d.kind="for";class v extends d{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,S){if(super.optimizeNames(E,S))return this.iteration=H(this.iteration,E,S),this}get names(){return V(super.names,this.iteration.names)}}class _ extends d{constructor(E,S,M,B){super(),this.varKind=E,this.name=S,this.from=M,this.to=B}render(E){const S=E.es5?r.varKinds.var:this.varKind,{name:M,from:B,to:q}=this;return`for(${S} ${M}=${B}; ${M}<${q}; ${M}++)`+super.render(E)}get names(){const E=G(super.names,this.from);return G(E,this.to)}}class b extends d{constructor(E,S,M,B){super(),this.loop=E,this.varKind=S,this.name=M,this.iterable=B}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,S){if(super.optimizeNames(E,S))return this.iterable=H(this.iterable,E,S),this}get names(){return V(super.names,this.iterable.names)}}class $ extends y{constructor(E,S,M){super(),this.name=E,this.args=S,this.async=M}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}$.kind="func";class P extends g{render(E){return"return "+super.render(E)}}P.kind="return";class O extends y{render(E){let S="try"+super.render(E);return this.catch&&(S+=this.catch.render(E)),this.finally&&(S+=this.finally.render(E)),S}optimizeNodes(){var E,S;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(S=this.finally)===null||S===void 0||S.optimizeNodes(),this}optimizeNames(E,S){var M,B;return super.optimizeNames(E,S),(M=this.catch)===null||M===void 0||M.optimizeNames(E,S),(B=this.finally)===null||B===void 0||B.optimizeNames(E,S),this}get names(){const E=super.names;return this.catch&&V(E,this.catch.names),this.finally&&V(E,this.finally.names),E}}class N extends y{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}N.kind="catch";class x extends y{render(E){return"finally"+super.render(E)}}x.kind="finally";class R{constructor(E,S={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...S,_n:S.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new w]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,S){const M=this._extScope.value(E,S);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(E,S){return this._extScope.getValue(E,S)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,S,M,B){const q=this._scope.toName(S);return M!==void 0&&B&&(this._constants[q.str]=M),this._leafNode(new o(E,q,M)),q}const(E,S,M){return this._def(r.varKinds.const,E,S,M)}let(E,S,M){return this._def(r.varKinds.let,E,S,M)}var(E,S,M){return this._def(r.varKinds.var,E,S,M)}assign(E,S,M){return this._leafNode(new l(E,S,M))}add(E,S){return this._leafNode(new s(E,e.operators.ADD,S))}code(E){return typeof E=="function"?E():E!==t.nil&&this._leafNode(new m(E)),this}object(...E){const S=["{"];for(const[M,B]of E)S.length>1&&S.push(","),S.push(M),(M!==B||this.opts.es5)&&(S.push(":"),(0,t.addCodeArg)(S,B));return S.push("}"),new t._Code(S)}if(E,S,M){if(this._blockNode(new h(E)),S&&M)this.code(S).else().code(M).endIf();else if(S)this.code(S).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new h(E))}else(){return this._elseNode(new c)}endIf(){return this._endBlockNode(h,c)}_for(E,S){return this._blockNode(E),S&&this.code(S).endFor(),this}for(E,S){return this._for(new v(E),S)}forRange(E,S,M,B,q=this.opts.es5?r.varKinds.var:r.varKinds.let){const ce=this._scope.toName(E);return this._for(new _(q,ce,S,M),()=>B(ce))}forOf(E,S,M,B=r.varKinds.const){const q=this._scope.toName(E);if(this.opts.es5){const ce=S instanceof t.Name?S:this.var("_arr",S);return this.forRange("_i",0,(0,t._)`${ce}.length`,ue=>{this.var(q,(0,t._)`${ce}[${ue}]`),M(q)})}return this._for(new b("of",B,q,S),()=>M(q))}forIn(E,S,M,B=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,t._)`Object.keys(${S})`,M);const q=this._scope.toName(E);return this._for(new b("in",B,q,S),()=>M(q))}endFor(){return this._endBlockNode(d)}label(E){return this._leafNode(new u(E))}break(E){return this._leafNode(new f(E))}return(E){const S=new P;if(this._blockNode(S),this.code(E),S.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(P)}try(E,S,M){if(!S&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const B=new O;if(this._blockNode(B),this.code(E),S){const q=this.name("e");this._currNode=B.catch=new N(q),S(q)}return M&&(this._currNode=B.finally=new x,this.code(M)),this._endBlockNode(N,x)}throw(E){return this._leafNode(new p(E))}block(E,S){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(S),this}endBlock(E){const S=this._blockStarts.pop();if(S===void 0)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-S;if(M<0||E!==void 0&&M!==E)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${E} expected`);return this._nodes.length=S,this}func(E,S=t.nil,M,B){return this._blockNode(new $(E,S,M)),B&&this.code(B).endFunc(),this}endFunc(){return this._endBlockNode($)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,S){const M=this._currNode;if(M instanceof E||S&&M instanceof S)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${S?`${E.kind}/${S.kind}`:E.kind}"`)}_elseNode(E){const S=this._currNode;if(!(S instanceof h))throw new Error('CodeGen: "else" without "if"');return this._currNode=S.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const S=this._nodes;S[S.length-1]=E}}e.CodeGen=R;function V(D,E){for(const S in E)D[S]=(D[S]||0)+(E[S]||0);return D}function G(D,E){return E instanceof t._CodeOrName?V(D,E.names):D}function H(D,E,S){if(D instanceof t.Name)return M(D);if(!B(D))return D;return new t._Code(D._items.reduce((q,ce)=>(ce instanceof t.Name&&(ce=M(ce)),ce instanceof t._Code?q.push(...ce._items):q.push(ce),q),[]));function M(q){const ce=S[q.str];return ce===void 0||E[q.str]!==1?q:(delete E[q.str],ce)}function B(q){return q instanceof t._Code&&q._items.some(ce=>ce instanceof t.Name&&E[ce.str]===1&&S[ce.str]!==void 0)}}function Q(D,E){for(const S in E)D[S]=(D[S]||0)-(E[S]||0)}function X(D){return typeof D=="boolean"||typeof D=="number"||D===null?!D:(0,t._)`!${T(D)}`}e.not=X;const Z=C(e.operators.AND);function J(...D){return D.reduce(Z)}e.and=J;const oe=C(e.operators.OR);function L(...D){return D.reduce(oe)}e.or=L;function C(D){return(E,S)=>E===t.nil?S:S===t.nil?E:(0,t._)`${T(E)} ${D} ${T(S)}`}function T(D){return D instanceof t.Name?D:(0,t._)`(${D})`}}(Wi)),Wi}var ne={},Ts;function fe(){if(Ts)return ne;Ts=1,Object.defineProperty(ne,"__esModule",{value:!0}),ne.checkStrictMode=ne.getErrorPath=ne.Type=ne.useFunc=ne.setEvaluated=ne.evaluatedPropsToName=ne.mergeEvaluated=ne.eachItem=ne.unescapeJsonPointer=ne.escapeJsonPointer=ne.escapeFragment=ne.unescapeFragment=ne.schemaRefOrVal=ne.schemaHasRulesButRef=ne.schemaHasRules=ne.checkUnknownRules=ne.alwaysValidSchema=ne.toHash=void 0;const e=se(),t=yi();function r(b){const $={};for(const P of b)$[P]=!0;return $}ne.toHash=r;function n(b,$){return typeof $=="boolean"?$:Object.keys($).length===0?!0:(a(b,$),!i($,b.self.RULES.all))}ne.alwaysValidSchema=n;function a(b,$=b.schema){const{opts:P,self:O}=b;if(!P.strictSchema||typeof $=="boolean")return;const N=O.RULES.keywords;for(const x in $)N[x]||_(b,`unknown keyword: "${x}"`)}ne.checkUnknownRules=a;function i(b,$){if(typeof b=="boolean")return!b;for(const P in b)if($[P])return!0;return!1}ne.schemaHasRules=i;function o(b,$){if(typeof b=="boolean")return!b;for(const P in b)if(P!=="$ref"&&$.all[P])return!0;return!1}ne.schemaHasRulesButRef=o;function l({topSchemaRef:b,schemaPath:$},P,O,N){if(!N){if(typeof P=="number"||typeof P=="boolean")return P;if(typeof P=="string")return(0,e._)`${P}`}return(0,e._)`${b}${$}${(0,e.getProperty)(O)}`}ne.schemaRefOrVal=l;function s(b){return p(decodeURIComponent(b))}ne.unescapeFragment=s;function u(b){return encodeURIComponent(f(b))}ne.escapeFragment=u;function f(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}ne.escapeJsonPointer=f;function p(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}ne.unescapeJsonPointer=p;function m(b,$){if(Array.isArray(b))for(const P of b)$(P);else $(b)}ne.eachItem=m;function g({mergeNames:b,mergeToName:$,mergeValues:P,resultToName:O}){return(N,x,R,V)=>{const G=R===void 0?x:R instanceof e.Name?(x instanceof e.Name?b(N,x,R):$(N,x,R),R):x instanceof e.Name?($(N,R,x),x):P(x,R);return V===e.Name&&!(G instanceof e.Name)?O(N,G):G}}ne.mergeEvaluated={props:g({mergeNames:(b,$,P)=>b.if((0,e._)`${P} !== true && ${$} !== undefined`,()=>{b.if((0,e._)`${$} === true`,()=>b.assign(P,!0),()=>b.assign(P,(0,e._)`${P} || {}`).code((0,e._)`Object.assign(${P}, ${$})`))}),mergeToName:(b,$,P)=>b.if((0,e._)`${P} !== true`,()=>{$===!0?b.assign(P,!0):(b.assign(P,(0,e._)`${P} || {}`),w(b,P,$))}),mergeValues:(b,$)=>b===!0?!0:{...b,...$},resultToName:y}),items:g({mergeNames:(b,$,P)=>b.if((0,e._)`${P} !== true && ${$} !== undefined`,()=>b.assign(P,(0,e._)`${$} === true ? true : ${P} > ${$} ? ${P} : ${$}`)),mergeToName:(b,$,P)=>b.if((0,e._)`${P} !== true`,()=>b.assign(P,$===!0?!0:(0,e._)`${P} > ${$} ? ${P} : ${$}`)),mergeValues:(b,$)=>b===!0?!0:Math.max(b,$),resultToName:(b,$)=>b.var("items",$)})};function y(b,$){if($===!0)return b.var("props",!0);const P=b.var("props",(0,e._)`{}`);return $!==void 0&&w(b,P,$),P}ne.evaluatedPropsToName=y;function w(b,$,P){Object.keys(P).forEach(O=>b.assign((0,e._)`${$}${(0,e.getProperty)(O)}`,!0))}ne.setEvaluated=w;const c={};function h(b,$){return b.scopeValue("func",{ref:$,code:c[$.code]||(c[$.code]=new t._Code($.code))})}ne.useFunc=h;var d;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(d||(ne.Type=d={}));function v(b,$,P){if(b instanceof e.Name){const O=$===d.Num;return P?O?(0,e._)`"[" + ${b} + "]"`:(0,e._)`"['" + ${b} + "']"`:O?(0,e._)`"/" + ${b}`:(0,e._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return P?(0,e.getProperty)(b).toString():"/"+f(b)}ne.getErrorPath=v;function _(b,$,P=b.opts.strictSchema){if(P){if($=`strict mode: ${$}`,P===!0)throw new Error($);b.self.logger.warn($)}}return ne.checkStrictMode=_,ne}var En={},Rs;function Jt(){if(Rs)return En;Rs=1,Object.defineProperty(En,"__esModule",{value:!0});const e=se(),t={data:new e.Name("data"),valCxt:new e.Name("valCxt"),instancePath:new e.Name("instancePath"),parentData:new e.Name("parentData"),parentDataProperty:new e.Name("parentDataProperty"),rootData:new e.Name("rootData"),dynamicAnchors:new e.Name("dynamicAnchors"),vErrors:new e.Name("vErrors"),errors:new e.Name("errors"),this:new e.Name("this"),self:new e.Name("self"),scope:new e.Name("scope"),json:new e.Name("json"),jsonPos:new e.Name("jsonPos"),jsonLen:new e.Name("jsonLen"),jsonPart:new e.Name("jsonPart")};return En.default=t,En}var js;function Ti(){return js||(js=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.extendErrors=e.resetErrorsCount=e.reportExtraError=e.reportError=e.keyword$DataError=e.keywordError=void 0;const t=se(),r=fe(),n=Jt();e.keywordError={message:({keyword:c})=>(0,t.str)`must pass "${c}" keyword validation`},e.keyword$DataError={message:({keyword:c,schemaType:h})=>h?(0,t.str)`"${c}" keyword must be ${h} ($data)`:(0,t.str)`"${c}" keyword is invalid ($data)`};function a(c,h=e.keywordError,d,v){const{it:_}=c,{gen:b,compositeRule:$,allErrors:P}=_,O=p(c,h,d);v??($||P)?s(b,O):u(_,(0,t._)`[${O}]`)}e.reportError=a;function i(c,h=e.keywordError,d){const{it:v}=c,{gen:_,compositeRule:b,allErrors:$}=v,P=p(c,h,d);s(_,P),b||$||u(v,n.default.vErrors)}e.reportExtraError=i;function o(c,h){c.assign(n.default.errors,h),c.if((0,t._)`${n.default.vErrors} !== null`,()=>c.if(h,()=>c.assign((0,t._)`${n.default.vErrors}.length`,h),()=>c.assign(n.default.vErrors,null)))}e.resetErrorsCount=o;function l({gen:c,keyword:h,schemaValue:d,data:v,errsCount:_,it:b}){if(_===void 0)throw new Error("ajv implementation error");const $=c.name("err");c.forRange("i",_,n.default.errors,P=>{c.const($,(0,t._)`${n.default.vErrors}[${P}]`),c.if((0,t._)`${$}.instancePath === undefined`,()=>c.assign((0,t._)`${$}.instancePath`,(0,t.strConcat)(n.default.instancePath,b.errorPath))),c.assign((0,t._)`${$}.schemaPath`,(0,t.str)`${b.errSchemaPath}/${h}`),b.opts.verbose&&(c.assign((0,t._)`${$}.schema`,d),c.assign((0,t._)`${$}.data`,v))})}e.extendErrors=l;function s(c,h){const d=c.const("err",h);c.if((0,t._)`${n.default.vErrors} === null`,()=>c.assign(n.default.vErrors,(0,t._)`[${d}]`),(0,t._)`${n.default.vErrors}.push(${d})`),c.code((0,t._)`${n.default.errors}++`)}function u(c,h){const{gen:d,validateName:v,schemaEnv:_}=c;_.$async?d.throw((0,t._)`new ${c.ValidationError}(${h})`):(d.assign((0,t._)`${v}.errors`,h),d.return(!1))}const f={keyword:new t.Name("keyword"),schemaPath:new t.Name("schemaPath"),params:new t.Name("params"),propertyName:new t.Name("propertyName"),message:new t.Name("message"),schema:new t.Name("schema"),parentSchema:new t.Name("parentSchema")};function p(c,h,d){const{createErrors:v}=c.it;return v===!1?(0,t._)`{}`:m(c,h,d)}function m(c,h,d={}){const{gen:v,it:_}=c,b=[g(_,d),y(c,d)];return w(c,h,b),v.object(...b)}function g({errorPath:c},{instancePath:h}){const d=h?(0,t.str)`${c}${(0,r.getErrorPath)(h,r.Type.Str)}`:c;return[n.default.instancePath,(0,t.strConcat)(n.default.instancePath,d)]}function y({keyword:c,it:{errSchemaPath:h}},{schemaPath:d,parentSchema:v}){let _=v?h:(0,t.str)`${h}/${c}`;return d&&(_=(0,t.str)`${_}${(0,r.getErrorPath)(d,r.Type.Str)}`),[f.schemaPath,_]}function w(c,{params:h,message:d},v){const{keyword:_,data:b,schemaValue:$,it:P}=c,{opts:O,propertyName:N,topSchemaRef:x,schemaPath:R}=P;v.push([f.keyword,_],[f.params,typeof h=="function"?h(c):h||(0,t._)`{}`]),O.messages&&v.push([f.message,typeof d=="function"?d(c):d]),O.verbose&&v.push([f.schema,$],[f.parentSchema,(0,t._)`${x}${R}`],[n.default.data,b]),N&&v.push([f.propertyName,N])}}(Fi)),Fi}var Ms;function sd(){if(Ms)return Yt;Ms=1,Object.defineProperty(Yt,"__esModule",{value:!0}),Yt.boolOrEmptySchema=Yt.topBoolOrEmptySchema=void 0;const e=Ti(),t=se(),r=Jt(),n={message:"boolean schema is false"};function a(l){const{gen:s,schema:u,validateName:f}=l;u===!1?o(l,!1):typeof u=="object"&&u.$async===!0?s.return(r.default.data):(s.assign((0,t._)`${f}.errors`,null),s.return(!0))}Yt.topBoolOrEmptySchema=a;function i(l,s){const{gen:u,schema:f}=l;f===!1?(u.var(s,!1),o(l)):u.var(s,!0)}Yt.boolOrEmptySchema=i;function o(l,s){const{gen:u,data:f}=l,p={gen:u,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:l};(0,e.reportError)(p,n,void 0,s)}return Yt}var we={},Xt={},Ns;function nl(){if(Ns)return Xt;Ns=1,Object.defineProperty(Xt,"__esModule",{value:!0}),Xt.getRules=Xt.isJSONType=void 0;const e=["string","number","integer","boolean","null","object","array"],t=new Set(e);function r(a){return typeof a=="string"&&t.has(a)}Xt.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return Xt.getRules=n,Xt}var yt={},Is;function il(){if(Is)return yt;Is=1,Object.defineProperty(yt,"__esModule",{value:!0}),yt.shouldUseRule=yt.shouldUseGroup=yt.schemaHasRulesForType=void 0;function e({schema:n,self:a},i){const o=a.RULES.types[i];return o&&o!==!0&&t(n,o)}yt.schemaHasRulesForType=e;function t(n,a){return a.rules.some(i=>r(n,i))}yt.shouldUseGroup=t;function r(n,a){var i;return n[a.keyword]!==void 0||((i=a.definition.implements)===null||i===void 0?void 0:i.some(o=>n[o]!==void 0))}return yt.shouldUseRule=r,yt}var Cs;function Pi(){if(Cs)return we;Cs=1,Object.defineProperty(we,"__esModule",{value:!0}),we.reportTypeError=we.checkDataTypes=we.checkDataType=we.coerceAndCheckDataType=we.getJSONTypes=we.getSchemaTypes=we.DataType=void 0;const e=nl(),t=il(),r=Ti(),n=se(),a=fe();var i;(function(d){d[d.Correct=0]="Correct",d[d.Wrong=1]="Wrong"})(i||(we.DataType=i={}));function o(d){const v=l(d.type);if(v.includes("null")){if(d.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!v.length&&d.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');d.nullable===!0&&v.push("null")}return v}we.getSchemaTypes=o;function l(d){const v=Array.isArray(d)?d:d?[d]:[];if(v.every(e.isJSONType))return v;throw new Error("type must be JSONType or JSONType[]: "+v.join(","))}we.getJSONTypes=l;function s(d,v){const{gen:_,data:b,opts:$}=d,P=f(v,$.coerceTypes),O=v.length>0&&!(P.length===0&&v.length===1&&(0,t.schemaHasRulesForType)(d,v[0]));if(O){const N=y(v,b,$.strictNumbers,i.Wrong);_.if(N,()=>{P.length?p(d,v,P):c(d)})}return O}we.coerceAndCheckDataType=s;const u=new Set(["string","number","integer","boolean","null"]);function f(d,v){return v?d.filter(_=>u.has(_)||v==="array"&&_==="array"):[]}function p(d,v,_){const{gen:b,data:$,opts:P}=d,O=b.let("dataType",(0,n._)`typeof ${$}`),N=b.let("coerced",(0,n._)`undefined`);P.coerceTypes==="array"&&b.if((0,n._)`${O} == 'object' && Array.isArray(${$}) && ${$}.length == 1`,()=>b.assign($,(0,n._)`${$}[0]`).assign(O,(0,n._)`typeof ${$}`).if(y(v,$,P.strictNumbers),()=>b.assign(N,$))),b.if((0,n._)`${N} !== undefined`);for(const R of _)(u.has(R)||R==="array"&&P.coerceTypes==="array")&&x(R);b.else(),c(d),b.endIf(),b.if((0,n._)`${N} !== undefined`,()=>{b.assign($,N),m(d,N)});function x(R){switch(R){case"string":b.elseIf((0,n._)`${O} == "number" || ${O} == "boolean"`).assign(N,(0,n._)`"" + ${$}`).elseIf((0,n._)`${$} === null`).assign(N,(0,n._)`""`);return;case"number":b.elseIf((0,n._)`${O} == "boolean" || ${$} === null
              || (${O} == "string" && ${$} && ${$} == +${$})`).assign(N,(0,n._)`+${$}`);return;case"integer":b.elseIf((0,n._)`${O} === "boolean" || ${$} === null
              || (${O} === "string" && ${$} && ${$} == +${$} && !(${$} % 1))`).assign(N,(0,n._)`+${$}`);return;case"boolean":b.elseIf((0,n._)`${$} === "false" || ${$} === 0 || ${$} === null`).assign(N,!1).elseIf((0,n._)`${$} === "true" || ${$} === 1`).assign(N,!0);return;case"null":b.elseIf((0,n._)`${$} === "" || ${$} === 0 || ${$} === false`),b.assign(N,null);return;case"array":b.elseIf((0,n._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${$} === null`).assign(N,(0,n._)`[${$}]`)}}}function m({gen:d,parentData:v,parentDataProperty:_},b){d.if((0,n._)`${v} !== undefined`,()=>d.assign((0,n._)`${v}[${_}]`,b))}function g(d,v,_,b=i.Correct){const $=b===i.Correct?n.operators.EQ:n.operators.NEQ;let P;switch(d){case"null":return(0,n._)`${v} ${$} null`;case"array":P=(0,n._)`Array.isArray(${v})`;break;case"object":P=(0,n._)`${v} && typeof ${v} == "object" && !Array.isArray(${v})`;break;case"integer":P=O((0,n._)`!(${v} % 1) && !isNaN(${v})`);break;case"number":P=O();break;default:return(0,n._)`typeof ${v} ${$} ${d}`}return b===i.Correct?P:(0,n.not)(P);function O(N=n.nil){return(0,n.and)((0,n._)`typeof ${v} == "number"`,N,_?(0,n._)`isFinite(${v})`:n.nil)}}we.checkDataType=g;function y(d,v,_,b){if(d.length===1)return g(d[0],v,_,b);let $;const P=(0,a.toHash)(d);if(P.array&&P.object){const O=(0,n._)`typeof ${v} != "object"`;$=P.null?O:(0,n._)`!${v} || ${O}`,delete P.null,delete P.array,delete P.object}else $=n.nil;P.number&&delete P.integer;for(const O in P)$=(0,n.and)($,g(O,v,_,b));return $}we.checkDataTypes=y;const w={message:({schema:d})=>`must be ${d}`,params:({schema:d,schemaValue:v})=>typeof d=="string"?(0,n._)`{type: ${d}}`:(0,n._)`{type: ${v}}`};function c(d){const v=h(d);(0,r.reportError)(v,w)}we.reportTypeError=c;function h(d){const{gen:v,data:_,schema:b}=d,$=(0,a.schemaRefOrVal)(d,b,"type");return{gen:v,keyword:"type",data:_,schema:b.type,schemaCode:$,schemaValue:$,parentSchema:b,params:{},it:d}}return we}var Wr={},As;function od(){if(As)return Wr;As=1,Object.defineProperty(Wr,"__esModule",{value:!0}),Wr.assignDefaults=void 0;const e=se(),t=fe();function r(a,i){const{properties:o,items:l}=a.schema;if(i==="object"&&o)for(const s in o)n(a,s,o[s].default);else i==="array"&&Array.isArray(l)&&l.forEach((s,u)=>n(a,u,s.default))}Wr.assignDefaults=r;function n(a,i,o){const{gen:l,compositeRule:s,data:u,opts:f}=a;if(o===void 0)return;const p=(0,e._)`${u}${(0,e.getProperty)(i)}`;if(s){(0,t.checkStrictMode)(a,`default is ignored for: ${p}`);return}let m=(0,e._)`${p} === undefined`;f.useDefaults==="empty"&&(m=(0,e._)`${m} || ${p} === null || ${p} === ""`),l.if(m,(0,e._)`${p} = ${(0,e.stringify)(o)}`)}return Wr}var Xe={},pe={},Ls;function rt(){if(Ls)return pe;Ls=1,Object.defineProperty(pe,"__esModule",{value:!0}),pe.validateUnion=pe.validateArray=pe.usePattern=pe.callValidateCode=pe.schemaProperties=pe.allSchemaProperties=pe.noPropertyInData=pe.propertyInData=pe.isOwnProperty=pe.hasPropFunc=pe.reportMissingProp=pe.checkMissingProp=pe.checkReportMissingProp=void 0;const e=se(),t=fe(),r=Jt(),n=fe();function a(d,v){const{gen:_,data:b,it:$}=d;_.if(f(_,b,v,$.opts.ownProperties),()=>{d.setParams({missingProperty:(0,e._)`${v}`},!0),d.error()})}pe.checkReportMissingProp=a;function i({gen:d,data:v,it:{opts:_}},b,$){return(0,e.or)(...b.map(P=>(0,e.and)(f(d,v,P,_.ownProperties),(0,e._)`${$} = ${P}`)))}pe.checkMissingProp=i;function o(d,v){d.setParams({missingProperty:v},!0),d.error()}pe.reportMissingProp=o;function l(d){return d.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,e._)`Object.prototype.hasOwnProperty`})}pe.hasPropFunc=l;function s(d,v,_){return(0,e._)`${l(d)}.call(${v}, ${_})`}pe.isOwnProperty=s;function u(d,v,_,b){const $=(0,e._)`${v}${(0,e.getProperty)(_)} !== undefined`;return b?(0,e._)`${$} && ${s(d,v,_)}`:$}pe.propertyInData=u;function f(d,v,_,b){const $=(0,e._)`${v}${(0,e.getProperty)(_)} === undefined`;return b?(0,e.or)($,(0,e.not)(s(d,v,_))):$}pe.noPropertyInData=f;function p(d){return d?Object.keys(d).filter(v=>v!=="__proto__"):[]}pe.allSchemaProperties=p;function m(d,v){return p(v).filter(_=>!(0,t.alwaysValidSchema)(d,v[_]))}pe.schemaProperties=m;function g({schemaCode:d,data:v,it:{gen:_,topSchemaRef:b,schemaPath:$,errorPath:P},it:O},N,x,R){const V=R?(0,e._)`${d}, ${v}, ${b}${$}`:v,G=[[r.default.instancePath,(0,e.strConcat)(r.default.instancePath,P)],[r.default.parentData,O.parentData],[r.default.parentDataProperty,O.parentDataProperty],[r.default.rootData,r.default.rootData]];O.opts.dynamicRef&&G.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const H=(0,e._)`${V}, ${_.object(...G)}`;return x!==e.nil?(0,e._)`${N}.call(${x}, ${H})`:(0,e._)`${N}(${H})`}pe.callValidateCode=g;const y=(0,e._)`new RegExp`;function w({gen:d,it:{opts:v}},_){const b=v.unicodeRegExp?"u":"",{regExp:$}=v.code,P=$(_,b);return d.scopeValue("pattern",{key:P.toString(),ref:P,code:(0,e._)`${$.code==="new RegExp"?y:(0,n.useFunc)(d,$)}(${_}, ${b})`})}pe.usePattern=w;function c(d){const{gen:v,data:_,keyword:b,it:$}=d,P=v.name("valid");if($.allErrors){const N=v.let("valid",!0);return O(()=>v.assign(N,!1)),N}return v.var(P,!0),O(()=>v.break()),P;function O(N){const x=v.const("len",(0,e._)`${_}.length`);v.forRange("i",0,x,R=>{d.subschema({keyword:b,dataProp:R,dataPropType:t.Type.Num},P),v.if((0,e.not)(P),N)})}}pe.validateArray=c;function h(d){const{gen:v,schema:_,keyword:b,it:$}=d;if(!Array.isArray(_))throw new Error("ajv implementation error");if(_.some(N=>(0,t.alwaysValidSchema)($,N))&&!$.opts.unevaluated)return;const P=v.let("valid",!1),O=v.name("_valid");v.block(()=>_.forEach((N,x)=>{const R=d.subschema({keyword:b,schemaProp:x,compositeRule:!0},O);v.assign(P,(0,e._)`${P} || ${O}`),d.mergeValidEvaluated(R,O)||v.if((0,e.not)(P))})),d.result(P,()=>d.reset(),()=>d.error(!0))}return pe.validateUnion=h,pe}var qs;function ud(){if(qs)return Xe;qs=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.validateKeywordUsage=Xe.validSchemaType=Xe.funcKeywordCode=Xe.macroKeywordCode=void 0;const e=se(),t=Jt(),r=rt(),n=Ti();function a(m,g){const{gen:y,keyword:w,schema:c,parentSchema:h,it:d}=m,v=g.macro.call(d.self,c,h,d),_=u(y,w,v);d.opts.validateSchema!==!1&&d.self.validateSchema(v,!0);const b=y.name("valid");m.subschema({schema:v,schemaPath:e.nil,errSchemaPath:`${d.errSchemaPath}/${w}`,topSchemaRef:_,compositeRule:!0},b),m.pass(b,()=>m.error(!0))}Xe.macroKeywordCode=a;function i(m,g){var y;const{gen:w,keyword:c,schema:h,parentSchema:d,$data:v,it:_}=m;s(_,g);const b=!v&&g.compile?g.compile.call(_.self,h,d,_):g.validate,$=u(w,c,b),P=w.let("valid");m.block$data(P,O),m.ok((y=g.valid)!==null&&y!==void 0?y:P);function O(){if(g.errors===!1)R(),g.modifying&&o(m),V(()=>m.error());else{const G=g.async?N():x();g.modifying&&o(m),V(()=>l(m,G))}}function N(){const G=w.let("ruleErrs",null);return w.try(()=>R((0,e._)`await `),H=>w.assign(P,!1).if((0,e._)`${H} instanceof ${_.ValidationError}`,()=>w.assign(G,(0,e._)`${H}.errors`),()=>w.throw(H))),G}function x(){const G=(0,e._)`${$}.errors`;return w.assign(G,null),R(e.nil),G}function R(G=g.async?(0,e._)`await `:e.nil){const H=_.opts.passContext?t.default.this:t.default.self,Q=!("compile"in g&&!v||g.schema===!1);w.assign(P,(0,e._)`${G}${(0,r.callValidateCode)(m,$,H,Q)}`,g.modifying)}function V(G){var H;w.if((0,e.not)((H=g.valid)!==null&&H!==void 0?H:P),G)}}Xe.funcKeywordCode=i;function o(m){const{gen:g,data:y,it:w}=m;g.if(w.parentData,()=>g.assign(y,(0,e._)`${w.parentData}[${w.parentDataProperty}]`))}function l(m,g){const{gen:y}=m;y.if((0,e._)`Array.isArray(${g})`,()=>{y.assign(t.default.vErrors,(0,e._)`${t.default.vErrors} === null ? ${g} : ${t.default.vErrors}.concat(${g})`).assign(t.default.errors,(0,e._)`${t.default.vErrors}.length`),(0,n.extendErrors)(m)},()=>m.error())}function s({schemaEnv:m},g){if(g.async&&!m.$async)throw new Error("async keyword in sync schema")}function u(m,g,y){if(y===void 0)throw new Error(`keyword "${g}" failed to compile`);return m.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,e.stringify)(y)})}function f(m,g,y=!1){return!g.length||g.some(w=>w==="array"?Array.isArray(m):w==="object"?m&&typeof m=="object"&&!Array.isArray(m):typeof m==w||y&&typeof m>"u")}Xe.validSchemaType=f;function p({schema:m,opts:g,self:y,errSchemaPath:w},c,h){if(Array.isArray(c.keyword)?!c.keyword.includes(h):c.keyword!==h)throw new Error("ajv implementation error");const d=c.dependencies;if(d!=null&&d.some(v=>!Object.prototype.hasOwnProperty.call(m,v)))throw new Error(`parent schema must have dependencies of ${h}: ${d.join(",")}`);if(c.validateSchema&&!c.validateSchema(m[h])){const v=`keyword "${h}" value is invalid at path "${w}": `+y.errorsText(c.validateSchema.errors);if(g.validateSchema==="log")y.logger.error(v);else throw new Error(v)}}return Xe.validateKeywordUsage=p,Xe}var Pt={},ks;function ld(){if(ks)return Pt;ks=1,Object.defineProperty(Pt,"__esModule",{value:!0}),Pt.extendSubschemaMode=Pt.extendSubschemaData=Pt.getSubschema=void 0;const e=se(),t=fe();function r(i,{keyword:o,schemaProp:l,schema:s,schemaPath:u,errSchemaPath:f,topSchemaRef:p}){if(o!==void 0&&s!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const m=i.schema[o];return l===void 0?{schema:m,schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}`,errSchemaPath:`${i.errSchemaPath}/${o}`}:{schema:m[l],schemaPath:(0,e._)`${i.schemaPath}${(0,e.getProperty)(o)}${(0,e.getProperty)(l)}`,errSchemaPath:`${i.errSchemaPath}/${o}/${(0,t.escapeFragment)(l)}`}}if(s!==void 0){if(u===void 0||f===void 0||p===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:s,schemaPath:u,topSchemaRef:p,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}Pt.getSubschema=r;function n(i,o,{dataProp:l,dataPropType:s,data:u,dataTypes:f,propertyName:p}){if(u!==void 0&&l!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:m}=o;if(l!==void 0){const{errorPath:y,dataPathArr:w,opts:c}=o,h=m.let("data",(0,e._)`${o.data}${(0,e.getProperty)(l)}`,!0);g(h),i.errorPath=(0,e.str)`${y}${(0,t.getErrorPath)(l,s,c.jsPropertySyntax)}`,i.parentDataProperty=(0,e._)`${l}`,i.dataPathArr=[...w,i.parentDataProperty]}if(u!==void 0){const y=u instanceof e.Name?u:m.let("data",u,!0);g(y),p!==void 0&&(i.propertyName=p)}f&&(i.dataTypes=f);function g(y){i.data=y,i.dataLevel=o.dataLevel+1,i.dataTypes=[],o.definedProperties=new Set,i.parentData=o.data,i.dataNames=[...o.dataNames,y]}}Pt.extendSubschemaData=n;function a(i,{jtdDiscriminator:o,jtdMetadata:l,compositeRule:s,createErrors:u,allErrors:f}){s!==void 0&&(i.compositeRule=s),u!==void 0&&(i.createErrors=u),f!==void 0&&(i.allErrors=f),i.jtdDiscriminator=o,i.jtdMetadata=l}return Pt.extendSubschemaMode=a,Pt}var Ee={},Hi,Us;function al(){return Us||(Us=1,Hi=function e(t,r){if(t===r)return!0;if(t&&r&&typeof t=="object"&&typeof r=="object"){if(t.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(t)){if(n=t.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!e(t[a],r[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var o=i[a];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}),Hi}var zi={exports:{}},Fs;function cd(){if(Fs)return zi.exports;Fs=1;var e=zi.exports=function(n,a,i){typeof a=="function"&&(i=a,a={}),i=a.cb||i;var o=typeof i=="function"?i:i.pre||function(){},l=i.post||function(){};t(a,o,l,n,"",n)};e.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},e.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},e.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},e.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function t(n,a,i,o,l,s,u,f,p,m){if(o&&typeof o=="object"&&!Array.isArray(o)){a(o,l,s,u,f,p,m);for(var g in o){var y=o[g];if(Array.isArray(y)){if(g in e.arrayKeywords)for(var w=0;w<y.length;w++)t(n,a,i,y[w],l+"/"+g+"/"+w,s,l,g,o,w)}else if(g in e.propsKeywords){if(y&&typeof y=="object")for(var c in y)t(n,a,i,y[c],l+"/"+g+"/"+r(c),s,l,g,o,c)}else(g in e.keywords||n.allKeys&&!(g in e.skipKeywords))&&t(n,a,i,y,l+"/"+g,s,l,g,o)}i(o,l,s,u,f,p,m)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return zi.exports}var Ws;function Ri(){if(Ws)return Ee;Ws=1,Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.getSchemaRefs=Ee.resolveUrl=Ee.normalizeId=Ee._getFullPath=Ee.getFullPath=Ee.inlineRef=void 0;const e=fe(),t=al(),r=cd(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(w,c=!0){return typeof w=="boolean"?!0:c===!0?!o(w):c?l(w)<=c:!1}Ee.inlineRef=a;const i=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(w){for(const c in w){if(i.has(c))return!0;const h=w[c];if(Array.isArray(h)&&h.some(o)||typeof h=="object"&&o(h))return!0}return!1}function l(w){let c=0;for(const h in w)if(h==="$ref"||(c++,!n.has(h)&&(typeof w[h]=="object"&&(0,e.eachItem)(w[h],d=>c+=l(d)),c===1/0)))return 1/0;return c}function s(w,c="",h){h!==!1&&(c=p(c));const d=w.parse(c);return u(w,d)}Ee.getFullPath=s;function u(w,c){return w.serialize(c).split("#")[0]+"#"}Ee._getFullPath=u;const f=/#\/?$/;function p(w){return w?w.replace(f,""):""}Ee.normalizeId=p;function m(w,c,h){return h=p(h),w.resolve(c,h)}Ee.resolveUrl=m;const g=/^[a-z_][-a-z0-9._]*$/i;function y(w,c){if(typeof w=="boolean")return{};const{schemaId:h,uriResolver:d}=this.opts,v=p(w[h]||c),_={"":v},b=s(d,v,!1),$={},P=new Set;return r(w,{allKeys:!0},(x,R,V,G)=>{if(G===void 0)return;const H=b+R;let Q=_[G];typeof x[h]=="string"&&(Q=X.call(this,x[h])),Z.call(this,x.$anchor),Z.call(this,x.$dynamicAnchor),_[R]=Q;function X(J){const oe=this.opts.uriResolver.resolve;if(J=p(Q?oe(Q,J):J),P.has(J))throw N(J);P.add(J);let L=this.refs[J];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?O(x,L.schema,J):J!==p(H)&&(J[0]==="#"?(O(x,$[J],J),$[J]=x):this.refs[J]=H),J}function Z(J){if(typeof J=="string"){if(!g.test(J))throw new Error(`invalid anchor "${J}"`);X.call(this,`#${J}`)}}}),$;function O(x,R,V){if(R!==void 0&&!t(x,R))throw N(V)}function N(x){return new Error(`reference "${x}" resolves to more than one schema`)}}return Ee.getSchemaRefs=y,Ee}var Vs;function ji(){if(Vs)return _t;Vs=1,Object.defineProperty(_t,"__esModule",{value:!0}),_t.getData=_t.KeywordCxt=_t.validateFunctionCode=void 0;const e=sd(),t=Pi(),r=il(),n=Pi(),a=od(),i=ud(),o=ld(),l=se(),s=Jt(),u=Ri(),f=fe(),p=Ti();function m(k){if(b(k)&&(P(k),_(k))){c(k);return}g(k,()=>(0,e.topBoolOrEmptySchema)(k))}_t.validateFunctionCode=m;function g({gen:k,validateName:I,schema:A,schemaEnv:F,opts:Y},ae){Y.code.es5?k.func(I,(0,l._)`${s.default.data}, ${s.default.valCxt}`,F.$async,()=>{k.code((0,l._)`"use strict"; ${d(A,Y)}`),w(k,Y),k.code(ae)}):k.func(I,(0,l._)`${s.default.data}, ${y(Y)}`,F.$async,()=>k.code(d(A,Y)).code(ae))}function y(k){return(0,l._)`{${s.default.instancePath}="", ${s.default.parentData}, ${s.default.parentDataProperty}, ${s.default.rootData}=${s.default.data}${k.dynamicRef?(0,l._)`, ${s.default.dynamicAnchors}={}`:l.nil}}={}`}function w(k,I){k.if(s.default.valCxt,()=>{k.var(s.default.instancePath,(0,l._)`${s.default.valCxt}.${s.default.instancePath}`),k.var(s.default.parentData,(0,l._)`${s.default.valCxt}.${s.default.parentData}`),k.var(s.default.parentDataProperty,(0,l._)`${s.default.valCxt}.${s.default.parentDataProperty}`),k.var(s.default.rootData,(0,l._)`${s.default.valCxt}.${s.default.rootData}`),I.dynamicRef&&k.var(s.default.dynamicAnchors,(0,l._)`${s.default.valCxt}.${s.default.dynamicAnchors}`)},()=>{k.var(s.default.instancePath,(0,l._)`""`),k.var(s.default.parentData,(0,l._)`undefined`),k.var(s.default.parentDataProperty,(0,l._)`undefined`),k.var(s.default.rootData,s.default.data),I.dynamicRef&&k.var(s.default.dynamicAnchors,(0,l._)`{}`)})}function c(k){const{schema:I,opts:A,gen:F}=k;g(k,()=>{A.$comment&&I.$comment&&G(k),x(k),F.let(s.default.vErrors,null),F.let(s.default.errors,0),A.unevaluated&&h(k),O(k),H(k)})}function h(k){const{gen:I,validateName:A}=k;k.evaluated=I.const("evaluated",(0,l._)`${A}.evaluated`),I.if((0,l._)`${k.evaluated}.dynamicProps`,()=>I.assign((0,l._)`${k.evaluated}.props`,(0,l._)`undefined`)),I.if((0,l._)`${k.evaluated}.dynamicItems`,()=>I.assign((0,l._)`${k.evaluated}.items`,(0,l._)`undefined`))}function d(k,I){const A=typeof k=="object"&&k[I.schemaId];return A&&(I.code.source||I.code.process)?(0,l._)`/*# sourceURL=${A} */`:l.nil}function v(k,I){if(b(k)&&(P(k),_(k))){$(k,I);return}(0,e.boolOrEmptySchema)(k,I)}function _({schema:k,self:I}){if(typeof k=="boolean")return!k;for(const A in k)if(I.RULES.all[A])return!0;return!1}function b(k){return typeof k.schema!="boolean"}function $(k,I){const{schema:A,gen:F,opts:Y}=k;Y.$comment&&A.$comment&&G(k),R(k),V(k);const ae=F.const("_errs",s.default.errors);O(k,ae),F.var(I,(0,l._)`${ae} === ${s.default.errors}`)}function P(k){(0,f.checkUnknownRules)(k),N(k)}function O(k,I){if(k.opts.jtd)return X(k,[],!1,I);const A=(0,t.getSchemaTypes)(k.schema),F=(0,t.coerceAndCheckDataType)(k,A);X(k,A,!F,I)}function N(k){const{schema:I,errSchemaPath:A,opts:F,self:Y}=k;I.$ref&&F.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(I,Y.RULES)&&Y.logger.warn(`$ref: keywords ignored in schema at path "${A}"`)}function x(k){const{schema:I,opts:A}=k;I.default!==void 0&&A.useDefaults&&A.strictSchema&&(0,f.checkStrictMode)(k,"default is ignored in the schema root")}function R(k){const I=k.schema[k.opts.schemaId];I&&(k.baseId=(0,u.resolveUrl)(k.opts.uriResolver,k.baseId,I))}function V(k){if(k.schema.$async&&!k.schemaEnv.$async)throw new Error("async schema in sync schema")}function G({gen:k,schemaEnv:I,schema:A,errSchemaPath:F,opts:Y}){const ae=A.$comment;if(Y.$comment===!0)k.code((0,l._)`${s.default.self}.logger.log(${ae})`);else if(typeof Y.$comment=="function"){const ye=(0,l.str)`${F}/$comment`,Be=k.scopeValue("root",{ref:I.root});k.code((0,l._)`${s.default.self}.opts.$comment(${ae}, ${ye}, ${Be}.schema)`)}}function H(k){const{gen:I,schemaEnv:A,validateName:F,ValidationError:Y,opts:ae}=k;A.$async?I.if((0,l._)`${s.default.errors} === 0`,()=>I.return(s.default.data),()=>I.throw((0,l._)`new ${Y}(${s.default.vErrors})`)):(I.assign((0,l._)`${F}.errors`,s.default.vErrors),ae.unevaluated&&Q(k),I.return((0,l._)`${s.default.errors} === 0`))}function Q({gen:k,evaluated:I,props:A,items:F}){A instanceof l.Name&&k.assign((0,l._)`${I}.props`,A),F instanceof l.Name&&k.assign((0,l._)`${I}.items`,F)}function X(k,I,A,F){const{gen:Y,schema:ae,data:ye,allErrors:Be,opts:je,self:ke}=k,{RULES:Pe}=ke;if(ae.$ref&&(je.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(ae,Pe))){Y.block(()=>B(k,"$ref",Pe.all.$ref.definition));return}je.jtd||J(k,I),Y.block(()=>{for(const Me of Pe.rules)lr(Me);lr(Pe.post)});function lr(Me){(0,r.shouldUseGroup)(ae,Me)&&(Me.type?(Y.if((0,n.checkDataType)(Me.type,ye,je.strictNumbers)),Z(k,Me),I.length===1&&I[0]===Me.type&&A&&(Y.else(),(0,n.reportTypeError)(k)),Y.endIf()):Z(k,Me),Be||Y.if((0,l._)`${s.default.errors} === ${F||0}`))}}function Z(k,I){const{gen:A,schema:F,opts:{useDefaults:Y}}=k;Y&&(0,a.assignDefaults)(k,I.type),A.block(()=>{for(const ae of I.rules)(0,r.shouldUseRule)(F,ae)&&B(k,ae.keyword,ae.definition,I.type)})}function J(k,I){k.schemaEnv.meta||!k.opts.strictTypes||(oe(k,I),k.opts.allowUnionTypes||L(k,I),C(k,k.dataTypes))}function oe(k,I){if(I.length){if(!k.dataTypes.length){k.dataTypes=I;return}I.forEach(A=>{D(k.dataTypes,A)||S(k,`type "${A}" not allowed by context "${k.dataTypes.join(",")}"`)}),E(k,I)}}function L(k,I){I.length>1&&!(I.length===2&&I.includes("null"))&&S(k,"use allowUnionTypes to allow union type keyword")}function C(k,I){const A=k.self.RULES.all;for(const F in A){const Y=A[F];if(typeof Y=="object"&&(0,r.shouldUseRule)(k.schema,Y)){const{type:ae}=Y.definition;ae.length&&!ae.some(ye=>T(I,ye))&&S(k,`missing type "${ae.join(",")}" for keyword "${F}"`)}}}function T(k,I){return k.includes(I)||I==="number"&&k.includes("integer")}function D(k,I){return k.includes(I)||I==="integer"&&k.includes("number")}function E(k,I){const A=[];for(const F of k.dataTypes)D(I,F)?A.push(F):I.includes("integer")&&F==="number"&&A.push("integer");k.dataTypes=A}function S(k,I){const A=k.schemaEnv.baseId+k.errSchemaPath;I+=` at "${A}" (strictTypes)`,(0,f.checkStrictMode)(k,I,k.opts.strictTypes)}class M{constructor(I,A,F){if((0,i.validateKeywordUsage)(I,A,F),this.gen=I.gen,this.allErrors=I.allErrors,this.keyword=F,this.data=I.data,this.schema=I.schema[F],this.$data=A.$data&&I.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(I,this.schema,F,this.$data),this.schemaType=A.schemaType,this.parentSchema=I.schema,this.params={},this.it=I,this.def=A,this.$data)this.schemaCode=I.gen.const("vSchema",ue(this.$data,I));else if(this.schemaCode=this.schemaValue,!(0,i.validSchemaType)(this.schema,A.schemaType,A.allowUndefined))throw new Error(`${F} value must be ${JSON.stringify(A.schemaType)}`);("code"in A?A.trackErrors:A.errors!==!1)&&(this.errsCount=I.gen.const("_errs",s.default.errors))}result(I,A,F){this.failResult((0,l.not)(I),A,F)}failResult(I,A,F){this.gen.if(I),F?F():this.error(),A?(this.gen.else(),A(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(I,A){this.failResult((0,l.not)(I),void 0,A)}fail(I){if(I===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(I),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(I){if(!this.$data)return this.fail(I);const{schemaCode:A}=this;this.fail((0,l._)`${A} !== undefined && (${(0,l.or)(this.invalid$data(),I)})`)}error(I,A,F){if(A){this.setParams(A),this._error(I,F),this.setParams({});return}this._error(I,F)}_error(I,A){(I?p.reportExtraError:p.reportError)(this,this.def.error,A)}$dataError(){(0,p.reportError)(this,this.def.$dataError||p.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,p.resetErrorsCount)(this.gen,this.errsCount)}ok(I){this.allErrors||this.gen.if(I)}setParams(I,A){A?Object.assign(this.params,I):this.params=I}block$data(I,A,F=l.nil){this.gen.block(()=>{this.check$data(I,F),A()})}check$data(I=l.nil,A=l.nil){if(!this.$data)return;const{gen:F,schemaCode:Y,schemaType:ae,def:ye}=this;F.if((0,l.or)((0,l._)`${Y} === undefined`,A)),I!==l.nil&&F.assign(I,!0),(ae.length||ye.validateSchema)&&(F.elseIf(this.invalid$data()),this.$dataError(),I!==l.nil&&F.assign(I,!1)),F.else()}invalid$data(){const{gen:I,schemaCode:A,schemaType:F,def:Y,it:ae}=this;return(0,l.or)(ye(),Be());function ye(){if(F.length){if(!(A instanceof l.Name))throw new Error("ajv implementation error");const je=Array.isArray(F)?F:[F];return(0,l._)`${(0,n.checkDataTypes)(je,A,ae.opts.strictNumbers,n.DataType.Wrong)}`}return l.nil}function Be(){if(Y.validateSchema){const je=I.scopeValue("validate$data",{ref:Y.validateSchema});return(0,l._)`!${je}(${A})`}return l.nil}}subschema(I,A){const F=(0,o.getSubschema)(this.it,I);(0,o.extendSubschemaData)(F,this.it,I),(0,o.extendSubschemaMode)(F,I);const Y={...this.it,...F,items:void 0,props:void 0};return v(Y,A),Y}mergeEvaluated(I,A){const{it:F,gen:Y}=this;F.opts.unevaluated&&(F.props!==!0&&I.props!==void 0&&(F.props=f.mergeEvaluated.props(Y,I.props,F.props,A)),F.items!==!0&&I.items!==void 0&&(F.items=f.mergeEvaluated.items(Y,I.items,F.items,A)))}mergeValidEvaluated(I,A){const{it:F,gen:Y}=this;if(F.opts.unevaluated&&(F.props!==!0||F.items!==!0))return Y.if(A,()=>this.mergeEvaluated(I,l.Name)),!0}}_t.KeywordCxt=M;function B(k,I,A,F){const Y=new M(k,A,I);"code"in A?A.code(Y,F):Y.$data&&A.validate?(0,i.funcKeywordCode)(Y,A):"macro"in A?(0,i.macroKeywordCode)(Y,A):(A.compile||A.validate)&&(0,i.funcKeywordCode)(Y,A)}const q=/^\/(?:[^~]|~0|~1)*$/,ce=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ue(k,{dataLevel:I,dataNames:A,dataPathArr:F}){let Y,ae;if(k==="")return s.default.rootData;if(k[0]==="/"){if(!q.test(k))throw new Error(`Invalid JSON-pointer: ${k}`);Y=k,ae=s.default.rootData}else{const ke=ce.exec(k);if(!ke)throw new Error(`Invalid JSON-pointer: ${k}`);const Pe=+ke[1];if(Y=ke[2],Y==="#"){if(Pe>=I)throw new Error(je("property/index",Pe));return F[I-Pe]}if(Pe>I)throw new Error(je("data",Pe));if(ae=A[I-Pe],!Y)return ae}let ye=ae;const Be=Y.split("/");for(const ke of Be)ke&&(ae=(0,l._)`${ae}${(0,l.getProperty)((0,f.unescapeJsonPointer)(ke))}`,ye=(0,l._)`${ye} && ${ae}`);return ye;function je(ke,Pe){return`Cannot access ${ke} ${Pe} levels up, current level is ${I}`}}return _t.getData=ue,_t}var Sn={},Gs;function Ea(){if(Gs)return Sn;Gs=1,Object.defineProperty(Sn,"__esModule",{value:!0});class e extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return Sn.default=e,Sn}var Dn={},Hs;function Mi(){if(Hs)return Dn;Hs=1,Object.defineProperty(Dn,"__esModule",{value:!0});const e=Ri();class t extends Error{constructor(n,a,i,o){super(o||`can't resolve reference ${i} from id ${a}`),this.missingRef=(0,e.resolveUrl)(n,a,i),this.missingSchema=(0,e.normalizeId)((0,e.getFullPath)(n,this.missingRef))}}return Dn.default=t,Dn}var Le={},zs;function Sa(){if(zs)return Le;zs=1,Object.defineProperty(Le,"__esModule",{value:!0}),Le.resolveSchema=Le.getCompilingSchema=Le.resolveRef=Le.compileSchema=Le.SchemaEnv=void 0;const e=se(),t=Ea(),r=Jt(),n=Ri(),a=fe(),i=ji();class o{constructor(h){var d;this.refs={},this.dynamicAnchors={};let v;typeof h.schema=="object"&&(v=h.schema),this.schema=h.schema,this.schemaId=h.schemaId,this.root=h.root||this,this.baseId=(d=h.baseId)!==null&&d!==void 0?d:(0,n.normalizeId)(v?.[h.schemaId||"$id"]),this.schemaPath=h.schemaPath,this.localRefs=h.localRefs,this.meta=h.meta,this.$async=v?.$async,this.refs={}}}Le.SchemaEnv=o;function l(c){const h=f.call(this,c);if(h)return h;const d=(0,n.getFullPath)(this.opts.uriResolver,c.root.baseId),{es5:v,lines:_}=this.opts.code,{ownProperties:b}=this.opts,$=new e.CodeGen(this.scope,{es5:v,lines:_,ownProperties:b});let P;c.$async&&(P=$.scopeValue("Error",{ref:t.default,code:(0,e._)`require("ajv/dist/runtime/validation_error").default`}));const O=$.scopeName("validate");c.validateName=O;const N={gen:$,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[e.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:$.scopeValue("schema",this.opts.code.source===!0?{ref:c.schema,code:(0,e.stringify)(c.schema)}:{ref:c.schema}),validateName:O,ValidationError:P,schema:c.schema,schemaEnv:c,rootId:d,baseId:c.baseId||d,schemaPath:e.nil,errSchemaPath:c.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,e._)`""`,opts:this.opts,self:this};let x;try{this._compilations.add(c),(0,i.validateFunctionCode)(N),$.optimize(this.opts.code.optimize);const R=$.toString();x=`${$.scopeRefs(r.default.scope)}return ${R}`,this.opts.code.process&&(x=this.opts.code.process(x,c));const V=new Function(`${r.default.self}`,`${r.default.scope}`,x)(this,this.scope.get());if(this.scope.value(O,{ref:V}),V.errors=null,V.schema=c.schema,V.schemaEnv=c,c.$async&&(V.$async=!0),this.opts.code.source===!0&&(V.source={validateName:O,validateCode:R,scopeValues:$._values}),this.opts.unevaluated){const{props:G,items:H}=N;V.evaluated={props:G instanceof e.Name?void 0:G,items:H instanceof e.Name?void 0:H,dynamicProps:G instanceof e.Name,dynamicItems:H instanceof e.Name},V.source&&(V.source.evaluated=(0,e.stringify)(V.evaluated))}return c.validate=V,c}catch(R){throw delete c.validate,delete c.validateName,x&&this.logger.error("Error compiling schema, function code:",x),R}finally{this._compilations.delete(c)}}Le.compileSchema=l;function s(c,h,d){var v;d=(0,n.resolveUrl)(this.opts.uriResolver,h,d);const _=c.refs[d];if(_)return _;let b=m.call(this,c,d);if(b===void 0){const $=(v=c.localRefs)===null||v===void 0?void 0:v[d],{schemaId:P}=this.opts;$&&(b=new o({schema:$,schemaId:P,root:c,baseId:h}))}if(b!==void 0)return c.refs[d]=u.call(this,b)}Le.resolveRef=s;function u(c){return(0,n.inlineRef)(c.schema,this.opts.inlineRefs)?c.schema:c.validate?c:l.call(this,c)}function f(c){for(const h of this._compilations)if(p(h,c))return h}Le.getCompilingSchema=f;function p(c,h){return c.schema===h.schema&&c.root===h.root&&c.baseId===h.baseId}function m(c,h){let d;for(;typeof(d=this.refs[h])=="string";)h=d;return d||this.schemas[h]||g.call(this,c,h)}function g(c,h){const d=this.opts.uriResolver.parse(h),v=(0,n._getFullPath)(this.opts.uriResolver,d);let _=(0,n.getFullPath)(this.opts.uriResolver,c.baseId,void 0);if(Object.keys(c.schema).length>0&&v===_)return w.call(this,d,c);const b=(0,n.normalizeId)(v),$=this.refs[b]||this.schemas[b];if(typeof $=="string"){const P=g.call(this,c,$);return typeof P?.schema!="object"?void 0:w.call(this,d,P)}if(typeof $?.schema=="object"){if($.validate||l.call(this,$),b===(0,n.normalizeId)(h)){const{schema:P}=$,{schemaId:O}=this.opts,N=P[O];return N&&(_=(0,n.resolveUrl)(this.opts.uriResolver,_,N)),new o({schema:P,schemaId:O,root:c,baseId:_})}return w.call(this,d,$)}}Le.resolveSchema=g;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function w(c,{baseId:h,schema:d,root:v}){var _;if(((_=c.fragment)===null||_===void 0?void 0:_[0])!=="/")return;for(const P of c.fragment.slice(1).split("/")){if(typeof d=="boolean")return;const O=d[(0,a.unescapeFragment)(P)];if(O===void 0)return;d=O;const N=typeof d=="object"&&d[this.opts.schemaId];!y.has(P)&&N&&(h=(0,n.resolveUrl)(this.opts.uriResolver,h,N))}let b;if(typeof d!="boolean"&&d.$ref&&!(0,a.schemaHasRulesButRef)(d,this.RULES)){const P=(0,n.resolveUrl)(this.opts.uriResolver,h,d.$ref);b=g.call(this,v,P)}const{schemaId:$}=this.opts;if(b=b||new o({schema:d,schemaId:$,root:v,baseId:h}),b.schema!==b.root.schema)return b}return Le}const dd="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",fd="Meta-schema for $data reference (JSON AnySchema extension proposal)",hd="object",md=["$data"],pd={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},vd=!1,gd={$id:dd,description:fd,type:hd,required:md,properties:pd,additionalProperties:vd};var On={},Vr={exports:{}},Ki,Ks;function _d(){return Ks||(Ks=1,Ki={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Ki}var Bi,Bs;function yd(){if(Bs)return Bi;Bs=1;const{HEX:e}=_d(),t=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(w){if(l(w,".")<3)return{host:w,isIPV4:!1};const c=w.match(t)||[],[h]=c;return h?{host:o(h,"."),isIPV4:!0}:{host:w,isIPV4:!1}}function n(w,c=!1){let h="",d=!0;for(const v of w){if(e[v]===void 0)return;v!=="0"&&d===!0&&(d=!1),d||(h+=v)}return c&&h.length===0&&(h="0"),h}function a(w){let c=0;const h={error:!1,address:"",zone:""},d=[],v=[];let _=!1,b=!1,$=!1;function P(){if(v.length){if(_===!1){const O=n(v);if(O!==void 0)d.push(O);else return h.error=!0,!1}v.length=0}return!0}for(let O=0;O<w.length;O++){const N=w[O];if(!(N==="["||N==="]"))if(N===":"){if(b===!0&&($=!0),!P())break;if(c++,d.push(":"),c>7){h.error=!0;break}O-1>=0&&w[O-1]===":"&&(b=!0);continue}else if(N==="%"){if(!P())break;_=!0}else{v.push(N);continue}}return v.length&&(_?h.zone=v.join(""):$?d.push(v.join("")):d.push(n(v))),h.address=d.join(""),h}function i(w){if(l(w,":")<2)return{host:w,isIPV6:!1};const c=a(w);if(c.error)return{host:w,isIPV6:!1};{let h=c.address,d=c.address;return c.zone&&(h+="%"+c.zone,d+="%25"+c.zone),{host:h,escapedHost:d,isIPV6:!0}}}function o(w,c){let h="",d=!0;const v=w.length;for(let _=0;_<v;_++){const b=w[_];b==="0"&&d?(_+1<=v&&w[_+1]===c||_+1===v)&&(h+=b,d=!1):(b===c?d=!0:d=!1,h+=b)}return h}function l(w,c){let h=0;for(let d=0;d<w.length;d++)w[d]===c&&h++;return h}const s=/^\.\.?\//u,u=/^\/\.(?:\/|$)/u,f=/^\/\.\.(?:\/|$)/u,p=/^\/?(?:.|\n)*?(?=\/|$)/u;function m(w){const c=[];for(;w.length;)if(w.match(s))w=w.replace(s,"");else if(w.match(u))w=w.replace(u,"/");else if(w.match(f))w=w.replace(f,"/"),c.pop();else if(w==="."||w==="..")w="";else{const h=w.match(p);if(h){const d=h[0];w=w.slice(d.length),c.push(d)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function g(w,c){const h=c!==!0?escape:unescape;return w.scheme!==void 0&&(w.scheme=h(w.scheme)),w.userinfo!==void 0&&(w.userinfo=h(w.userinfo)),w.host!==void 0&&(w.host=h(w.host)),w.path!==void 0&&(w.path=h(w.path)),w.query!==void 0&&(w.query=h(w.query)),w.fragment!==void 0&&(w.fragment=h(w.fragment)),w}function y(w){const c=[];if(w.userinfo!==void 0&&(c.push(w.userinfo),c.push("@")),w.host!==void 0){let h=unescape(w.host);const d=r(h);if(d.isIPV4)h=d.host;else{const v=i(d.host);v.isIPV6===!0?h=`[${v.escapedHost}]`:h=w.host}c.push(h)}return(typeof w.port=="number"||typeof w.port=="string")&&(c.push(":"),c.push(String(w.port))),c.length?c.join(""):void 0}return Bi={recomposeAuthority:y,normalizeComponentEncoding:g,removeDotSegments:m,normalizeIPv4:r,normalizeIPv6:i,stringArrayToHexStripped:n},Bi}var Ji,Js;function Pd(){if(Js)return Ji;Js=1;const e=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,t=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(c){return typeof c.secure=="boolean"?c.secure:String(c.scheme).toLowerCase()==="wss"}function n(c){return c.host||(c.error=c.error||"HTTP URIs must have a host."),c}function a(c){const h=String(c.scheme).toLowerCase()==="https";return(c.port===(h?443:80)||c.port==="")&&(c.port=void 0),c.path||(c.path="/"),c}function i(c){return c.secure=r(c),c.resourceName=(c.path||"/")+(c.query?"?"+c.query:""),c.path=void 0,c.query=void 0,c}function o(c){if((c.port===(r(c)?443:80)||c.port==="")&&(c.port=void 0),typeof c.secure=="boolean"&&(c.scheme=c.secure?"wss":"ws",c.secure=void 0),c.resourceName){const[h,d]=c.resourceName.split("?");c.path=h&&h!=="/"?h:void 0,c.query=d,c.resourceName=void 0}return c.fragment=void 0,c}function l(c,h){if(!c.path)return c.error="URN can not be parsed",c;const d=c.path.match(t);if(d){const v=h.scheme||c.scheme||"urn";c.nid=d[1].toLowerCase(),c.nss=d[2];const _=`${v}:${h.nid||c.nid}`,b=w[_];c.path=void 0,b&&(c=b.parse(c,h))}else c.error=c.error||"URN can not be parsed.";return c}function s(c,h){const d=h.scheme||c.scheme||"urn",v=c.nid.toLowerCase(),_=`${d}:${h.nid||v}`,b=w[_];b&&(c=b.serialize(c,h));const $=c,P=c.nss;return $.path=`${v||h.nid}:${P}`,h.skipEscape=!0,$}function u(c,h){const d=c;return d.uuid=d.nss,d.nss=void 0,!h.tolerant&&(!d.uuid||!e.test(d.uuid))&&(d.error=d.error||"UUID is not valid."),d}function f(c){const h=c;return h.nss=(c.uuid||"").toLowerCase(),h}const p={scheme:"http",domainHost:!0,parse:n,serialize:a},m={scheme:"https",domainHost:p.domainHost,parse:n,serialize:a},g={scheme:"ws",domainHost:!0,parse:i,serialize:o},y={scheme:"wss",domainHost:g.domainHost,parse:g.parse,serialize:g.serialize},w={http:p,https:m,ws:g,wss:y,urn:{scheme:"urn",parse:l,serialize:s,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:u,serialize:f,skipNormalize:!0}};return Ji=w,Ji}var Ys;function wd(){if(Ys)return Vr.exports;Ys=1;const{normalizeIPv6:e,normalizeIPv4:t,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:a}=yd(),i=Pd();function o(c,h){return typeof c=="string"?c=f(y(c,h),h):typeof c=="object"&&(c=y(f(c,h),h)),c}function l(c,h,d){const v=Object.assign({scheme:"null"},d),_=s(y(c,v),y(h,v),v,!0);return f(_,{...v,skipEscape:!0})}function s(c,h,d,v){const _={};return v||(c=y(f(c,d),d),h=y(f(h,d),d)),d=d||{},!d.tolerant&&h.scheme?(_.scheme=h.scheme,_.userinfo=h.userinfo,_.host=h.host,_.port=h.port,_.path=r(h.path||""),_.query=h.query):(h.userinfo!==void 0||h.host!==void 0||h.port!==void 0?(_.userinfo=h.userinfo,_.host=h.host,_.port=h.port,_.path=r(h.path||""),_.query=h.query):(h.path?(h.path.charAt(0)==="/"?_.path=r(h.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?_.path="/"+h.path:c.path?_.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+h.path:_.path=h.path,_.path=r(_.path)),_.query=h.query):(_.path=c.path,h.query!==void 0?_.query=h.query:_.query=c.query),_.userinfo=c.userinfo,_.host=c.host,_.port=c.port),_.scheme=c.scheme),_.fragment=h.fragment,_}function u(c,h,d){return typeof c=="string"?(c=unescape(c),c=f(a(y(c,d),!0),{...d,skipEscape:!0})):typeof c=="object"&&(c=f(a(c,!0),{...d,skipEscape:!0})),typeof h=="string"?(h=unescape(h),h=f(a(y(h,d),!0),{...d,skipEscape:!0})):typeof h=="object"&&(h=f(a(h,!0),{...d,skipEscape:!0})),c.toLowerCase()===h.toLowerCase()}function f(c,h){const d={host:c.host,scheme:c.scheme,userinfo:c.userinfo,port:c.port,path:c.path,query:c.query,nid:c.nid,nss:c.nss,uuid:c.uuid,fragment:c.fragment,reference:c.reference,resourceName:c.resourceName,secure:c.secure,error:""},v=Object.assign({},h),_=[],b=i[(v.scheme||d.scheme||"").toLowerCase()];b&&b.serialize&&b.serialize(d,v),d.path!==void 0&&(v.skipEscape?d.path=unescape(d.path):(d.path=escape(d.path),d.scheme!==void 0&&(d.path=d.path.split("%3A").join(":")))),v.reference!=="suffix"&&d.scheme&&_.push(d.scheme,":");const $=n(d);if($!==void 0&&(v.reference!=="suffix"&&_.push("//"),_.push($),d.path&&d.path.charAt(0)!=="/"&&_.push("/")),d.path!==void 0){let P=d.path;!v.absolutePath&&(!b||!b.absolutePath)&&(P=r(P)),$===void 0&&(P=P.replace(/^\/\//u,"/%2F")),_.push(P)}return d.query!==void 0&&_.push("?",d.query),d.fragment!==void 0&&_.push("#",d.fragment),_.join("")}const p=Array.from({length:127},(c,h)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(h)));function m(c){let h=0;for(let d=0,v=c.length;d<v;++d)if(h=c.charCodeAt(d),h>126||p[h])return!0;return!1}const g=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function y(c,h){const d=Object.assign({},h),v={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},_=c.indexOf("%")!==-1;let b=!1;d.reference==="suffix"&&(c=(d.scheme?d.scheme+":":"")+"//"+c);const $=c.match(g);if($){if(v.scheme=$[1],v.userinfo=$[3],v.host=$[4],v.port=parseInt($[5],10),v.path=$[6]||"",v.query=$[7],v.fragment=$[8],isNaN(v.port)&&(v.port=$[5]),v.host){const O=t(v.host);if(O.isIPV4===!1){const N=e(O.host);v.host=N.host.toLowerCase(),b=N.isIPV6}else v.host=O.host,b=!0}v.scheme===void 0&&v.userinfo===void 0&&v.host===void 0&&v.port===void 0&&v.query===void 0&&!v.path?v.reference="same-document":v.scheme===void 0?v.reference="relative":v.fragment===void 0?v.reference="absolute":v.reference="uri",d.reference&&d.reference!=="suffix"&&d.reference!==v.reference&&(v.error=v.error||"URI is not a "+d.reference+" reference.");const P=i[(d.scheme||v.scheme||"").toLowerCase()];if(!d.unicodeSupport&&(!P||!P.unicodeSupport)&&v.host&&(d.domainHost||P&&P.domainHost)&&b===!1&&m(v.host))try{v.host=URL.domainToASCII(v.host.toLowerCase())}catch(O){v.error=v.error||"Host's domain name can not be converted to ASCII: "+O}(!P||P&&!P.skipNormalize)&&(_&&v.scheme!==void 0&&(v.scheme=unescape(v.scheme)),_&&v.host!==void 0&&(v.host=unescape(v.host)),v.path&&(v.path=escape(unescape(v.path))),v.fragment&&(v.fragment=encodeURI(decodeURIComponent(v.fragment)))),P&&P.parse&&P.parse(v,d)}else v.error=v.error||"URI can not be parsed.";return v}const w={SCHEMES:i,normalize:o,resolve:l,resolveComponents:s,equal:u,serialize:f,parse:y};return Vr.exports=w,Vr.exports.default=w,Vr.exports.fastUri=w,Vr.exports}var Xs;function bd(){if(Xs)return On;Xs=1,Object.defineProperty(On,"__esModule",{value:!0});const e=wd();return e.code='require("ajv/dist/runtime/uri").default',On.default=e,On}var Qs;function $d(){return Qs||(Qs=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=void 0;var t=ji();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return t.KeywordCxt}});var r=se();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ea(),a=Mi(),i=nl(),o=Sa(),l=se(),s=Ri(),u=Pi(),f=fe(),p=gd,m=bd(),g=(L,C)=>new RegExp(L,C);g.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],w=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),c={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},h={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},d=200;function v(L){var C,T,D,E,S,M,B,q,ce,ue,k,I,A,F,Y,ae,ye,Be,je,ke,Pe,lr,Me,Ci,Ni;const Er=L.strict,Ii=(C=L.code)===null||C===void 0?void 0:C.optimize,Ta=Ii===!0||Ii===void 0?1:Ii||0,Ra=(D=(T=L.code)===null||T===void 0?void 0:T.regExp)!==null&&D!==void 0?D:g,hl=(E=L.uriResolver)!==null&&E!==void 0?E:m.default;return{strictSchema:(M=(S=L.strictSchema)!==null&&S!==void 0?S:Er)!==null&&M!==void 0?M:!0,strictNumbers:(q=(B=L.strictNumbers)!==null&&B!==void 0?B:Er)!==null&&q!==void 0?q:!0,strictTypes:(ue=(ce=L.strictTypes)!==null&&ce!==void 0?ce:Er)!==null&&ue!==void 0?ue:"log",strictTuples:(I=(k=L.strictTuples)!==null&&k!==void 0?k:Er)!==null&&I!==void 0?I:"log",strictRequired:(F=(A=L.strictRequired)!==null&&A!==void 0?A:Er)!==null&&F!==void 0?F:!1,code:L.code?{...L.code,optimize:Ta,regExp:Ra}:{optimize:Ta,regExp:Ra},loopRequired:(Y=L.loopRequired)!==null&&Y!==void 0?Y:d,loopEnum:(ae=L.loopEnum)!==null&&ae!==void 0?ae:d,meta:(ye=L.meta)!==null&&ye!==void 0?ye:!0,messages:(Be=L.messages)!==null&&Be!==void 0?Be:!0,inlineRefs:(je=L.inlineRefs)!==null&&je!==void 0?je:!0,schemaId:(ke=L.schemaId)!==null&&ke!==void 0?ke:"$id",addUsedSchema:(Pe=L.addUsedSchema)!==null&&Pe!==void 0?Pe:!0,validateSchema:(lr=L.validateSchema)!==null&&lr!==void 0?lr:!0,validateFormats:(Me=L.validateFormats)!==null&&Me!==void 0?Me:!0,unicodeRegExp:(Ci=L.unicodeRegExp)!==null&&Ci!==void 0?Ci:!0,int32range:(Ni=L.int32range)!==null&&Ni!==void 0?Ni:!0,uriResolver:hl}}class _{constructor(C={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,C=this.opts={...C,...v(C)};const{es5:T,lines:D}=this.opts.code;this.scope=new l.ValueScope({scope:{},prefixes:w,es5:T,lines:D}),this.logger=V(C.logger);const E=C.validateFormats;C.validateFormats=!1,this.RULES=(0,i.getRules)(),b.call(this,c,C,"NOT SUPPORTED"),b.call(this,h,C,"DEPRECATED","warn"),this._metaOpts=x.call(this),C.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),C.keywords&&N.call(this,C.keywords),typeof C.meta=="object"&&this.addMetaSchema(C.meta),P.call(this),C.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:C,meta:T,schemaId:D}=this.opts;let E=p;D==="id"&&(E={...p},E.id=E.$id,delete E.$id),T&&C&&this.addMetaSchema(E,E[D],!1)}defaultMeta(){const{meta:C,schemaId:T}=this.opts;return this.opts.defaultMeta=typeof C=="object"?C[T]||C:void 0}validate(C,T){let D;if(typeof C=="string"){if(D=this.getSchema(C),!D)throw new Error(`no schema with key or ref "${C}"`)}else D=this.compile(C);const E=D(T);return"$async"in D||(this.errors=D.errors),E}compile(C,T){const D=this._addSchema(C,T);return D.validate||this._compileSchemaEnv(D)}compileAsync(C,T){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:D}=this.opts;return E.call(this,C,T);async function E(ue,k){await S.call(this,ue.$schema);const I=this._addSchema(ue,k);return I.validate||M.call(this,I)}async function S(ue){ue&&!this.getSchema(ue)&&await E.call(this,{$ref:ue},!0)}async function M(ue){try{return this._compileSchemaEnv(ue)}catch(k){if(!(k instanceof a.default))throw k;return B.call(this,k),await q.call(this,k.missingSchema),M.call(this,ue)}}function B({missingSchema:ue,missingRef:k}){if(this.refs[ue])throw new Error(`AnySchema ${ue} is loaded but ${k} cannot be resolved`)}async function q(ue){const k=await ce.call(this,ue);this.refs[ue]||await S.call(this,k.$schema),this.refs[ue]||this.addSchema(k,ue,T)}async function ce(ue){const k=this._loading[ue];if(k)return k;try{return await(this._loading[ue]=D(ue))}finally{delete this._loading[ue]}}}addSchema(C,T,D,E=this.opts.validateSchema){if(Array.isArray(C)){for(const M of C)this.addSchema(M,void 0,D,E);return this}let S;if(typeof C=="object"){const{schemaId:M}=this.opts;if(S=C[M],S!==void 0&&typeof S!="string")throw new Error(`schema ${M} must be string`)}return T=(0,s.normalizeId)(T||S),this._checkUnique(T),this.schemas[T]=this._addSchema(C,D,T,E,!0),this}addMetaSchema(C,T,D=this.opts.validateSchema){return this.addSchema(C,T,!0,D),this}validateSchema(C,T){if(typeof C=="boolean")return!0;let D;if(D=C.$schema,D!==void 0&&typeof D!="string")throw new Error("$schema must be a string");if(D=D||this.opts.defaultMeta||this.defaultMeta(),!D)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(D,C);if(!E&&T){const S="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(S);else throw new Error(S)}return E}getSchema(C){let T;for(;typeof(T=$.call(this,C))=="string";)C=T;if(T===void 0){const{schemaId:D}=this.opts,E=new o.SchemaEnv({schema:{},schemaId:D});if(T=o.resolveSchema.call(this,E,C),!T)return;this.refs[C]=T}return T.validate||this._compileSchemaEnv(T)}removeSchema(C){if(C instanceof RegExp)return this._removeAllSchemas(this.schemas,C),this._removeAllSchemas(this.refs,C),this;switch(typeof C){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const T=$.call(this,C);return typeof T=="object"&&this._cache.delete(T.schema),delete this.schemas[C],delete this.refs[C],this}case"object":{const T=C;this._cache.delete(T);let D=C[this.opts.schemaId];return D&&(D=(0,s.normalizeId)(D),delete this.schemas[D],delete this.refs[D]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(C){for(const T of C)this.addKeyword(T);return this}addKeyword(C,T){let D;if(typeof C=="string")D=C,typeof T=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),T.keyword=D);else if(typeof C=="object"&&T===void 0){if(T=C,D=T.keyword,Array.isArray(D)&&!D.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,D,T),!T)return(0,f.eachItem)(D,S=>Q.call(this,S)),this;Z.call(this,T);const E={...T,type:(0,u.getJSONTypes)(T.type),schemaType:(0,u.getJSONTypes)(T.schemaType)};return(0,f.eachItem)(D,E.type.length===0?S=>Q.call(this,S,E):S=>E.type.forEach(M=>Q.call(this,S,E,M))),this}getKeyword(C){const T=this.RULES.all[C];return typeof T=="object"?T.definition:!!T}removeKeyword(C){const{RULES:T}=this;delete T.keywords[C],delete T.all[C];for(const D of T.rules){const E=D.rules.findIndex(S=>S.keyword===C);E>=0&&D.rules.splice(E,1)}return this}addFormat(C,T){return typeof T=="string"&&(T=new RegExp(T)),this.formats[C]=T,this}errorsText(C=this.errors,{separator:T=", ",dataVar:D="data"}={}){return!C||C.length===0?"No errors":C.map(E=>`${D}${E.instancePath} ${E.message}`).reduce((E,S)=>E+T+S)}$dataMetaSchema(C,T){const D=this.RULES.all;C=JSON.parse(JSON.stringify(C));for(const E of T){const S=E.split("/").slice(1);let M=C;for(const B of S)M=M[B];for(const B in D){const q=D[B];if(typeof q!="object")continue;const{$data:ce}=q.definition,ue=M[B];ce&&ue&&(M[B]=oe(ue))}}return C}_removeAllSchemas(C,T){for(const D in C){const E=C[D];(!T||T.test(D))&&(typeof E=="string"?delete C[D]:E&&!E.meta&&(this._cache.delete(E.schema),delete C[D]))}}_addSchema(C,T,D,E=this.opts.validateSchema,S=this.opts.addUsedSchema){let M;const{schemaId:B}=this.opts;if(typeof C=="object")M=C[B];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof C!="boolean")throw new Error("schema must be object or boolean")}let q=this._cache.get(C);if(q!==void 0)return q;D=(0,s.normalizeId)(M||D);const ce=s.getSchemaRefs.call(this,C,D);return q=new o.SchemaEnv({schema:C,schemaId:B,meta:T,baseId:D,localRefs:ce}),this._cache.set(q.schema,q),S&&!D.startsWith("#")&&(D&&this._checkUnique(D),this.refs[D]=q),E&&this.validateSchema(C,!0),q}_checkUnique(C){if(this.schemas[C]||this.refs[C])throw new Error(`schema with key or id "${C}" already exists`)}_compileSchemaEnv(C){if(C.meta?this._compileMetaSchema(C):o.compileSchema.call(this,C),!C.validate)throw new Error("ajv implementation error");return C.validate}_compileMetaSchema(C){const T=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,C)}finally{this.opts=T}}}_.ValidationError=n.default,_.MissingRefError=a.default,e.default=_;function b(L,C,T,D="error"){for(const E in L){const S=E;S in C&&this.logger[D](`${T}: option ${E}. ${L[S]}`)}}function $(L){return L=(0,s.normalizeId)(L),this.schemas[L]||this.refs[L]}function P(){const L=this.opts.schemas;if(L)if(Array.isArray(L))this.addSchema(L);else for(const C in L)this.addSchema(L[C],C)}function O(){for(const L in this.opts.formats){const C=this.opts.formats[L];C&&this.addFormat(L,C)}}function N(L){if(Array.isArray(L)){this.addVocabulary(L);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const C in L){const T=L[C];T.keyword||(T.keyword=C),this.addKeyword(T)}}function x(){const L={...this.opts};for(const C of y)delete L[C];return L}const R={log(){},warn(){},error(){}};function V(L){if(L===!1)return R;if(L===void 0)return console;if(L.log&&L.warn&&L.error)return L;throw new Error("logger must implement log, warn and error methods")}const G=/^[a-z_$][a-z0-9_$:-]*$/i;function H(L,C){const{RULES:T}=this;if((0,f.eachItem)(L,D=>{if(T.keywords[D])throw new Error(`Keyword ${D} is already defined`);if(!G.test(D))throw new Error(`Keyword ${D} has invalid name`)}),!!C&&C.$data&&!("code"in C||"validate"in C))throw new Error('$data keyword must have "code" or "validate" function')}function Q(L,C,T){var D;const E=C?.post;if(T&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:S}=this;let M=E?S.post:S.rules.find(({type:q})=>q===T);if(M||(M={type:T,rules:[]},S.rules.push(M)),S.keywords[L]=!0,!C)return;const B={keyword:L,definition:{...C,type:(0,u.getJSONTypes)(C.type),schemaType:(0,u.getJSONTypes)(C.schemaType)}};C.before?X.call(this,M,B,C.before):M.rules.push(B),S.all[L]=B,(D=C.implements)===null||D===void 0||D.forEach(q=>this.addKeyword(q))}function X(L,C,T){const D=L.rules.findIndex(E=>E.keyword===T);D>=0?L.rules.splice(D,0,C):(L.rules.push(C),this.logger.warn(`rule ${T} is not defined`))}function Z(L){let{metaSchema:C}=L;C!==void 0&&(L.$data&&this.opts.$data&&(C=oe(C)),L.validateSchema=this.compile(C,!0))}const J={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function oe(L){return{anyOf:[L,J]}}}(Ui)),Ui}var Tn={},Rn={},jn={},Zs;function Ed(){if(Zs)return jn;Zs=1,Object.defineProperty(jn,"__esModule",{value:!0});const e={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return jn.default=e,jn}var Vt={},xs;function Sd(){if(xs)return Vt;xs=1,Object.defineProperty(Vt,"__esModule",{value:!0}),Vt.callRef=Vt.getValidate=void 0;const e=Mi(),t=rt(),r=se(),n=Jt(),a=Sa(),i=fe(),o={keyword:"$ref",schemaType:"string",code(u){const{gen:f,schema:p,it:m}=u,{baseId:g,schemaEnv:y,validateName:w,opts:c,self:h}=m,{root:d}=y;if((p==="#"||p==="#/")&&g===d.baseId)return _();const v=a.resolveRef.call(h,d,g,p);if(v===void 0)throw new e.default(m.opts.uriResolver,g,p);if(v instanceof a.SchemaEnv)return b(v);return $(v);function _(){if(y===d)return s(u,w,y,y.$async);const P=f.scopeValue("root",{ref:d});return s(u,(0,r._)`${P}.validate`,d,d.$async)}function b(P){const O=l(u,P);s(u,O,P,P.$async)}function $(P){const O=f.scopeValue("schema",c.code.source===!0?{ref:P,code:(0,r.stringify)(P)}:{ref:P}),N=f.name("valid"),x=u.subschema({schema:P,dataTypes:[],schemaPath:r.nil,topSchemaRef:O,errSchemaPath:p},N);u.mergeEvaluated(x),u.ok(N)}}};function l(u,f){const{gen:p}=u;return f.validate?p.scopeValue("validate",{ref:f.validate}):(0,r._)`${p.scopeValue("wrapper",{ref:f})}.validate`}Vt.getValidate=l;function s(u,f,p,m){const{gen:g,it:y}=u,{allErrors:w,schemaEnv:c,opts:h}=y,d=h.passContext?n.default.this:r.nil;m?v():_();function v(){if(!c.$async)throw new Error("async schema referenced by sync schema");const P=g.let("valid");g.try(()=>{g.code((0,r._)`await ${(0,t.callValidateCode)(u,f,d)}`),$(f),w||g.assign(P,!0)},O=>{g.if((0,r._)`!(${O} instanceof ${y.ValidationError})`,()=>g.throw(O)),b(O),w||g.assign(P,!1)}),u.ok(P)}function _(){u.result((0,t.callValidateCode)(u,f,d),()=>$(f),()=>b(f))}function b(P){const O=(0,r._)`${P}.errors`;g.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${O} : ${n.default.vErrors}.concat(${O})`),g.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function $(P){var O;if(!y.opts.unevaluated)return;const N=(O=p?.validate)===null||O===void 0?void 0:O.evaluated;if(y.props!==!0)if(N&&!N.dynamicProps)N.props!==void 0&&(y.props=i.mergeEvaluated.props(g,N.props,y.props));else{const x=g.var("props",(0,r._)`${P}.evaluated.props`);y.props=i.mergeEvaluated.props(g,x,y.props,r.Name)}if(y.items!==!0)if(N&&!N.dynamicItems)N.items!==void 0&&(y.items=i.mergeEvaluated.items(g,N.items,y.items));else{const x=g.var("items",(0,r._)`${P}.evaluated.items`);y.items=i.mergeEvaluated.items(g,x,y.items,r.Name)}}}return Vt.callRef=s,Vt.default=o,Vt}var eo;function Dd(){if(eo)return Rn;eo=1,Object.defineProperty(Rn,"__esModule",{value:!0});const e=Ed(),t=Sd(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",e.default,t.default];return Rn.default=r,Rn}var Mn={},Nn={},to;function Od(){if(to)return Nn;to=1,Object.defineProperty(Nn,"__esModule",{value:!0});const e=se(),t=e.operators,r={maximum:{okStr:"<=",ok:t.LTE,fail:t.GT},minimum:{okStr:">=",ok:t.GTE,fail:t.LT},exclusiveMaximum:{okStr:"<",ok:t.LT,fail:t.GTE},exclusiveMinimum:{okStr:">",ok:t.GT,fail:t.LTE}},n={message:({keyword:i,schemaCode:o})=>(0,e.str)`must be ${r[i].okStr} ${o}`,params:({keyword:i,schemaCode:o})=>(0,e._)`{comparison: ${r[i].okStr}, limit: ${o}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(i){const{keyword:o,data:l,schemaCode:s}=i;i.fail$data((0,e._)`${l} ${r[o].fail} ${s} || isNaN(${l})`)}};return Nn.default=a,Nn}var In={},ro;function Td(){if(ro)return In;ro=1,Object.defineProperty(In,"__esModule",{value:!0});const e=se(),t={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must be multiple of ${r}`,params:({schemaCode:r})=>(0,e._)`{multipleOf: ${r}}`},code(r){const{gen:n,data:a,schemaCode:i,it:o}=r,l=o.opts.multipleOfPrecision,s=n.let("res"),u=l?(0,e._)`Math.abs(Math.round(${s}) - ${s}) > 1e-${l}`:(0,e._)`${s} !== parseInt(${s})`;r.fail$data((0,e._)`(${i} === 0 || (${s} = ${a}/${i}, ${u}))`)}};return In.default=t,In}var Cn={},An={},no;function Rd(){if(no)return An;no=1,Object.defineProperty(An,"__esModule",{value:!0});function e(t){const r=t.length;let n=0,a=0,i;for(;a<r;)n++,i=t.charCodeAt(a++),i>=55296&&i<=56319&&a<r&&(i=t.charCodeAt(a),(i&64512)===56320&&a++);return n}return An.default=e,e.code='require("ajv/dist/runtime/ucs2length").default',An}var io;function jd(){if(io)return Cn;io=1,Object.defineProperty(Cn,"__esModule",{value:!0});const e=se(),t=fe(),r=Rd(),n={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:a,schemaCode:i}){const o=a==="maxLength"?"more":"fewer";return(0,e.str)`must NOT have ${o} than ${i} characters`},params:({schemaCode:a})=>(0,e._)`{limit: ${a}}`},code(a){const{keyword:i,data:o,schemaCode:l,it:s}=a,u=i==="maxLength"?e.operators.GT:e.operators.LT,f=s.opts.unicode===!1?(0,e._)`${o}.length`:(0,e._)`${(0,t.useFunc)(a.gen,r.default)}(${o})`;a.fail$data((0,e._)`${f} ${u} ${l}`)}};return Cn.default=n,Cn}var Ln={},ao;function Md(){if(ao)return Ln;ao=1,Object.defineProperty(Ln,"__esModule",{value:!0});const e=rt(),t=se(),r={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match pattern "${n}"`,params:({schemaCode:n})=>(0,t._)`{pattern: ${n}}`},code(n){const{data:a,$data:i,schema:o,schemaCode:l,it:s}=n,u=s.opts.unicodeRegExp?"u":"",f=i?(0,t._)`(new RegExp(${l}, ${u}))`:(0,e.usePattern)(n,o);n.fail$data((0,t._)`!${f}.test(${a})`)}};return Ln.default=r,Ln}var qn={},so;function Nd(){if(so)return qn;so=1,Object.defineProperty(qn,"__esModule",{value:!0});const e=se(),t={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:n}){const a=r==="maxProperties"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${n} properties`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:n,data:a,schemaCode:i}=r,o=n==="maxProperties"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`Object.keys(${a}).length ${o} ${i}`)}};return qn.default=t,qn}var kn={},oo;function Id(){if(oo)return kn;oo=1,Object.defineProperty(kn,"__esModule",{value:!0});const e=rt(),t=se(),r=fe(),n={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:a}})=>(0,t.str)`must have required property '${a}'`,params:({params:{missingProperty:a}})=>(0,t._)`{missingProperty: ${a}}`},code(a){const{gen:i,schema:o,schemaCode:l,data:s,$data:u,it:f}=a,{opts:p}=f;if(!u&&o.length===0)return;const m=o.length>=p.loopRequired;if(f.allErrors?g():y(),p.strictRequired){const h=a.parentSchema.properties,{definedProperties:d}=a.it;for(const v of o)if(h?.[v]===void 0&&!d.has(v)){const _=f.schemaEnv.baseId+f.errSchemaPath,b=`required property "${v}" is not defined at "${_}" (strictRequired)`;(0,r.checkStrictMode)(f,b,f.opts.strictRequired)}}function g(){if(m||u)a.block$data(t.nil,w);else for(const h of o)(0,e.checkReportMissingProp)(a,h)}function y(){const h=i.let("missing");if(m||u){const d=i.let("valid",!0);a.block$data(d,()=>c(h,d)),a.ok(d)}else i.if((0,e.checkMissingProp)(a,o,h)),(0,e.reportMissingProp)(a,h),i.else()}function w(){i.forOf("prop",l,h=>{a.setParams({missingProperty:h}),i.if((0,e.noPropertyInData)(i,s,h,p.ownProperties),()=>a.error())})}function c(h,d){a.setParams({missingProperty:h}),i.forOf(h,l,()=>{i.assign(d,(0,e.propertyInData)(i,s,h,p.ownProperties)),i.if((0,t.not)(d),()=>{a.error(),i.break()})},t.nil)}}};return kn.default=n,kn}var Un={},uo;function Cd(){if(uo)return Un;uo=1,Object.defineProperty(Un,"__esModule",{value:!0});const e=se(),t={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:r,schemaCode:n}){const a=r==="maxItems"?"more":"fewer";return(0,e.str)`must NOT have ${a} than ${n} items`},params:({schemaCode:r})=>(0,e._)`{limit: ${r}}`},code(r){const{keyword:n,data:a,schemaCode:i}=r,o=n==="maxItems"?e.operators.GT:e.operators.LT;r.fail$data((0,e._)`${a}.length ${o} ${i}`)}};return Un.default=t,Un}var Fn={},Wn={},lo;function Da(){if(lo)return Wn;lo=1,Object.defineProperty(Wn,"__esModule",{value:!0});const e=al();return e.code='require("ajv/dist/runtime/equal").default',Wn.default=e,Wn}var co;function Ad(){if(co)return Fn;co=1,Object.defineProperty(Fn,"__esModule",{value:!0});const e=Pi(),t=se(),r=fe(),n=Da(),a={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i,j:o}})=>(0,t.str)`must NOT have duplicate items (items ## ${o} and ${i} are identical)`,params:({params:{i,j:o}})=>(0,t._)`{i: ${i}, j: ${o}}`},code(i){const{gen:o,data:l,$data:s,schema:u,parentSchema:f,schemaCode:p,it:m}=i;if(!s&&!u)return;const g=o.let("valid"),y=f.items?(0,e.getSchemaTypes)(f.items):[];i.block$data(g,w,(0,t._)`${p} === false`),i.ok(g);function w(){const v=o.let("i",(0,t._)`${l}.length`),_=o.let("j");i.setParams({i:v,j:_}),o.assign(g,!0),o.if((0,t._)`${v} > 1`,()=>(c()?h:d)(v,_))}function c(){return y.length>0&&!y.some(v=>v==="object"||v==="array")}function h(v,_){const b=o.name("item"),$=(0,e.checkDataTypes)(y,b,m.opts.strictNumbers,e.DataType.Wrong),P=o.const("indices",(0,t._)`{}`);o.for((0,t._)`;${v}--;`,()=>{o.let(b,(0,t._)`${l}[${v}]`),o.if($,(0,t._)`continue`),y.length>1&&o.if((0,t._)`typeof ${b} == "string"`,(0,t._)`${b} += "_"`),o.if((0,t._)`typeof ${P}[${b}] == "number"`,()=>{o.assign(_,(0,t._)`${P}[${b}]`),i.error(),o.assign(g,!1).break()}).code((0,t._)`${P}[${b}] = ${v}`)})}function d(v,_){const b=(0,r.useFunc)(o,n.default),$=o.name("outer");o.label($).for((0,t._)`;${v}--;`,()=>o.for((0,t._)`${_} = ${v}; ${_}--;`,()=>o.if((0,t._)`${b}(${l}[${v}], ${l}[${_}])`,()=>{i.error(),o.assign(g,!1).break($)})))}}};return Fn.default=a,Fn}var Vn={},fo;function Ld(){if(fo)return Vn;fo=1,Object.defineProperty(Vn,"__esModule",{value:!0});const e=se(),t=fe(),r=Da(),n={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:a})=>(0,e._)`{allowedValue: ${a}}`},code(a){const{gen:i,data:o,$data:l,schemaCode:s,schema:u}=a;l||u&&typeof u=="object"?a.fail$data((0,e._)`!${(0,t.useFunc)(i,r.default)}(${o}, ${s})`):a.fail((0,e._)`${u} !== ${o}`)}};return Vn.default=n,Vn}var Gn={},ho;function qd(){if(ho)return Gn;ho=1,Object.defineProperty(Gn,"__esModule",{value:!0});const e=se(),t=fe(),r=Da(),n={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:a})=>(0,e._)`{allowedValues: ${a}}`},code(a){const{gen:i,data:o,$data:l,schema:s,schemaCode:u,it:f}=a;if(!l&&s.length===0)throw new Error("enum must have non-empty array");const p=s.length>=f.opts.loopEnum;let m;const g=()=>m??(m=(0,t.useFunc)(i,r.default));let y;if(p||l)y=i.let("valid"),a.block$data(y,w);else{if(!Array.isArray(s))throw new Error("ajv implementation error");const h=i.const("vSchema",u);y=(0,e.or)(...s.map((d,v)=>c(h,v)))}a.pass(y);function w(){i.assign(y,!1),i.forOf("v",u,h=>i.if((0,e._)`${g()}(${o}, ${h})`,()=>i.assign(y,!0).break()))}function c(h,d){const v=s[d];return typeof v=="object"&&v!==null?(0,e._)`${g()}(${o}, ${h}[${d}])`:(0,e._)`${o} === ${v}`}}};return Gn.default=n,Gn}var mo;function kd(){if(mo)return Mn;mo=1,Object.defineProperty(Mn,"__esModule",{value:!0});const e=Od(),t=Td(),r=jd(),n=Md(),a=Nd(),i=Id(),o=Cd(),l=Ad(),s=Ld(),u=qd(),f=[e.default,t.default,r.default,n.default,a.default,i.default,o.default,l.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},s.default,u.default];return Mn.default=f,Mn}var Hn={},fr={},po;function sl(){if(po)return fr;po=1,Object.defineProperty(fr,"__esModule",{value:!0}),fr.validateAdditionalItems=void 0;const e=se(),t=fe(),r={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,e.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,e._)`{limit: ${a}}`},code(a){const{parentSchema:i,it:o}=a,{items:l}=i;if(!Array.isArray(l)){(0,t.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}n(a,l)}};function n(a,i){const{gen:o,schema:l,data:s,keyword:u,it:f}=a;f.items=!0;const p=o.const("len",(0,e._)`${s}.length`);if(l===!1)a.setParams({len:i.length}),a.pass((0,e._)`${p} <= ${i.length}`);else if(typeof l=="object"&&!(0,t.alwaysValidSchema)(f,l)){const g=o.var("valid",(0,e._)`${p} <= ${i.length}`);o.if((0,e.not)(g),()=>m(g)),a.ok(g)}function m(g){o.forRange("i",i.length,p,y=>{a.subschema({keyword:u,dataProp:y,dataPropType:t.Type.Num},g),f.allErrors||o.if((0,e.not)(g),()=>o.break())})}}return fr.validateAdditionalItems=n,fr.default=r,fr}var zn={},hr={},vo;function ol(){if(vo)return hr;vo=1,Object.defineProperty(hr,"__esModule",{value:!0}),hr.validateTuple=void 0;const e=se(),t=fe(),r=rt(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(i){const{schema:o,it:l}=i;if(Array.isArray(o))return a(i,"additionalItems",o);l.items=!0,!(0,t.alwaysValidSchema)(l,o)&&i.ok((0,r.validateArray)(i))}};function a(i,o,l=i.schema){const{gen:s,parentSchema:u,data:f,keyword:p,it:m}=i;w(u),m.opts.unevaluated&&l.length&&m.items!==!0&&(m.items=t.mergeEvaluated.items(s,l.length,m.items));const g=s.name("valid"),y=s.const("len",(0,e._)`${f}.length`);l.forEach((c,h)=>{(0,t.alwaysValidSchema)(m,c)||(s.if((0,e._)`${y} > ${h}`,()=>i.subschema({keyword:p,schemaProp:h,dataProp:h},g)),i.ok(g))});function w(c){const{opts:h,errSchemaPath:d}=m,v=l.length,_=v===c.minItems&&(v===c.maxItems||c[o]===!1);if(h.strictTuples&&!_){const b=`"${p}" is ${v}-tuple, but minItems or maxItems/${o} are not specified or different at path "${d}"`;(0,t.checkStrictMode)(m,b,h.strictTuples)}}}return hr.validateTuple=a,hr.default=n,hr}var go;function Ud(){if(go)return zn;go=1,Object.defineProperty(zn,"__esModule",{value:!0});const e=ol(),t={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,e.validateTuple)(r,"items")};return zn.default=t,zn}var Kn={},_o;function Fd(){if(_o)return Kn;_o=1,Object.defineProperty(Kn,"__esModule",{value:!0});const e=se(),t=fe(),r=rt(),n=sl(),a={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:i}})=>(0,e.str)`must NOT have more than ${i} items`,params:({params:{len:i}})=>(0,e._)`{limit: ${i}}`},code(i){const{schema:o,parentSchema:l,it:s}=i,{prefixItems:u}=l;s.items=!0,!(0,t.alwaysValidSchema)(s,o)&&(u?(0,n.validateAdditionalItems)(i,u):i.ok((0,r.validateArray)(i)))}};return Kn.default=a,Kn}var Bn={},yo;function Wd(){if(yo)return Bn;yo=1,Object.defineProperty(Bn,"__esModule",{value:!0});const e=se(),t=fe(),r={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:n,max:a}})=>a===void 0?(0,e.str)`must contain at least ${n} valid item(s)`:(0,e.str)`must contain at least ${n} and no more than ${a} valid item(s)`,params:({params:{min:n,max:a}})=>a===void 0?(0,e._)`{minContains: ${n}}`:(0,e._)`{minContains: ${n}, maxContains: ${a}}`},code(n){const{gen:a,schema:i,parentSchema:o,data:l,it:s}=n;let u,f;const{minContains:p,maxContains:m}=o;s.opts.next?(u=p===void 0?1:p,f=m):u=1;const g=a.const("len",(0,e._)`${l}.length`);if(n.setParams({min:u,max:f}),f===void 0&&u===0){(0,t.checkStrictMode)(s,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(f!==void 0&&u>f){(0,t.checkStrictMode)(s,'"minContains" > "maxContains" is always invalid'),n.fail();return}if((0,t.alwaysValidSchema)(s,i)){let d=(0,e._)`${g} >= ${u}`;f!==void 0&&(d=(0,e._)`${d} && ${g} <= ${f}`),n.pass(d);return}s.items=!0;const y=a.name("valid");f===void 0&&u===1?c(y,()=>a.if(y,()=>a.break())):u===0?(a.let(y,!0),f!==void 0&&a.if((0,e._)`${l}.length > 0`,w)):(a.let(y,!1),w()),n.result(y,()=>n.reset());function w(){const d=a.name("_valid"),v=a.let("count",0);c(d,()=>a.if(d,()=>h(v)))}function c(d,v){a.forRange("i",0,g,_=>{n.subschema({keyword:"contains",dataProp:_,dataPropType:t.Type.Num,compositeRule:!0},d),v()})}function h(d){a.code((0,e._)`${d}++`),f===void 0?a.if((0,e._)`${d} >= ${u}`,()=>a.assign(y,!0).break()):(a.if((0,e._)`${d} > ${f}`,()=>a.assign(y,!1).break()),u===1?a.assign(y,!0):a.if((0,e._)`${d} >= ${u}`,()=>a.assign(y,!0)))}}};return Bn.default=r,Bn}var Yi={},Po;function Vd(){return Po||(Po=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.validateSchemaDeps=e.validatePropertyDeps=e.error=void 0;const t=se(),r=fe(),n=rt();e.error={message:({params:{property:s,depsCount:u,deps:f}})=>{const p=u===1?"property":"properties";return(0,t.str)`must have ${p} ${f} when property ${s} is present`},params:({params:{property:s,depsCount:u,deps:f,missingProperty:p}})=>(0,t._)`{property: ${s},
    missingProperty: ${p},
    depsCount: ${u},
    deps: ${f}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:e.error,code(s){const[u,f]=i(s);o(s,u),l(s,f)}};function i({schema:s}){const u={},f={};for(const p in s){if(p==="__proto__")continue;const m=Array.isArray(s[p])?u:f;m[p]=s[p]}return[u,f]}function o(s,u=s.schema){const{gen:f,data:p,it:m}=s;if(Object.keys(u).length===0)return;const g=f.let("missing");for(const y in u){const w=u[y];if(w.length===0)continue;const c=(0,n.propertyInData)(f,p,y,m.opts.ownProperties);s.setParams({property:y,depsCount:w.length,deps:w.join(", ")}),m.allErrors?f.if(c,()=>{for(const h of w)(0,n.checkReportMissingProp)(s,h)}):(f.if((0,t._)`${c} && (${(0,n.checkMissingProp)(s,w,g)})`),(0,n.reportMissingProp)(s,g),f.else())}}e.validatePropertyDeps=o;function l(s,u=s.schema){const{gen:f,data:p,keyword:m,it:g}=s,y=f.name("valid");for(const w in u)(0,r.alwaysValidSchema)(g,u[w])||(f.if((0,n.propertyInData)(f,p,w,g.opts.ownProperties),()=>{const c=s.subschema({keyword:m,schemaProp:w},y);s.mergeValidEvaluated(c,y)},()=>f.var(y,!0)),s.ok(y))}e.validateSchemaDeps=l,e.default=a}(Yi)),Yi}var Jn={},wo;function Gd(){if(wo)return Jn;wo=1,Object.defineProperty(Jn,"__esModule",{value:!0});const e=se(),t=fe(),r={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:n})=>(0,e._)`{propertyName: ${n.propertyName}}`},code(n){const{gen:a,schema:i,data:o,it:l}=n;if((0,t.alwaysValidSchema)(l,i))return;const s=a.name("valid");a.forIn("key",o,u=>{n.setParams({propertyName:u}),n.subschema({keyword:"propertyNames",data:u,dataTypes:["string"],propertyName:u,compositeRule:!0},s),a.if((0,e.not)(s),()=>{n.error(!0),l.allErrors||a.break()})}),n.ok(s)}};return Jn.default=r,Jn}var Yn={},bo;function ul(){if(bo)return Yn;bo=1,Object.defineProperty(Yn,"__esModule",{value:!0});const e=rt(),t=se(),r=Jt(),n=fe(),a={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:i})=>(0,t._)`{additionalProperty: ${i.additionalProperty}}`},code(i){const{gen:o,schema:l,parentSchema:s,data:u,errsCount:f,it:p}=i;if(!f)throw new Error("ajv implementation error");const{allErrors:m,opts:g}=p;if(p.props=!0,g.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(p,l))return;const y=(0,e.allSchemaProperties)(s.properties),w=(0,e.allSchemaProperties)(s.patternProperties);c(),i.ok((0,t._)`${f} === ${r.default.errors}`);function c(){o.forIn("key",u,b=>{!y.length&&!w.length?v(b):o.if(h(b),()=>v(b))})}function h(b){let $;if(y.length>8){const P=(0,n.schemaRefOrVal)(p,s.properties,"properties");$=(0,e.isOwnProperty)(o,P,b)}else y.length?$=(0,t.or)(...y.map(P=>(0,t._)`${b} === ${P}`)):$=t.nil;return w.length&&($=(0,t.or)($,...w.map(P=>(0,t._)`${(0,e.usePattern)(i,P)}.test(${b})`))),(0,t.not)($)}function d(b){o.code((0,t._)`delete ${u}[${b}]`)}function v(b){if(g.removeAdditional==="all"||g.removeAdditional&&l===!1){d(b);return}if(l===!1){i.setParams({additionalProperty:b}),i.error(),m||o.break();return}if(typeof l=="object"&&!(0,n.alwaysValidSchema)(p,l)){const $=o.name("valid");g.removeAdditional==="failing"?(_(b,$,!1),o.if((0,t.not)($),()=>{i.reset(),d(b)})):(_(b,$),m||o.if((0,t.not)($),()=>o.break()))}}function _(b,$,P){const O={keyword:"additionalProperties",dataProp:b,dataPropType:n.Type.Str};P===!1&&Object.assign(O,{compositeRule:!0,createErrors:!1,allErrors:!1}),i.subschema(O,$)}}};return Yn.default=a,Yn}var Xn={},$o;function Hd(){if($o)return Xn;$o=1,Object.defineProperty(Xn,"__esModule",{value:!0});const e=ji(),t=rt(),r=fe(),n=ul(),a={keyword:"properties",type:"object",schemaType:"object",code(i){const{gen:o,schema:l,parentSchema:s,data:u,it:f}=i;f.opts.removeAdditional==="all"&&s.additionalProperties===void 0&&n.default.code(new e.KeywordCxt(f,n.default,"additionalProperties"));const p=(0,t.allSchemaProperties)(l);for(const c of p)f.definedProperties.add(c);f.opts.unevaluated&&p.length&&f.props!==!0&&(f.props=r.mergeEvaluated.props(o,(0,r.toHash)(p),f.props));const m=p.filter(c=>!(0,r.alwaysValidSchema)(f,l[c]));if(m.length===0)return;const g=o.name("valid");for(const c of m)y(c)?w(c):(o.if((0,t.propertyInData)(o,u,c,f.opts.ownProperties)),w(c),f.allErrors||o.else().var(g,!0),o.endIf()),i.it.definedProperties.add(c),i.ok(g);function y(c){return f.opts.useDefaults&&!f.compositeRule&&l[c].default!==void 0}function w(c){i.subschema({keyword:"properties",schemaProp:c,dataProp:c},g)}}};return Xn.default=a,Xn}var Qn={},Eo;function zd(){if(Eo)return Qn;Eo=1,Object.defineProperty(Qn,"__esModule",{value:!0});const e=rt(),t=se(),r=fe(),n=fe(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(i){const{gen:o,schema:l,data:s,parentSchema:u,it:f}=i,{opts:p}=f,m=(0,e.allSchemaProperties)(l),g=m.filter(_=>(0,r.alwaysValidSchema)(f,l[_]));if(m.length===0||g.length===m.length&&(!f.opts.unevaluated||f.props===!0))return;const y=p.strictSchema&&!p.allowMatchingProperties&&u.properties,w=o.name("valid");f.props!==!0&&!(f.props instanceof t.Name)&&(f.props=(0,n.evaluatedPropsToName)(o,f.props));const{props:c}=f;h();function h(){for(const _ of m)y&&d(_),f.allErrors?v(_):(o.var(w,!0),v(_),o.if(w))}function d(_){for(const b in y)new RegExp(_).test(b)&&(0,r.checkStrictMode)(f,`property ${b} matches pattern ${_} (use allowMatchingProperties)`)}function v(_){o.forIn("key",s,b=>{o.if((0,t._)`${(0,e.usePattern)(i,_)}.test(${b})`,()=>{const $=g.includes(_);$||i.subschema({keyword:"patternProperties",schemaProp:_,dataProp:b,dataPropType:n.Type.Str},w),f.opts.unevaluated&&c!==!0?o.assign((0,t._)`${c}[${b}]`,!0):!$&&!f.allErrors&&o.if((0,t.not)(w),()=>o.break())})})}}};return Qn.default=a,Qn}var Zn={},So;function Kd(){if(So)return Zn;So=1,Object.defineProperty(Zn,"__esModule",{value:!0});const e=fe(),t={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:i}=r;if((0,e.alwaysValidSchema)(i,a)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Zn.default=t,Zn}var xn={},Do;function Bd(){if(Do)return xn;Do=1,Object.defineProperty(xn,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:rt().validateUnion,error:{message:"must match a schema in anyOf"}};return xn.default=e,xn}var ei={},Oo;function Jd(){if(Oo)return ei;Oo=1,Object.defineProperty(ei,"__esModule",{value:!0});const e=se(),t=fe(),r={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:n})=>(0,e._)`{passingSchemas: ${n.passing}}`},code(n){const{gen:a,schema:i,parentSchema:o,it:l}=n;if(!Array.isArray(i))throw new Error("ajv implementation error");if(l.opts.discriminator&&o.discriminator)return;const s=i,u=a.let("valid",!1),f=a.let("passing",null),p=a.name("_valid");n.setParams({passing:f}),a.block(m),n.result(u,()=>n.reset(),()=>n.error(!0));function m(){s.forEach((g,y)=>{let w;(0,t.alwaysValidSchema)(l,g)?a.var(p,!0):w=n.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},p),y>0&&a.if((0,e._)`${p} && ${u}`).assign(u,!1).assign(f,(0,e._)`[${f}, ${y}]`).else(),a.if(p,()=>{a.assign(u,!0),a.assign(f,y),w&&n.mergeEvaluated(w,e.Name)})})}}};return ei.default=r,ei}var ti={},To;function Yd(){if(To)return ti;To=1,Object.defineProperty(ti,"__esModule",{value:!0});const e=fe(),t={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:i}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=n.name("valid");a.forEach((l,s)=>{if((0,e.alwaysValidSchema)(i,l))return;const u=r.subschema({keyword:"allOf",schemaProp:s},o);r.ok(o),r.mergeEvaluated(u)})}};return ti.default=t,ti}var ri={},Ro;function Xd(){if(Ro)return ri;Ro=1,Object.defineProperty(ri,"__esModule",{value:!0});const e=se(),t=fe(),r={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:a})=>(0,e.str)`must match "${a.ifClause}" schema`,params:({params:a})=>(0,e._)`{failingKeyword: ${a.ifClause}}`},code(a){const{gen:i,parentSchema:o,it:l}=a;o.then===void 0&&o.else===void 0&&(0,t.checkStrictMode)(l,'"if" without "then" and "else" is ignored');const s=n(l,"then"),u=n(l,"else");if(!s&&!u)return;const f=i.let("valid",!0),p=i.name("_valid");if(m(),a.reset(),s&&u){const y=i.let("ifClause");a.setParams({ifClause:y}),i.if(p,g("then",y),g("else",y))}else s?i.if(p,g("then")):i.if((0,e.not)(p),g("else"));a.pass(f,()=>a.error(!0));function m(){const y=a.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},p);a.mergeEvaluated(y)}function g(y,w){return()=>{const c=a.subschema({keyword:y},p);i.assign(f,p),a.mergeValidEvaluated(c,f),w?i.assign(w,(0,e._)`${y}`):a.setParams({ifClause:y})}}}};function n(a,i){const o=a.schema[i];return o!==void 0&&!(0,t.alwaysValidSchema)(a,o)}return ri.default=r,ri}var ni={},jo;function Qd(){if(jo)return ni;jo=1,Object.defineProperty(ni,"__esModule",{value:!0});const e=fe(),t={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,e.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return ni.default=t,ni}var Mo;function Zd(){if(Mo)return Hn;Mo=1,Object.defineProperty(Hn,"__esModule",{value:!0});const e=sl(),t=Ud(),r=ol(),n=Fd(),a=Wd(),i=Vd(),o=Gd(),l=ul(),s=Hd(),u=zd(),f=Kd(),p=Bd(),m=Jd(),g=Yd(),y=Xd(),w=Qd();function c(h=!1){const d=[f.default,p.default,m.default,g.default,y.default,w.default,o.default,l.default,i.default,s.default,u.default];return h?d.push(t.default,n.default):d.push(e.default,r.default),d.push(a.default),d}return Hn.default=c,Hn}var ii={},ai={},No;function xd(){if(No)return ai;No=1,Object.defineProperty(ai,"__esModule",{value:!0});const e=se(),t={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:r})=>(0,e.str)`must match format "${r}"`,params:({schemaCode:r})=>(0,e._)`{format: ${r}}`},code(r,n){const{gen:a,data:i,$data:o,schema:l,schemaCode:s,it:u}=r,{opts:f,errSchemaPath:p,schemaEnv:m,self:g}=u;if(!f.validateFormats)return;o?y():w();function y(){const c=a.scopeValue("formats",{ref:g.formats,code:f.code.formats}),h=a.const("fDef",(0,e._)`${c}[${s}]`),d=a.let("fType"),v=a.let("format");a.if((0,e._)`typeof ${h} == "object" && !(${h} instanceof RegExp)`,()=>a.assign(d,(0,e._)`${h}.type || "string"`).assign(v,(0,e._)`${h}.validate`),()=>a.assign(d,(0,e._)`"string"`).assign(v,h)),r.fail$data((0,e.or)(_(),b()));function _(){return f.strictSchema===!1?e.nil:(0,e._)`${s} && !${v}`}function b(){const $=m.$async?(0,e._)`(${h}.async ? await ${v}(${i}) : ${v}(${i}))`:(0,e._)`${v}(${i})`,P=(0,e._)`(typeof ${v} == "function" ? ${$} : ${v}.test(${i}))`;return(0,e._)`${v} && ${v} !== true && ${d} === ${n} && !${P}`}}function w(){const c=g.formats[l];if(!c){_();return}if(c===!0)return;const[h,d,v]=b(c);h===n&&r.pass($());function _(){if(f.strictSchema===!1){g.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${l}" ignored in schema at path "${p}"`}}function b(P){const O=P instanceof RegExp?(0,e.regexpCode)(P):f.code.formats?(0,e._)`${f.code.formats}${(0,e.getProperty)(l)}`:void 0,N=a.scopeValue("formats",{key:l,ref:P,code:O});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,e._)`${N}.validate`]:["string",P,N]}function $(){if(typeof c=="object"&&!(c instanceof RegExp)&&c.async){if(!m.$async)throw new Error("async format in sync schema");return(0,e._)`await ${v}(${i})`}return typeof d=="function"?(0,e._)`${v}(${i})`:(0,e._)`${v}.test(${i})`}}}};return ai.default=t,ai}var Io;function ef(){if(Io)return ii;Io=1,Object.defineProperty(ii,"__esModule",{value:!0});const e=[xd().default];return ii.default=e,ii}var Qt={},Co;function tf(){return Co||(Co=1,Object.defineProperty(Qt,"__esModule",{value:!0}),Qt.contentVocabulary=Qt.metadataVocabulary=void 0,Qt.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Qt.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Qt}var Ao;function rf(){if(Ao)return Tn;Ao=1,Object.defineProperty(Tn,"__esModule",{value:!0});const e=Dd(),t=kd(),r=Zd(),n=ef(),a=tf(),i=[e.default,t.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return Tn.default=i,Tn}var si={},Gr={},Lo;function nf(){if(Lo)return Gr;Lo=1,Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.DiscrError=void 0;var e;return function(t){t.Tag="tag",t.Mapping="mapping"}(e||(Gr.DiscrError=e={})),Gr}var qo;function af(){if(qo)return si;qo=1,Object.defineProperty(si,"__esModule",{value:!0});const e=se(),t=nf(),r=Sa(),n=Mi(),a=fe(),i={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:l}})=>o===t.DiscrError.Tag?`tag "${l}" must be string`:`value of tag "${l}" must be in oneOf`,params:({params:{discrError:o,tag:l,tagName:s}})=>(0,e._)`{error: ${o}, tag: ${s}, tagValue: ${l}}`},code(o){const{gen:l,data:s,schema:u,parentSchema:f,it:p}=o,{oneOf:m}=f;if(!p.opts.discriminator)throw new Error("discriminator: requires discriminator option");const g=u.propertyName;if(typeof g!="string")throw new Error("discriminator: requires propertyName");if(u.mapping)throw new Error("discriminator: mapping is not supported");if(!m)throw new Error("discriminator: requires oneOf keyword");const y=l.let("valid",!1),w=l.const("tag",(0,e._)`${s}${(0,e.getProperty)(g)}`);l.if((0,e._)`typeof ${w} == "string"`,()=>c(),()=>o.error(!1,{discrError:t.DiscrError.Tag,tag:w,tagName:g})),o.ok(y);function c(){const v=d();l.if(!1);for(const _ in v)l.elseIf((0,e._)`${w} === ${_}`),l.assign(y,h(v[_]));l.else(),o.error(!1,{discrError:t.DiscrError.Mapping,tag:w,tagName:g}),l.endIf()}function h(v){const _=l.name("valid"),b=o.subschema({keyword:"oneOf",schemaProp:v},_);return o.mergeEvaluated(b,e.Name),_}function d(){var v;const _={},b=P(f);let $=!0;for(let x=0;x<m.length;x++){let R=m[x];if(R!=null&&R.$ref&&!(0,a.schemaHasRulesButRef)(R,p.self.RULES)){const G=R.$ref;if(R=r.resolveRef.call(p.self,p.schemaEnv.root,p.baseId,G),R instanceof r.SchemaEnv&&(R=R.schema),R===void 0)throw new n.default(p.opts.uriResolver,p.baseId,G)}const V=(v=R?.properties)===null||v===void 0?void 0:v[g];if(typeof V!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${g}"`);$=$&&(b||P(R)),O(V,x)}if(!$)throw new Error(`discriminator: "${g}" must be required`);return _;function P({required:x}){return Array.isArray(x)&&x.includes(g)}function O(x,R){if(x.const)N(x.const,R);else if(x.enum)for(const V of x.enum)N(V,R);else throw new Error(`discriminator: "properties/${g}" must have "const" or "enum"`)}function N(x,R){if(typeof x!="string"||x in _)throw new Error(`discriminator: "${g}" values must be unique strings`);_[x]=R}}}};return si.default=i,si}const sf="http://json-schema.org/draft-07/schema#",of="http://json-schema.org/draft-07/schema#",uf="Core schema meta-schema",lf={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},cf=["object","boolean"],df={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},ff={$schema:sf,$id:of,title:uf,definitions:lf,type:cf,properties:df,default:!0};var ko;function hf(){return ko||(ko=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.MissingRefError=t.ValidationError=t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=t.Ajv=void 0;const r=$d(),n=rf(),a=af(),i=ff,o=["/properties"],l="http://json-schema.org/draft-07/schema";class s extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(i,o):i;this.addMetaSchema(y,l,!1),this.refs["http://json-schema.org/schema"]=l}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(l)?l:void 0)}}t.Ajv=s,e.exports=t=s,e.exports.Ajv=s,Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var u=ji();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var f=se();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var p=Ea();Object.defineProperty(t,"ValidationError",{enumerable:!0,get:function(){return p.default}});var m=Mi();Object.defineProperty(t,"MissingRefError",{enumerable:!0,get:function(){return m.default}})}($n,$n.exports)),$n.exports}var Xi={},Hr={},Uo;function mf(){return Uo||(Uo=1,Object.defineProperty(Hr,"__esModule",{value:!0}),Hr.PluginDefineAttributesSchema=void 0,Hr.PluginDefineAttributesSchema={$id:"WardPluginDefineAttributesSchema",title:"Ward Plugin Defines Attributes",description:"Plugin Define Attributes",type:"object",patternProperties:{"^.*$":{description:"Define Attribute",type:"string",enum:["string","string[]","url","url[]","number","number[]","boolean","boolean[]"]}},additionalProperties:!1}),Hr}var zr={},Fo;function pf(){return Fo||(Fo=1,Object.defineProperty(zr,"__esModule",{value:!0}),zr.PluginDefineElementAttributesSchema=void 0,zr.PluginDefineElementAttributesSchema={$id:"WardPluginDefineElementAttributesSchema",title:"Ward Plugin Define Element Attributes",description:"Plugin Define Element Attributes",type:"object",patternProperties:{"^.*$":{description:"Define Element Attribute",type:["string","number","boolean","array","object"]}},additionalProperties:!1}),zr}var Kr={},Wo;function vf(){return Wo||(Wo=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.PluginDefineElementEventsSchema=void 0,Kr.PluginDefineElementEventsSchema={$id:"WardPluginDefineElementEventsSchema",title:"Ward Plugin Define Element Events",description:"Plugin Define Element Events",type:"object",patternProperties:{"^.*$":{description:"Define Element Event",type:"object"}},additionalProperties:!1}),Kr}var Br={},Vo;function gf(){return Vo||(Vo=1,Object.defineProperty(Br,"__esModule",{value:!0}),Br.PluginDefineElementPropertiesSchema=void 0,Br.PluginDefineElementPropertiesSchema={$id:"WardPluginDefineElementPropertiesSchema",title:"Ward Plugin Define Element Properties",description:"Plugin Define Element Properties",type:"object",patternProperties:{"^.*$":{description:"Define Element Property",type:["string","number","boolean","array","object"]}},additionalProperties:!1}),Br}var Jr={},Go;function _f(){return Go||(Go=1,Object.defineProperty(Jr,"__esModule",{value:!0}),Jr.PluginDefineElementSchema=void 0,Jr.PluginDefineElementSchema={$id:"WardPluginDefineElementSchema",title:"Ward Plugin Define Element",description:"Plugin Define Element",type:"object",properties:{properties:{$ref:"WardPluginDefineElementPropertiesSchema"},attributes:{$ref:"WardPluginDefineElementAttributesSchema"},events:{$ref:"WardPluginDefineElementEventsSchema"}},additionalProperties:!1}),Jr}var Yr={},Ho;function yf(){return Ho||(Ho=1,Object.defineProperty(Yr,"__esModule",{value:!0}),Yr.PluginDefineElementsSchema=void 0,Yr.PluginDefineElementsSchema={$id:"WardPluginDefineElementsSchema",title:"Ward Plugin Define Elements",description:"Plugin Define Elements",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginDefineElementSchema"}},additionalProperties:!1}),Yr}var Xr={},zo;function Pf(){return zo||(zo=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.PluginDefinePropertiesSchema=void 0,Xr.PluginDefinePropertiesSchema={$id:"WardPluginDefinePropertiesSchema",title:"Ward Plugin Define Properties",description:"Plugin Define Properties",type:"object",patternProperties:{"^.*$":{description:"Define Property",type:"string",enum:["string","string[]","url","url[]","number","number[]","boolean","boolean[]"]}},additionalProperties:!1}),Xr}var Qr={},Ko;function wf(){return Ko||(Ko=1,Object.defineProperty(Qr,"__esModule",{value:!0}),Qr.PluginDefineSchema=void 0,Qr.PluginDefineSchema={$id:"WardPluginDefineSchema",title:"Ward Plugin Define",description:"Plugin Define",type:"object",properties:{properties:{$ref:"WardPluginDefinePropertiesSchema"},attributes:{$ref:"WardPluginDefineAttributesSchema"},elements:{$ref:"WardPluginDefineElementsSchema"}},additionalProperties:!1}),Qr}var Zr={},Bo;function bf(){return Bo||(Bo=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.PluginDefinesSchema=void 0,Zr.PluginDefinesSchema={$id:"WardPluginDefinesSchema",title:"Ward Plugin Defines",description:"Plugin Defines",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginDefineSchema"}},additionalProperties:!1}),Zr}var xr={},Jo;function $f(){return Jo||(Jo=1,Object.defineProperty(xr,"__esModule",{value:!0}),xr.PluginProvideAttributesSchema=void 0,xr.PluginProvideAttributesSchema={$id:"WardPluginProvideAttributesSchema",title:"Ward Plugin Provide Attributes",description:"Plugin Provide Attributes",type:"object",patternProperties:{"^.*$":{description:"Provide Attribute",oneOf:[{type:["string","number","boolean"]},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:{type:"boolean"}}]}},additionalProperties:!1}),xr}var en={},Yo;function Ef(){return Yo||(Yo=1,Object.defineProperty(en,"__esModule",{value:!0}),en.PluginProvideElementSchema=void 0,en.PluginProvideElementSchema={$id:"WardPluginProvideElementSchema",title:"Ward Plugin Provide Element",description:"Plugin Provide Element",type:"object",properties:{url:{type:"string"},type:{type:"string",enum:["iframe","webcomponent","component"]},element:{type:"string"}},required:["url","type"],additionalProperties:!1}),en}var tn={},Xo;function Sf(){return Xo||(Xo=1,Object.defineProperty(tn,"__esModule",{value:!0}),tn.PluginProvideElementsSchema=void 0,tn.PluginProvideElementsSchema={$id:"WardPluginProvideElementsSchema",title:"Ward Plugin Provide Elements",description:"Plugin Provide Elements",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginProvideElementSchema"}},additionalProperties:!1}),tn}var rn={},Qo;function Df(){return Qo||(Qo=1,Object.defineProperty(rn,"__esModule",{value:!0}),rn.PluginProvidePropertiesSchema=void 0,rn.PluginProvidePropertiesSchema={$id:"WardPluginProvidePropertiesSchema",title:"Ward Plugin Provide Properties",description:"Plugin Provide Properties",type:"object",patternProperties:{"^.*$":{description:"Provide Property",oneOf:[{type:["string","number","boolean"]},{type:"array",items:{type:"string"}},{type:"array",items:{type:"number"}},{type:"array",items:{type:"boolean"}}]}},additionalProperties:!1}),rn}var nn={},Zo;function Of(){return Zo||(Zo=1,Object.defineProperty(nn,"__esModule",{value:!0}),nn.PluginProvideSchema=void 0,nn.PluginProvideSchema={$id:"WardPluginProvideSchema",title:"Ward Plugin Provide",description:"Plugin Provide",type:"object",properties:{properties:{$ref:"WardPluginProvidePropertiesSchema"},attributes:{$ref:"WardPluginProvideAttributesSchema"},elements:{$ref:"WardPluginProvideElementsSchema"}},additionalProperties:!1}),nn}var an={},xo;function Tf(){return xo||(xo=1,Object.defineProperty(an,"__esModule",{value:!0}),an.PluginProvidesSchema=void 0,an.PluginProvidesSchema={$id:"WardPluginProvidesSchema",title:"Ward Plugin Provides",description:"Plugin Provides",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginProvideSchema"}},additionalProperties:!1}),an}var Qi={},eu;function Rf(){return eu||(eu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PluginSchema=void 0,e.PluginSchema={$id:"WardPluginSchema",title:"Ward Plugin",description:"Plugin",type:"object",properties:{name:{description:"The unique identifier for a plugin",type:"string"},url:{description:"The url for a plugin",type:"string"},dependencies:{description:"Dependencies for the plugin",type:"array",items:{type:"string"},minItems:0,uniqueItems:!0},defines:{$ref:"WardPluginDefinesSchema"},provides:{description:"Providers",type:"object",patternProperties:{"^.*$":{$ref:"WardPluginProvidesSchema"}}}},required:["name","url"],additionalProperties:!1},e.default=e.PluginSchema}(Qi)),Qi}var tu;function jf(){return tu||(tu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.PluginSchema=e.PluginProvidesSchema=e.PluginProvideSchema=e.PluginProvidePropertiesSchema=e.PluginProvideElementsSchema=e.PluginProvideElementSchema=e.PluginProvideAttributesSchema=e.PluginDefinesSchema=e.PluginDefineSchema=e.PluginDefinePropertiesSchema=e.PluginDefineElementsSchema=e.PluginDefineElementSchema=e.PluginDefineElementPropertiesSchema=e.PluginDefineElementEventsSchema=e.PluginDefineElementAttributesSchema=e.PluginDefineAttributesSchema=void 0;var t=mf();Object.defineProperty(e,"PluginDefineAttributesSchema",{enumerable:!0,get:function(){return t.PluginDefineAttributesSchema}});var r=pf();Object.defineProperty(e,"PluginDefineElementAttributesSchema",{enumerable:!0,get:function(){return r.PluginDefineElementAttributesSchema}});var n=vf();Object.defineProperty(e,"PluginDefineElementEventsSchema",{enumerable:!0,get:function(){return n.PluginDefineElementEventsSchema}});var a=gf();Object.defineProperty(e,"PluginDefineElementPropertiesSchema",{enumerable:!0,get:function(){return a.PluginDefineElementPropertiesSchema}});var i=_f();Object.defineProperty(e,"PluginDefineElementSchema",{enumerable:!0,get:function(){return i.PluginDefineElementSchema}});var o=yf();Object.defineProperty(e,"PluginDefineElementsSchema",{enumerable:!0,get:function(){return o.PluginDefineElementsSchema}});var l=Pf();Object.defineProperty(e,"PluginDefinePropertiesSchema",{enumerable:!0,get:function(){return l.PluginDefinePropertiesSchema}});var s=wf();Object.defineProperty(e,"PluginDefineSchema",{enumerable:!0,get:function(){return s.PluginDefineSchema}});var u=bf();Object.defineProperty(e,"PluginDefinesSchema",{enumerable:!0,get:function(){return u.PluginDefinesSchema}});var f=$f();Object.defineProperty(e,"PluginProvideAttributesSchema",{enumerable:!0,get:function(){return f.PluginProvideAttributesSchema}});var p=Ef();Object.defineProperty(e,"PluginProvideElementSchema",{enumerable:!0,get:function(){return p.PluginProvideElementSchema}});var m=Sf();Object.defineProperty(e,"PluginProvideElementsSchema",{enumerable:!0,get:function(){return m.PluginProvideElementsSchema}});var g=Df();Object.defineProperty(e,"PluginProvidePropertiesSchema",{enumerable:!0,get:function(){return g.PluginProvidePropertiesSchema}});var y=Of();Object.defineProperty(e,"PluginProvideSchema",{enumerable:!0,get:function(){return y.PluginProvideSchema}});var w=Tf();Object.defineProperty(e,"PluginProvidesSchema",{enumerable:!0,get:function(){return w.PluginProvidesSchema}});var c=Rf();Object.defineProperty(e,"PluginSchema",{enumerable:!0,get:function(){return c.PluginSchema}})}(Xi)),Xi}var ru;function Mf(){if(ru)return gt;ru=1;var e=gt&&gt.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gt,"__esModule",{value:!0}),gt.getValidator=gt.validate=void 0;const t=e(hf()),r=jf(),n=new t.default({allowUnionTypes:!0,schemas:[r.PluginDefineAttributesSchema,r.PluginDefineElementAttributesSchema,r.PluginDefineElementEventsSchema,r.PluginDefineElementPropertiesSchema,r.PluginDefineElementSchema,r.PluginDefineElementsSchema,r.PluginDefinePropertiesSchema,r.PluginDefineSchema,r.PluginDefinesSchema,r.PluginProvideAttributesSchema,r.PluginProvideElementSchema,r.PluginProvideElementsSchema,r.PluginProvidePropertiesSchema,r.PluginProvideSchema,r.PluginProvidesSchema,r.PluginSchema]});gt.validate=n.getSchema("WardPluginSchema");const a=()=>n.getSchema("WardPluginSchema");return gt.getValidator=a,gt}var nu;function Nf(){return nu||(nu=1,function(e){var t=vt&&vt.__awaiter||function(p,m,g,y){function w(c){return c instanceof g?c:new g(function(h){h(c)})}return new(g||(g=Promise))(function(c,h){function d(b){try{_(y.next(b))}catch($){h($)}}function v(b){try{_(y.throw(b))}catch($){h($)}}function _(b){b.done?c(b.value):w(b.value).then(d,v)}_((y=y.apply(p,m||[])).next())})},r=vt&&vt.__classPrivateFieldGet||function(p,m,g,y){if(g==="a"&&!y)throw new TypeError("Private accessor was defined without a getter");if(typeof m=="function"?p!==m||!y:!m.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return g==="m"?y:g==="a"?y.call(p):y?y.value:m.get(p)},n=vt&&vt.__classPrivateFieldSet||function(p,m,g,y,w){if(y==="m")throw new TypeError("Private method is not writable");if(y==="a"&&!w)throw new TypeError("Private accessor was defined without a setter");if(typeof m=="function"?p!==m||!w:!m.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return y==="a"?w.call(p,g):w?w.value=g:m.set(p,g),g},a,i,o,l,s;Object.defineProperty(e,"__esModule",{value:!0}),e.PluginLoadStates=void 0;const u=Mf();e.PluginLoadStates={NONE:"NONE",EXCLUDED:"EXCLUDED",LOAD_ERROR:"LOAD_ERROR",VALIDATION_ERROR:"VALIDATION_ERROR",LOADED:"LOADED"};let f=class{constructor(){a.add(this),i.set(this,{}),o.set(this,[])}get urls(){return Object.keys(r(this,i,"f"))}get excludedUrls(){return r(this,o,"f").slice()}reset(p=!1){n(this,i,{},"f"),p&&n(this,o,[],"f")}hasData(p){var m;return!!(!((m=r(this,i,"f")[p])===null||m===void 0)&&m.data)}isLoaded(p){var m;return((m=r(this,i,"f")[p])===null||m===void 0?void 0:m.state)===e.PluginLoadStates.LOADED}getData(p){var m;return(m=r(this,i,"f")[p])===null||m===void 0?void 0:m.data}getErrors(p){var m;return((m=r(this,i,"f")[p])===null||m===void 0?void 0:m.errors)||[]}getState(p){var m;return((m=r(this,i,"f")[p])===null||m===void 0?void 0:m.state)||e.PluginLoadStates.NONE}exclude(p){r(this,o,"f").includes(p)||r(this,o,"f").push(p)}include(p){const m=r(this,o,"f").indexOf(p);m>-1&&r(this,o,"f").splice(m,1)}load(p){return t(this,void 0,void 0,function*(){if(r(this,i,"f")[p]={url:p,state:e.PluginLoadStates.NONE,errors:[],loadDate:new Date().getTime()},r(this,o,"f").includes(p))return r(this,i,"f")[p].state=e.PluginLoadStates.EXCLUDED,!1;let m;try{m=yield r(this,a,"m",l).call(this,p)}catch(w){return r(this,i,"f")[p].state=e.PluginLoadStates.LOAD_ERROR,r(this,i,"f")[p].errors.push(String(w)),!1}let g;try{g=yield r(this,a,"m",s).call(this,m),r(this,i,"f")[p].data=g}catch(w){return r(this,i,"f")[p].state=e.PluginLoadStates.LOAD_ERROR,r(this,i,"f")[p].errors.push(String(w)),!1}const y=(0,u.getValidator)();return y(g)?(r(this,i,"f")[p].state=e.PluginLoadStates.LOADED,!0):(r(this,i,"f")[p].state=e.PluginLoadStates.VALIDATION_ERROR,y.errors&&r(this,i,"f")[p].errors.push(...y.errors.map(w=>JSON.stringify(w,null,2))),!1)})}};i=new WeakMap,o=new WeakMap,a=new WeakSet,l=function(p){return t(this,void 0,void 0,function*(){return yield fetch(p,{method:"GET",headers:new Headers})})},s=function(p){return t(this,void 0,void 0,function*(){return yield p.json()})},e.default=f}(vt)),vt}var iu;function If(){if(iu)return Ue;iu=1;var e=Ue&&Ue.__awaiter||function(P,O,N,x){function R(V){return V instanceof N?V:new N(function(G){G(V)})}return new(N||(N=Promise))(function(V,G){function H(Z){try{X(x.next(Z))}catch(J){G(J)}}function Q(Z){try{X(x.throw(Z))}catch(J){G(J)}}function X(Z){Z.done?V(Z.value):R(Z.value).then(H,Q)}X((x=x.apply(P,O||[])).next())})},t=Ue&&Ue.__classPrivateFieldSet||function(P,O,N,x,R){if(x==="m")throw new TypeError("Private method is not writable");if(x==="a"&&!R)throw new TypeError("Private accessor was defined without a setter");if(typeof O=="function"?P!==O||!R:!O.has(P))throw new TypeError("Cannot write private member to an object whose class did not declare it");return x==="a"?R.call(P,N):R?R.value=N:O.set(P,N),N},r=Ue&&Ue.__classPrivateFieldGet||function(P,O,N,x){if(N==="a"&&!x)throw new TypeError("Private accessor was defined without a getter");if(typeof O=="function"?P!==O||!x:!O.has(P))throw new TypeError("Cannot read private member from an object whose class did not declare it");return N==="m"?x:N==="a"?x.call(P):x?x.value:O.get(P)},n=Ue&&Ue.__importDefault||function(P){return P&&P.__esModule?P:{default:P}},a,i,o,l,s,u,f,p,m,g,y,w,c;Object.defineProperty(Ue,"__esModule",{value:!0});const h=wn(),d=n(rd()),v=n(ad()),_=Pn(),b=n(Nf());let $=class{constructor(P,O){a.add(this),i.set(this,void 0),o.set(this,-1),l.set(this,void 0),s.set(this,[]),u.set(this,{}),f.set(this,{}),p.set(this,{}),m.set(this,void 0),t(this,i,P||new b.default,"f"),t(this,m,new h.Logger("PluginManager",O),"f")}get logger(){return r(this,m,"f")}get retryDelay(){return r(this,o,"f")}set retryDelay(P){t(this,o,P,"f")}get data(){return{urls:this.urls,roots:this.roots,plugins:this.plugins,definitions:this.definitions,providers:this.providers}}get urls(){return r(this,i,"f").urls.reduce((P,O)=>(P[O]={state:this.getState(O),errors:this.getErrors(O),data:this.getData(O)},P),{})}getData(P){return r(this,i,"f").getData(P)}getState(P){return r(this,i,"f").getState(P)}getErrors(P){return r(this,i,"f").getErrors(P)}get roots(){const P=[];return Object.values(r(this,u,"f")).forEach(O=>{O.dependencies.forEach(N=>{P.includes(N)||P.push(N)})}),Object.values(r(this,u,"f")).reduce((O,N)=>(P.includes(N.loadUrl)||(O[N.name]=N),O),{})}get plugins(){return r(this,u,"f")}getPlugin(P){return this.plugins[P]}getPluginByUrl(P){const O=this.getData(P);if(O)return this.plugins[O.name]}get definitions(){return r(this,f,"f")}getDefinition(P){return this.definitions[P]}get providers(){return r(this,p,"f")}getProviders(P){return Object.values(r(this,p,"f")).filter(O=>O.definition===P)}getProvider(P){return r(this,p,"f")[P]}register(P){return r(this,s,"f").push(P),()=>this.unregister(P)}unregister(P){t(this,s,_.ArrayUtils.removeElement(r(this,s,"f"),P),"f")}notify(){r(this,s,"f").forEach(P=>{P(this.data)})}reset(P=!0){r(this,i,"f").reset(),t(this,u,{},"f"),t(this,f,{},"f"),t(this,p,{},"f"),P&&this.notify()}loadPlugin(P){return e(this,arguments,void 0,function*(O,N=!0){r(this,i,"f").include(O),yield r(this,a,"m",g).call(this,O),N&&this.notify()})}unloadPlugin(P){return e(this,void 0,void 0,function*(){r(this,i,"f").exclude(P),this.reloadPlugins()})}reloadPlugins(){return e(this,void 0,void 0,function*(){const P=Object.values(this.roots).map(O=>O.loadUrl);this.reset(!1),yield Promise.all(P.map(O=>r(this,a,"m",g).call(this,O))),this.notify()})}};return i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap,m=new WeakMap,a=new WeakSet,g=function P(O,N){return e(this,void 0,void 0,function*(){if(clearInterval(r(this,l,"f")),r(this,i,"f").hasData(O))return this.logger.warn(`URL already loaded: '${O}'`),!0;if(!(yield r(this,i,"f").load(O)))return this.logger.warn(`Failed to load plugin from: '${O}'`),this.logger.warn(r(this,i,"f").getErrors(O).join(`
`)),!1;const x=r(this,i,"f").getData(O);if(r(this,u,"f")[x.name]){const V=r(this,u,"f")[x.name].loadUrl;return this.logger.warn(`Plugin '${x.name}' from '${x.url}' already registered from '${V}'`),!1}const R=new d.default(O,x);r(this,u,"f")[x.name]=R,yield Promise.allSettled((x.dependencies||[]).map(V=>r(this,a,"m",P).call(this,V,x.name)));try{r(this,a,"m",y).call(this)}catch(V){this.logger.error(String(V))}return r(this,o,"f")>0&&t(this,l,setInterval(()=>{this.reloadPlugins()},r(this,o,"f")),"f"),this.logger.warn(`Succesully loaded plugin from '${O}'`),!0})},y=function(){t(this,f,{},"f"),t(this,p,{},"f"),Object.values(this.roots).forEach(P=>r(this,a,"m",w).call(this,P)),Object.values(this.roots).forEach(P=>r(this,a,"m",c).call(this,P))},w=function P(O){O.defines.forEach(N=>{this.getDefinition(N.name)?this.logger.warn(`Defines '${N.name}' from '${O.name}' is already registered from ${this.getDefinition(N.name).plugin}`):r(this,f,"f")[N.name]=N}),O.dependencies.forEach(N=>{if(r(this,i,"f").isLoaded(N)){const x=r(this,i,"f").getData(N),R=this.getPlugin(x.name);r(this,a,"m",P).call(this,R)}})},c=function P(O){O.provides.forEach(N=>{const x=this.getDefinition(N.define);if(!x)this.logger.warn(`Provides '${N.name}' from '${O.name}' has no definition '${N.define}'`);else{const R=new v.default(O.url,x,N);r(this,p,"f")[R.name]=R}}),O.dependencies.forEach(N=>{if(r(this,i,"f").isLoaded(N)){const x=r(this,i,"f").getData(N),R=this.getPlugin(x.name);r(this,a,"m",P).call(this,R)}})},Ue.default=$,Ue}var wt={},Gt={},sn={},au;function ll(){return au||(au=1,Object.defineProperty(sn,"__esModule",{value:!0}),sn.MessageServiceTypes=void 0,sn.MessageServiceTypes={EVENT:"event",FRAME:"frame",NAVIGATION:"navigation"}),sn}var su;function Cf(){if(su)return Gt;su=1;var e=Gt&&Gt.__classPrivateFieldSet||function(h,d,v,_,b){if(_==="m")throw new TypeError("Private method is not writable");if(_==="a"&&!b)throw new TypeError("Private accessor was defined without a setter");if(typeof d=="function"?h!==d||!b:!d.has(h))throw new TypeError("Cannot write private member to an object whose class did not declare it");return _==="a"?b.call(h,v):b?b.value=v:d.set(h,v),v},t=Gt&&Gt.__classPrivateFieldGet||function(h,d,v,_){if(v==="a"&&!_)throw new TypeError("Private accessor was defined without a getter");if(typeof d=="function"?h!==d||!_:!d.has(h))throw new TypeError("Cannot read private member from an object whose class did not declare it");return v==="m"?_:v==="a"?_.call(h):_?_.value:d.get(h)},r,n,a,i,o,l,s,u,f,p;Object.defineProperty(Gt,"__esModule",{value:!0});const m=Pn(),g=wn(),y=ll(),w=cl();let c=class{constructor(h,d,v,_,b,$,P){r.add(this),n.set(this,void 0),a.set(this,void 0),i.set(this,void 0),o.set(this,void 0),l.set(this,void 0),s.set(this,void 0),u.set(this,void 0),e(this,u,new g.Logger("FrameService",P),"f"),e(this,a,h,"f"),e(this,n,$||m.UUID.next(),"f"),e(this,o,d,"f"),e(this,l,v,"f"),e(this,s,_,"f"),e(this,i,b,"f"),this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] created`),t(this,o,"f").addEventListener("message",t(this,r,"m",p).bind(this)),t(this,o,"f").addEventListener("beforeUnload",t(this,r,"m",f).bind(this))}get id(){return t(this,n,"f")}get dispatcherId(){return t(this,a,"f").id}get remoteDispatcherId(){return t(this,i,"f")}get windowRemote(){return t(this,l,"f")}get type(){return y.MessageServiceTypes.FRAME}get logger(){return t(this,u,"f")}onMessage(h){this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] onMessage ${h.type}`),t(this,l,"f").closed?(this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] onMessage /!\\ window closed /!\\`),this.terminate()):(this.logger.debug(`[DISP-${this.dispatcherId}/FRAME-${this.id}] onMessage posting message to ${t(this,s,"f")}`),t(this,l,"f").postMessage(Object.assign(Object.assign({},h),{_serviceId:t(this,n,"f")}),t(this,s,"f")))}sendMessage(h){this.logger.debug(`[DISP-${this.dispatcherId}/FRAME-${this.id}] sendMessage ${h.type}`),t(this,a,"f").sendMessage(Object.assign(Object.assign({},h),{_serviceId:this.id}))}terminate(){this.logger.info(`[DISP-${this.dispatcherId}/FRAME-${this.id}] terminate`),t(this,a,"f").removeService(this)}};return n=new WeakMap,a=new WeakMap,i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,u=new WeakMap,r=new WeakSet,f=function(){this.onMessage({type:w.CONNECTION_CLOSING,_dispatcherId:this.dispatcherId,payload:{}}),this.terminate()},p=function(h){const d=h.data||{};d._serviceId&&d._dispatcherId&&d._dispatcherId===t(this,i,"f")&&(this.logger.debug(`[DISP-${this.dispatcherId}/FRAME-${this.id}] handleMessage ${h.data.type}`),d.type===w.CONNECTION_CLOSING?this.terminate():this.sendMessage({_serviceId:t(this,n,"f"),type:d.type,payload:d.payload}))},Gt.default=c,Gt}var ou;function cl(){return ou||(ou=1,function(e){var t=wt&&wt.__classPrivateFieldSet||function(v,_,b,$,P){if($==="m")throw new TypeError("Private method is not writable");if($==="a"&&!P)throw new TypeError("Private accessor was defined without a setter");if(typeof _=="function"?v!==_||!P:!_.has(v))throw new TypeError("Cannot write private member to an object whose class did not declare it");return $==="a"?P.call(v,b):P?P.value=b:_.set(v,b),b},r=wt&&wt.__classPrivateFieldGet||function(v,_,b,$){if(b==="a"&&!$)throw new TypeError("Private accessor was defined without a getter");if(typeof _=="function"?v!==_||!$:!_.has(v))throw new TypeError("Cannot read private member from an object whose class did not declare it");return b==="m"?$:b==="a"?$.call(v):$?$.value:_.get(v)},n=wt&&wt.__importDefault||function(v){return v&&v.__esModule?v:{default:v}},a,i,o,l,s,u,f,p,m,g,y;Object.defineProperty(e,"__esModule",{value:!0}),e.CONNECTION_CLOSING=e.CONNECTION_ACKNOWLEDGE=e.CONNECTION_REQUEST=void 0;const w=Pn(),c=wn(),h=n(Cf());e.CONNECTION_REQUEST="__CONNNECTION_REQUEST__",e.CONNECTION_ACKNOWLEDGE="__CONNECTION_ACKNOWLEDGE__",e.CONNECTION_CLOSING="__CONNNECTION_CLOSING__";let d=class{constructor(v,_){a.add(this),i.set(this,void 0),o.set(this,[]),l.set(this,[]),s.set(this,void 0),u.set(this,[]),f.set(this,void 0),t(this,s,new c.Logger("MessageDispatcher",_),"f"),t(this,i,v||w.UUID.next(),"f"),this.logger.info(`[DISP-${this.id}] created`),t(this,f,r(this,a,"m",p).bind(this,window),"f"),window.addEventListener("message",r(this,f,"f")),window!==window.parent?(this.logger.info(`[DISP-${this.id}] contact parent`),window.parent.postMessage({_dispatcherId:r(this,i,"f"),type:e.CONNECTION_REQUEST},"*")):window.documentPictureInPicture&&window.documentPictureInPicture.addEventListener("enter",b=>{const $=b.window;$.addEventListener("message",r(this,a,"m",p).bind(this,$))})}get data(){return{services:this.services,dispatchers:this.dispatchers}}get id(){return r(this,i,"f")}get services(){return r(this,o,"f").reduce((v,_)=>(v[_.id]=_,v),{})}get dispatchers(){return r(this,l,"f").slice()}get logger(){return r(this,s,"f")}register(v){return r(this,u,"f").push(v),()=>this.unregister(v)}unregister(v){t(this,u,w.ArrayUtils.removeElement(r(this,u,"f"),v),"f")}notify(){r(this,u,"f").forEach(v=>{try{v(this.data)}catch(_){this.logger.error(`[DISP-${this.id}] listener failed with error`),this.logger.error(`${_}`)}})}terminate(){this.logger.info(`[DISP-${this.id}] stopping`),window.removeEventListener("message",r(this,f,"f")),window!==window.parent&&(this.logger.info(`[DISP-${this.id}] notifying parent`),window.parent.postMessage({_dispatcherId:r(this,i,"f"),type:e.CONNECTION_CLOSING},"*"))}reset(){t(this,o,[],"f"),t(this,l,[],"f"),this.notify()}getService(v){return r(this,o,"f").find(_=>_.id===v)}addService(v){return this.logger.info(`[DISP-${this.id}] add service [${v.id}]`),r(this,o,"f").includes(v)||r(this,o,"f").push(v),this.notify(),()=>this.removeService(v)}removeService(v){this.logger.info(`[DISP-${this.id}] remove service [${v.id}]`),t(this,o,r(this,o,"f").filter(_=>_!==v),"f"),v instanceof h.default&&t(this,l,r(this,l,"f").filter(_=>_!==v.remoteDispatcherId),"f"),this.notify()}sendMessage(v){this.logger.info(`[DISP-${this.id}] send message to ${r(this,o,"f").length-1} services from [${r(this,i,"f")}-${v._serviceId}]`),r(this,o,"f").forEach(_=>{_.id!==v._serviceId&&(this.logger.info(`[DISP-${this.id}] send message on service [${_.id}]`),_.onMessage(Object.assign({_dispatcherId:r(this,i,"f")},v)))})}};i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,u=new WeakMap,f=new WeakMap,a=new WeakSet,p=function(v,_){var b;if(!((b=_.data)===null||b===void 0)&&b._dispatcherId)switch(_.data.type){case e.CONNECTION_REQUEST:{r(this,a,"m",m).call(this,_,v);break}case e.CONNECTION_ACKNOWLEDGE:{r(this,a,"m",g).call(this,_,v);break}case e.CONNECTION_CLOSING:{r(this,a,"m",y).call(this,_);break}}},m=function(v,_=window){const b=v.data._dispatcherId;this.logger.info(`[DISP-${this.id}] child trying to connect [${b}]`),this.logger.info(`[DISP-${this.id}] current childs: ${this.dispatchers.join(", ")}`);const $=v.source,P=v.origin;if(!r(this,l,"f").includes(b)){const O=new h.default(this,_,$,P,b,void 0,this.logger.config);r(this,l,"f").push(b),this.addService(O),O.onMessage({_dispatcherId:r(this,i,"f"),_serviceId:O.id,type:e.CONNECTION_ACKNOWLEDGE,payload:null})}},g=function(v,_=window){this.logger.info(`[DISP-${this.id}] parent acknowledge connection`);const b=new h.default(this,_,window.parent,v.origin,v.data._dispatcherId,v.data._serviceId,this.logger.config);this.addService(b)},y=function(v){this.logger.info(`[DISP-${this.id}] child notify closing`)},e.default=d}(wt)),wt}var bt={},uu;function lu(){if(uu)return bt;uu=1;var e=bt&&bt.__classPrivateFieldSet||function(f,p,m,g,y){if(g==="m")throw new TypeError("Private method is not writable");if(g==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof p=="function"?f!==p||!y:!p.has(f))throw new TypeError("Cannot write private member to an object whose class did not declare it");return g==="a"?y.call(f,m):y?y.value=m:p.set(f,m),m},t=bt&&bt.__classPrivateFieldGet||function(f,p,m,g){if(m==="a"&&!g)throw new TypeError("Private accessor was defined without a getter");if(typeof p=="function"?f!==p||!g:!p.has(f))throw new TypeError("Cannot read private member from an object whose class did not declare it");return m==="m"?g:m==="a"?g.call(f):g?g.value:p.get(f)},r,n,a,i;Object.defineProperty(bt,"__esModule",{value:!0}),bt.ServiceEvent=void 0;const o=Pn(),l=wn(),s=ll();let u=class{constructor(f,p,m){r.set(this,void 0),n.set(this,void 0),a.set(this,[]),i.set(this,void 0),e(this,i,new l.Logger("EventService",m),"f"),e(this,r,p||o.UUID.next(),"f"),e(this,n,f,"f"),t(this,n,"f").addService(this),this.logger.info(`[DISP-${this.dispatcherId}/EVENT-${this.id}] created`)}get id(){return t(this,r,"f")}get dispatcherId(){return t(this,n,"f").id}get type(){return s.MessageServiceTypes.EVENT}get logger(){return t(this,i,"f")}terminate(){this.logger.info(`[DISP-${this.dispatcherId}/EVENT-${this.id}] terminate`),e(this,a,[],"f"),t(this,n,"f").removeService(this)}addHandler(f){return this.logger.debug(`[DISP-${this.dispatcherId}/EVENT-${this.id}] add handler`),t(this,a,"f").push(f),this.removeHandler.bind(this,f)}removeHandler(f){this.logger.debug(`[DISP-${this.dispatcherId}/EVENT-${this.id}] add handler`),e(this,a,o.ArrayUtils.removeElement(t(this,a,"f"),f),"f")}onMessage(f){this.logger.debug(`[DISP-${this.dispatcherId}/EVENT-${this.id}] onMessage`),t(this,a,"f").forEach(p=>{try{p(f)}catch(m){this.logger.error(`[DISP-${this.dispatcherId}/EVENT-${this.id}] handler failed with error`),this.logger.error(`${m}`)}})}sendMessage(f){this.logger.info(`[DISP-${this.dispatcherId}/EVENT-${this.id}] sendMessage`),t(this,n,"f").sendMessage(Object.assign(Object.assign({},f),{_serviceId:this.id}))}};return bt.ServiceEvent=u,r=new WeakMap,n=new WeakMap,a=new WeakMap,i=new WeakMap,bt}var cu;function Af(){return cu||(cu=1,function(e){var t=ht&&ht.__classPrivateFieldSet||function(b,$,P,O,N){if(O==="m")throw new TypeError("Private method is not writable");if(O==="a"&&!N)throw new TypeError("Private accessor was defined without a setter");if(typeof $=="function"?b!==$||!N:!$.has(b))throw new TypeError("Cannot write private member to an object whose class did not declare it");return O==="a"?N.call(b,P):N?N.value=P:$.set(b,P),P},r=ht&&ht.__classPrivateFieldGet||function(b,$,P,O){if(P==="a"&&!O)throw new TypeError("Private accessor was defined without a getter");if(typeof $=="function"?b!==$||!O:!$.has(b))throw new TypeError("Cannot read private member from an object whose class did not declare it");return P==="m"?O:P==="a"?O.call(b):O?O.value:$.get(b)},n=ht&&ht.__importDefault||function(b){return b&&b.__esModule?b:{default:b}},a,i,o,l,s,u,f,p;Object.defineProperty(e,"__esModule",{value:!0}),e.WardVersion=e.Ward=e.ServiceEvent=void 0;const m=Pn(),g=n(If()),y=n(cl()),w=lu(),c=wn();var h=lu();Object.defineProperty(e,"ServiceEvent",{enumerable:!0,get:function(){return h.ServiceEvent}});class d{constructor($,P,O){i.set(this,void 0),o.set(this,void 0),l.set(this,void 0),s.set(this,[]),u.set(this,[]),f.set(this,[]),p.set(this,new c.LogConfig),t(this,i,$||m.UUID.next(),"f"),t(this,o,P||new g.default(void 0,this.logConfig),"f"),t(this,l,O||new y.default(void 0,this.logConfig),"f"),r(this,o,"f").register(this.notifyPlugins.bind(this)),r(this,l,"f").register(this.notifyServices.bind(this))}get id(){return r(this,i,"f")}get data(){return Object.assign(Object.assign({},r(this,l,"f").data),r(this,o,"f").data)}get logConfig(){return r(this,p,"f")}register($){return r(this,s,"f").push($),()=>this.unregister($)}unregister($){t(this,s,m.ArrayUtils.removeElement(r(this,s,"f"),$),"f")}registerPlugins($){return r(this,u,"f").push($),()=>this.unregisterPlugins($)}unregisterPlugins($){t(this,u,m.ArrayUtils.removeElement(r(this,u,"f"),$),"f")}notifyPlugins(){r(this,u,"f").forEach($=>{$(this.data)}),r(this,s,"f").forEach($=>{$(this.data)})}registerServices($){return r(this,f,"f").push($),()=>this.unregisterServices($)}unregisterServices($){t(this,f,m.ArrayUtils.removeElement(r(this,f,"f"),$),"f")}notifyServices(){r(this,f,"f").forEach($=>{$(this.data)}),r(this,s,"f").forEach($=>{$(this.data)})}reset(){r(this,o,"f").reset(),r(this,l,"f").reset()}loadPlugin($){r(this,o,"f").loadPlugin($)}unloadPlugin($){r(this,o,"f").unloadPlugin($)}addService($){return new w.ServiceEvent(r(this,l,"f"),$,this.logConfig)}}i=new WeakMap,o=new WeakMap,l=new WeakMap,s=new WeakMap,u=new WeakMap,f=new WeakMap,p=new WeakMap;let v="1.0.0",_;!((a=window.uncover)===null||a===void 0)&&a.ward?(console.warn(`Ward is already registered with version ${window.uncover.wardVersion||"older than 0.2.21"}`),_=window.uncover.ward,v=window.uncover.wardVersion):(_=new d,window.uncover=window.uncover||{},window.uncover.ward=_,window.uncover.wardVersion=v),e.Ward=_,e.WardVersion=v}(ht)),ht}var $e=Af();const ft=Xu({plugin:null,loaded:!1,urls:{},roots:{},plugins:{},definitions:{},providers:{},services:{},dispatchers:[]});$e.Ward.register(Lf);function Lf(){ft.set($e.Ward.data)}const $r=Xu({type:null,id:null});var qf=de("<ui5-tree-item></ui5-tree-item>",2);function kf(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r),i=ie();let o=br(t,"urlId",8),l=ie(),s=ie();const u=$r.subscribe(c=>{ee(l,c.type),ee(s,c.id)});let f=ie(),p=ie(),m=ie();wr(()=>{j(m).setAttribute("data-attribute-type","url"),j(m).setAttribute("data-attribute-id",o())}),yn(()=>{u()}),Ce(()=>(a(),or(o())),()=>{ee(f,a().urls[o()])}),Ce(()=>j(f),()=>{ee(i,j(f).state==="LOADED"?"Success":j(f).state==="EXCLUDED"?"Warning":"Error")}),Ce(()=>a(),()=>{ee(p,a().roots)}),Rt(),tt();var g=nr(),y=Kt(g);{var w=c=>{var h=qf();K(h,"icon","world"),le(()=>K(h,"highlight",j(i))),le(()=>K(h,"text",o())),le(()=>K(h,"data-attribute-id",o())),le(()=>K(h,"selected",j(l)==="url"&&j(s)===o())),lt(h,d=>ee(m,d),()=>j(m)),re(c,h)};De(y,c=>{o()&&c(w)})}re(e,g),Ke(),n()}var Uf=de('<ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title> <ui5-input></ui5-input> <ui5-button>Load plugin</ui5-button></div> <ui5-tree></ui5-tree></ui5-panel>',2);function Ff(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r);let i=ie(),o=ie(),l=ie(),s=ie();wr(()=>{j(o).addEventListener("input",u),j(o).addEventListener("change",f),j(l).addEventListener("click",p),j(s).addEventListener("item-click",m),j(s).addEventListener("item-delete",g)});function u(){j(o).value&&j(o).value.trim()?j(l).removeAttribute("disabled"):j(l).setAttribute("disabled","")}function f(){u(),p()}function p(){j(o).value&&j(o).value.trim()&&($e.Ward.loadPlugin(j(o).value),un(o,j(o).value=""))}function m(b){$r.update($=>{const P=b.detail.item.getAttribute("data-attribute-type"),O=b.detail.item.getAttribute("data-attribute-id");return $.type===P&&$.id===O?{type:null,id:null}:{type:P,id:O}})}function g(b){const $=b.detail.item.getAttribute("data-attribute-id");switch(b.detail.item.highlight){case"Success":{$e.Ward.unloadPlugin($);break}case"Warning":{$e.Ward.loadPlugin($);break}}}Ce(()=>a(),()=>{ee(i,a().urls)}),Rt(),tt();var y=Uf(),w=W(y),c=W(w);be(c,"margin-right:auto"),K(c,"slot","startContent"),K(c,"level","H5");var h=W(c,!0);U(c);var d=z(c,2);K(d,"placeholder","Enter plugin url"),lt(d,b=>ee(o,b),()=>j(o));var v=z(d,2);K(v,"disabled",!0),be(v,"margin-left: 0.5rem"),K(v,"icon","add"),lt(v,b=>ee(l,b),()=>j(l)),U(w);var _=z(w,2);K(_,"mode","Delete"),Te(_,5,()=>Object.keys(j(i)),Oe,(b,$)=>{kf(b,{get urlId(){return j($)}})}),U(_),lt(_,b=>ee(s,b),()=>j(s)),U(y),le(b=>te(h,b),[()=>`URLs (${Object.values(j(i)).length})`],Ge),re(e,y),Ke(),n()}var Wf=de("<ui5-tree-item></ui5-tree-item>",2);function dl(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r),i=ie();let o=br(t,"pluginId",8),l=ie(),s=ie();const u=$r.subscribe(c=>{ee(l,c.type),ee(s,c.id)});let f=ie(),p=ie(),m=ie();wr(()=>{j(m)&&(j(m).setAttribute("data-attribute-type","plugin"),j(m).setAttribute("data-attribute-id",o()))}),yn(()=>{u()}),Ce(()=>(a(),or(o())),()=>{ee(f,a().plugins[o()])}),Ce(()=>a(),()=>{ee(p,a().plugins)}),Ce(()=>(j(f),j(p)),()=>{var c;ee(i,(((c=j(f))==null?void 0:c.dependencies)||[]).map(h=>{const d=Object.values(j(p)).find(v=>v.loadUrl===h);return d?.name}))}),Rt(),tt();var g=nr(),y=Kt(g);{var w=c=>{var h=Wf();K(h,"expanded",!0),K(h,"icon","tree"),le(()=>K(h,"text",o())),le(()=>K(h,"selected",j(l)==="plugin"&&j(s)===o())),Te(h,5,()=>j(i),Oe,(d,v)=>{var _=nr(),b=Kt(_);dl(b,{get pluginId(){return j(v)}}),re(d,_)}),U(h),lt(h,d=>ee(m,d),()=>j(m)),re(c,h)};De(y,c=>{o()&&c(w)})}re(e,g),Ke(),n()}var Vf=de('<ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title></div> <ui5-tree></ui5-tree></ui5-panel>',2);function Gf(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r);let i=ie(),o=ie();wr(()=>{j(o).addEventListener("item-click",l)});function l(g){$r.update(y=>{const w=g.detail.item.getAttribute("data-attribute-type"),c=g.detail.item.getAttribute("data-attribute-id");return y.type===w&&y.id===c?{type:null,id:null}:{type:w,id:c}})}Ce(()=>a(),()=>{ee(i,a().roots)}),Rt(),tt();var s=Vf();be(s,"margin-top:1rem;");var u=W(s),f=W(u);be(f,"margin-right:auto"),K(f,"slot","startContent"),K(f,"level","H5");var p=W(f,!0);U(f),U(u);var m=z(u,2);Te(m,5,()=>Object.keys(j(i)),Oe,(g,y)=>{dl(g,{get pluginId(){return j(y)}})}),U(m),lt(m,g=>ee(o,g),()=>j(o)),U(s),le(g=>te(p,g),[()=>`Plugins (${Object.values(j(i)).length})`],Ge),re(e,s),Ke(),n()}var Hf=de("<li> <ul><li><ui5-label>type:</ui5-label> </li> <li><ui5-label>mandatory:</ui5-label> </li> <li><ui5-label>array:</ui5-label> </li></ul></li>",2),zf=de("<li> <ul><li><ui5-label>type:</ui5-label> </li> <li><ui5-label>mandatory:</ui5-label> </li> <li><ui5-label>array:</ui5-label> </li></ul></li>",2),Kf=de("<li> </li>"),Bf=de("<div><ui5-title> </ui5-title> <br> <div><ui5-label>Name:</ui5-label> </div> <br> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul></div>",2),Jf=de("<div>Deinition not found</div>");function Yf(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r);let i=br(t,"definitionId",8),o=ie();Ce(()=>(a(),or(i())),()=>{ee(o,a().definitions[i()])}),Rt(),tt();var l=nr(),s=Kt(l);{var u=p=>{var m=Bf(),g=W(m);K(g,"level","H5");var y=W(g,!0);U(g);var w=z(g,4),c=W(w),h=z(c);U(w);var d=z(w,4);K(d,"level","H6");var v=W(d,!0);U(d);var _=z(d,2);Te(_,5,()=>j(o).properties,Oe,(R,V)=>{var G=Hf(),H=W(G),Q=z(H),X=W(Q),Z=W(X),J=z(Z);U(X);var oe=z(X,2),L=W(oe),C=z(L);U(oe);var T=z(oe,2),D=W(T),E=z(D);U(T),U(Q),U(G),le((S,M)=>{te(H,`${j(V).name??""} `),te(J,` ${j(V).type??""}`),te(C,` ${S??""}`),te(E,` ${M??""}`)},[()=>String(j(V).mandatory),()=>String(j(V).array)],Ge),re(R,G)}),U(_);var b=z(_,2);K(b,"level","H6");var $=W(b,!0);U(b);var P=z(b,2);Te(P,5,()=>j(o).attributes,Oe,(R,V)=>{var G=zf(),H=W(G),Q=z(H),X=W(Q),Z=W(X),J=z(Z);U(X);var oe=z(X,2),L=W(oe),C=z(L);U(oe);var T=z(oe,2),D=W(T),E=z(D);U(T),U(Q),U(G),le((S,M)=>{te(H,`${j(V).name??""} `),te(J,` ${j(V).type??""}`),te(C,` ${S??""}`),te(E,` ${M??""}`)},[()=>String(j(V).mandatory),()=>String(j(V).array)],Ge),re(R,G)}),U(P);var O=z(P,2);K(O,"level","H6");var N=W(O,!0);U(O);var x=z(O,2);Te(x,5,()=>j(o).elements,Oe,(R,V)=>{var G=Kf(),H=W(G,!0);U(G),le(()=>te(H,j(V).name)),re(R,G)}),U(x),U(m),le(()=>{te(y,`Definition Details (${i()})`),te(h,` ${j(o).name??""}`),te(v,`Properties (${j(o).properties.length})`),te($,`Attributes (${j(o).attributes.length})`),te(N,`Elements (${j(o).elements.length})`)}),re(p,m)},f=p=>{var m=Jf();re(p,m)};De(s,p=>{j(o)?p(u):p(f,!1)})}re(e,l),Ke(),n()}var Xf=de("<div><ui5-title> </ui5-title> <p> </p> <pre> </pre></div>",2);function Qf(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r);let i=br(t,"urlId",8),o=ie();Ce(()=>(a(),or(i())),()=>{ee(o,a().urls[i()])}),Rt(),tt();var l=Xf(),s=W(l);K(s,"level","H5");var u=W(s,!0);U(s);var f=z(s,2),p=W(f,!0);U(f);var m=z(f,2),g=W(m,!0);U(m),U(l),le(y=>{te(u,`URL Details (${i()})`),te(p,i()),te(g,y)},[()=>JSON.stringify(j(o).data,null,2)],Ge),re(e,l),Ke(),n()}var Zf=de("<li> </li>"),xf=de("<ul></ul>"),eh=de("<br>"),th=de("<li> </li>"),rh=de("<li> </li>"),nh=de("<div><ui5-title> </ui5-title> <br> <div><ui5-label>Name:</ui5-label> </div> <div><ui5-label>URL:</ui5-label> </div> <br> <ui5-title> </ui5-title> <!> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul></div>",2),ih=de("<div>Plugin not found</div>");function ah(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r);let i=br(t,"pluginId",8),o=ie();Ce(()=>(a(),or(i())),()=>{ee(o,a().plugins[i()])}),Rt(),tt();var l=nr(),s=Kt(l);{var u=p=>{var m=nh(),g=W(m);K(g,"level","H5");var y=W(g,!0);U(g);var w=z(g,4),c=W(w),h=z(c);U(w);var d=z(w,2),v=W(d),_=z(v);U(d);var b=z(d,4);K(b,"level","H6");var $=W(b,!0);U(b);var P=z(b,2);{var O=X=>{var Z=xf();Te(Z,5,()=>j(o).dependencies,Oe,(J,oe)=>{var L=Zf(),C=W(L,!0);U(L),le(()=>te(C,j(oe))),re(J,L)}),U(Z),re(X,Z)},N=X=>{var Z=eh();re(X,Z)};De(P,X=>{j(o).dependencies.length?X(O):X(N,!1)})}var x=z(P,2);K(x,"level","H6");var R=W(x,!0);U(x);var V=z(x,2);Te(V,5,()=>j(o).defines,Oe,(X,Z)=>{var J=th(),oe=W(J,!0);U(J),le(()=>te(oe,`${i()}/${j(Z).name}`)),re(X,J)}),U(V);var G=z(V,2);K(G,"level","H6");var H=W(G,!0);U(G);var Q=z(G,2);Te(Q,5,()=>j(o).provides,Oe,(X,Z)=>{var J=rh(),oe=W(J,!0);U(J),le(()=>te(oe,`${j(Z).define}/${j(Z).name}`)),re(X,J)}),U(Q),U(m),le(()=>{te(y,`Plugin Details (${i()})`),te(h,` ${j(o).name??""}`),te(_,` ${j(o).url??""}`),te($,`Dependencies (${j(o).dependencies.length})`),te(R,`Defines (${j(o).defines.length})`),te(H,`Provides (${j(o).provides.length})`)}),re(p,m)},f=p=>{var m=ih();re(p,m)};De(s,p=>{j(o)?p(u):p(f,!1)})}re(e,l),Ke(),n()}var sh=de("<li> <ul><li><ui5-label>value:</ui5-label> </li> <li><ui5-label>type:</ui5-label> </li> <li><ui5-label>mandatory:</ui5-label> </li> <li><ui5-label>array:</ui5-label> </li></ul></li>",2),oh=de("<li> <ul><li><ui5-label>type:</ui5-label> </li> <li><ui5-label>url:</ui5-label> </li> <li><ui5-label>element:</ui5-label> </li></ul></li>",2),uh=de("<div><ui5-title>Provider Details</ui5-title> <br> <div><ui5-label>Name:</ui5-label> </div> <br> <ui5-title> </ui5-title> <ul></ul> <ui5-title> </ui5-title> <ul></ul></div>",2);function lh(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r);let i=br(t,"providerId",8),o=ie();Ce(()=>(a(),or(i())),()=>{ee(o,a().providers[i()])}),Rt(),tt();var l=uh(),s=W(l);K(s,"level","H5");var u=z(s,4),f=W(u),p=z(f);U(u);var m=z(u,4);K(m,"level","H6");var g=W(m,!0);U(m);var y=z(m,2);Te(y,5,()=>Object.values(j(o).getAttributes()),Oe,(d,v)=>{var _=sh(),b=W(_),$=z(b),P=W($),O=W(P),N=z(O);U(P);var x=z(P,2),R=W(x),V=z(R);U(x);var G=z(x,2),H=W(G),Q=z(H);U(G);var X=z(G,2),Z=W(X),J=z(Z);U(X),U($),U(_),le((oe,L)=>{te(b,`${j(v).name??""} `),te(N,` ${j(v).value??""}`),te(V,` ${j(v).type??""}`),te(Q,` ${oe??""}`),te(J,` ${L??""}`)},[()=>String(j(v).mandatory),()=>String(j(v).array)],Ge),re(d,_)}),U(y);var w=z(y,2);K(w,"level","H6");var c=W(w,!0);U(w);var h=z(w,2);Te(h,5,()=>Object.values(j(o).getElements()),Oe,(d,v)=>{var _=oh(),b=W(_),$=z(b),P=W($),O=W(P),N=z(O);U(P);var x=z(P,2),R=W(x),V=z(R);U(x);var G=z(x,2),H=W(G),Q=z(H);U(G),U($),U(_),le((X,Z)=>{te(b,`${j(v).name??""} `),te(N,` ${j(v).type??""}`),te(V,` ${X??""}`),te(Q,` ${Z??""}`)},[()=>String(j(v).url),()=>String(j(v).element)],Ge),re(d,_)}),U(h),U(l),le((d,v)=>{te(p,` ${j(o).name??""}`),te(g,d),te(c,v)},[()=>`Attributes (${Object.values(j(o).getAttributes()).length})`,()=>`Elements (${Object.values(j(o).getElements()).length})`],Ge),re(e,l),Ke(),n()}function ch(e,t){ze(t,!1);let r=ie(),n=ie();const a=$r.subscribe(s=>{ee(r,s.type),ee(n,s.id)});yn(()=>{a()}),tt();var i=nr(),o=Kt(i);{var l=s=>{var u=nr(),f=Kt(u);{var p=g=>{Qf(g,{get urlId(){return j(n)}})},m=(g,y)=>{{var w=h=>{ah(h,{get pluginId(){return j(n)}})},c=(h,d)=>{{var v=b=>{Yf(b,{get definitionId(){return j(n)}})},_=(b,$)=>{{var P=O=>{lh(O,{get providerId(){return j(n)}})};De(b,O=>{j(r)==="provider"&&O(P)},$)}};De(h,b=>{j(r)==="definition"?b(v):b(_,!1)},d)}};De(g,h=>{j(r)==="plugin"?h(w):h(c,!1)},y)}};De(f,g=>{j(r)==="url"?g(p):g(m,!1)})}re(s,u)};De(o,s=>{j(n)&&s(l)})}re(e,i),Ke()}var dh=de('<ui5-tab><ui5-flexible-column-layout><div slot="startColumn" style="padding-right:1em;"><!> <!></div> <div slot="midColumn"><!></div></ui5-flexible-column-layout></ui5-tab>',2);function fh(e,t){ze(t,!1);const[r,n]=Mt(),a=()=>jt(ft,"$WardStore",r),i=ie();let o=ie(),l=ie();const s=$r.subscribe(h=>{ee(o,h.type),ee(l,h.id)});let u=ie();yn(()=>{s()}),Ce(()=>(j(l),j(o)),()=>{ee(i,j(l)&&j(o)?"TwoColumnsMidExpanded":"OneColumn")}),Ce(()=>a(),()=>{ee(u,a())}),Rt(),tt();var f=dh();K(f,"text","Plugins"),K(f,"data-ui5-compact-size",!0);var p=W(f);le(()=>K(p,"layout",j(i))),be(p,"height:100%");var m=W(p),g=W(m);Ff(g,{});var y=z(g,2);Gf(y,{}),U(m);var w=z(m,2),c=W(w);ch(c,{}),U(w),U(p),U(f),re(e,f),Ke(),n()}var Zi={},Qe={},on={},du;function Oa(){return du||(du=1,Object.defineProperty(on,"__esModule",{value:!0}),on.LogLevels=void 0,on.LogLevels={DEBUG:0,INFO:1,WARN:2,ERROR:3,OFF:4}),on}var fu;function fl(){if(fu)return Qe;fu=1;var e=Qe&&Qe.__classPrivateFieldSet||function(i,o,l,s,u){if(s==="m")throw new TypeError("Private method is not writable");if(s==="a"&&!u)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!u:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return s==="a"?u.call(i,l):u?u.value=l:o.set(i,l),l},t=Qe&&Qe.__classPrivateFieldGet||function(i,o,l,s){if(l==="a"&&!s)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!s:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return l==="m"?s:l==="a"?s.call(i):s?s.value:o.get(i)},r;Object.defineProperty(Qe,"__esModule",{value:!0}),Qe.GlobalConfig=Qe.LogConfig=void 0;const n=Oa();let a=class{constructor(i=n.LogLevels.ERROR){r.set(this,void 0),e(this,r,i,"f")}get level(){return t(this,r,"f")}off(){return e(this,r,n.LogLevels.OFF,"f"),this}debug(){return e(this,r,n.LogLevels.DEBUG,"f"),this}info(){return e(this,r,n.LogLevels.INFO,"f"),this}warn(){return e(this,r,n.LogLevels.WARN,"f"),this}error(){return e(this,r,n.LogLevels.ERROR,"f"),this}};return Qe.LogConfig=a,r=new WeakMap,Qe.GlobalConfig=new a().debug(),Qe}var $t={},hu;function hh(){if(hu)return $t;hu=1;var e=$t&&$t.__classPrivateFieldSet||function(s,u,f,p,m){if(p==="m")throw new TypeError("Private method is not writable");if(p==="a"&&!m)throw new TypeError("Private accessor was defined without a setter");if(typeof u=="function"?s!==u||!m:!u.has(s))throw new TypeError("Cannot write private member to an object whose class did not declare it");return p==="a"?m.call(s,f):m?m.value=f:u.set(s,f),f},t=$t&&$t.__classPrivateFieldGet||function(s,u,f,p){if(f==="a"&&!p)throw new TypeError("Private accessor was defined without a getter");if(typeof u=="function"?s!==u||!p:!u.has(s))throw new TypeError("Cannot read private member from an object whose class did not declare it");return f==="m"?p:f==="a"?p.call(s):p?p.value:u.get(s)},r,n;Object.defineProperty($t,"__esModule",{value:!0}),$t.Logger=void 0;const a=Oa(),i=fl();function o(s,u){return s.config.level<=u&&i.GlobalConfig.level<=u}let l=class{constructor(s="Logger",u=new i.LogConfig){r.set(this,void 0),n.set(this,void 0),e(this,r,s,"f"),e(this,n,u,"f")}get name(){return t(this,r,"f")}get config(){return t(this,n,"f")}get level(){return t(this,n,"f").level}message(s){return`${this.name} - ${s}`}debug(s){o(this,a.LogLevels.DEBUG)&&console.log(this.message(s))}info(s){o(this,a.LogLevels.INFO)&&console.log(this.message(s))}warn(s){o(this,a.LogLevels.WARN)&&console.warn(this.message(s))}error(s){o(this,a.LogLevels.ERROR)&&console.error(this.message(s))}};return $t.Logger=l,r=new WeakMap,n=new WeakMap,$t}var mu;function mh(){return mu||(mu=1,function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=e.LogLevels=e.GlobalConfig=e.LogConfig=void 0;var t=fl();Object.defineProperty(e,"LogConfig",{enumerable:!0,get:function(){return t.LogConfig}}),Object.defineProperty(e,"GlobalConfig",{enumerable:!0,get:function(){return t.GlobalConfig}});var r=Oa();Object.defineProperty(e,"LogLevels",{enumerable:!0,get:function(){return r.LogLevels}});var n=hh();Object.defineProperty(e,"Logger",{enumerable:!0,get:function(){return n.Logger}})}(Zi)),Zi}var Zt=mh(),ph=de("<ui5-segmented-button-item> </ui5-segmented-button-item>",2),vh=de("<ui5-segmented-button></ui5-segmented-button>",2),gh=de("<ui5-li><ui5-label> </ui5-label></ui5-li>",2),_h=de("<ui5-panel><ui5-list></ui5-list></ui5-panel>",2),yh=de("<ui5-button>Send Test Message</ui5-button> <ui5-button>Stop Test Service</ui5-button>",3),Ph=de("<ui5-button>Start Test Service</ui5-button>",2),wh=de("<ui5-li><ui5-label> </ui5-label></ui5-li>",2),bh=de('<ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title> <!></div> <ui5-list></ui5-list></ui5-panel>',2),$h=de("<ui5-button>Reset Messages</ui5-button>",2),Eh=de('<ui5-li-custom><div style="width:100%"><div style="display:flex;align-items:center;width:100%;height:2rem;"><ui5-icon></ui5-icon> <span> </span> <ui5-label> </ui5-label></div> <div><div><ui5-label> </ui5-label></div> <div> </div></div></div></ui5-li-custom>',2),Sh=de('<ui5-tab><!> <!> <!> <ui5-panel><div style="width:100%;display:flex;align-items:center;" slot="header"><ui5-title> </ui5-title> <!></div> <ui5-list></ui5-list></ui5-panel></ui5-tab>',2);function Dh(e,t){ze(t,!1);let r=ie([]),n=ie(null),a=ie($e.Ward.data),i=ie(),o=ie();$e.Ward.register(u);const l=$e.Ward.addService("ward-dev-tools--log-service");let s=ie(null);l.addHandler(H=>{ee(r,[...j(r),{...H,timestamp:new Date}])});function u(){ee(a,$e.Ward.data)}function f(){j(s)&&j(s).sendMessage({type:"test-message",payload:"test"})}function p(){ee(s,$e.Ward.addService("ward-dev-tools--test-service"))}function m(){j(s)&&j(s).terminate(),ee(s,null)}function g(){ee(n,null),ee(r,[])}wr(()=>{j(i).addEventListener("selection-change",y),j(o).addEventListener("selection-change",w)}),yn(()=>{$e.Ward.unregister(u),l.terminate(),j(s)&&j(s).terminate()});function y(H){switch(parseInt(H.detail.selectedItems[0].getAttribute("data-log-level"))){case Zt.LogLevels.DEBUG:{$e.Ward.logConfig.debug();break}case Zt.LogLevels.INFO:{$e.Ward.logConfig.info();break}case Zt.LogLevels.WARN:{$e.Ward.logConfig.warn();break}case Zt.LogLevels.ERROR:{$e.Ward.logConfig.error();break}default:{$e.Ward.logConfig.off();break}}}function w(H){const Q=j(r)[H.detail.selectedItems[0].getAttribute("data-message-index")];ee(n,Q)}tt();var c=Sh();K(c,"text","Services"),be(c,"display:flex;"),K(c,"data-ui5-compact-size",!0);var h=W(c);{var d=H=>{var Q=vh();Te(Q,5,()=>Object.keys(Zt.LogLevels),Oe,(X,Z)=>{var J=ph();le(()=>K(J,"data-log-level",Zt.LogLevels[j(Z)])),le(()=>K(J,"pressed",Zt.LogLevels[j(Z)]===$e.Ward.logConfig.level));var oe=W(J,!0);U(J),le(()=>te(oe,j(Z))),re(X,J)}),U(Q),lt(Q,X=>ee(i,X),()=>j(i)),re(H,Q)};De(h,H=>{window.uncover.wardVersion&&H(d)})}var v=z(h,2);{var _=H=>{var Q=_h();le(()=>K(Q,"header-text",`Dispatchers (${Object.values(j(a).dispatchers).length})`)),be(Q,"margin-top:1rem;");var X=W(Q);Te(X,5,()=>Object.values(j(a).dispatchers),Oe,(Z,J)=>{var oe=gh(),L=W(oe),C=W(L,!0);U(L),U(oe),le(()=>te(C,j(J))),re(Z,oe)}),U(X),U(Q),re(H,Q)};De(v,H=>{Object.values(j(a).dispatchers).length&&H(_)})}var b=z(v,2);{var $=H=>{var Q=bh();be(Q,"margin-top:1rem;");var X=W(Q),Z=W(X);be(Z,"margin-right:auto"),K(Z,"slot","startContent"),K(Z,"level","H5");var J=W(Z,!0);U(Z);var oe=z(Z,2);{var L=D=>{var E=yh(),S=Kt(E);K(S,"design","Emphasized"),K(S,"slot","endContent");var M=z(S,2);be(M,"margin-left: 0.5rem"),K(M,"design","Negative"),K(M,"slot","endContent"),pr("click",S,f),pr("click",M,m),re(D,E)},C=D=>{var E=Ph();K(E,"design","Emphasized"),K(E,"slot","endContent"),pr("click",E,p),re(D,E)};De(oe,D=>{j(s)?D(L):D(C,!1)})}U(X);var T=z(X,2);Te(T,5,()=>Object.values(j(a).services),Oe,(D,E)=>{var S=wh();le(()=>K(S,"additional-text",`${j(r).filter(q=>q._serviceId===j(E).id).length} messages`)),K(S,"additional-text-state","Information"),le(()=>K(S,"icon",j(E).type==="event"?"enter-more":"journey-arrive")),le(()=>K(S,"tooltip",j(E).type==="event"?"local service":"iframe service"));var M=W(S),B=W(M,!0);U(M),U(S),le(()=>te(B,j(E).id)),re(D,S)}),U(T),U(Q),le(D=>te(J,D),[()=>`Services (${Object.values(j(a).services).length})`],Ge),re(H,Q)};De(b,H=>{Object.values(j(a).services).length&&H($)})}var P=z(b,2);le(()=>K(P,"header-text",`Messages (${j(r).length})`)),be(P,"margin-top:1rem;");var O=W(P),N=W(O);be(N,"margin-right:auto"),K(N,"slot","startContent"),K(N,"level","H5");var x=W(N,!0);U(N);var R=z(N,2);{var V=H=>{var Q=$h();K(Q,"slot","endContent"),pr("click",Q,g),re(H,Q)};De(R,H=>{j(r).length&&H(V)})}U(O);var G=z(O,2);K(G,"mode","SingleSelect"),Te(G,5,()=>j(r).toReversed(),Oe,(H,Q,X)=>{var Z=Eh();be(Z,"padding:0.5rem"),le(()=>K(Z,"data-message-index",j(r).length-1-X));var J=W(Z),oe=W(J),L=W(oe);be(L,"margin-inline-end:0.5rem"),K(L,"name","email");var C=z(L,2),T=W(C,!0);U(C);var D=z(C,2);be(D,"margin-inline-start:auto");var E=W(D,!0);U(D),U(oe);var S=z(oe,2),M=W(S),B=W(M);be(B,"height:1.5rem");var q=W(B,!0);U(B),U(M);var ce=z(M,2),ue=W(ce,!0);U(ce),U(S),U(J),U(Z),le((k,I)=>{te(T,j(Q).type),te(E,k),be(S,`display:${j(n)===j(Q)?"block":"none"}`),te(q,`Sent by ${j(Q)._dispatcherId} | ${j(Q)._serviceId}`),te(ue,I)},[()=>j(Q).timestamp.toLocaleTimeString("en-us",{hour12:!1}),()=>JSON.stringify(j(Q).payload,null,2)],Ge),re(H,Z)}),U(G),lt(G,H=>ee(o,H),()=>j(o)),U(P),U(c),le(()=>te(x,`Messages (${j(r).length})`)),re(e,c),Ke()}var Oh=de("<ui5-tabcontainer><!> <!></ui5-tabcontainer>",2);function Th(e){var t=Oh();K(t,"fixed",!0),K(t,"data-ui5-compact-size",!0),sa(t,1,"svelte-1qpu4yh");var r=W(t);fh(r,{});var n=z(r,2);Dh(n,{}),U(t),re(e,t)}customElements.define("ward-dev-tools-content",Zu(Th,{},[],[],!0));
